# Comprehensive Template Registry for Scout Analytics
# Includes all possible dimensional permutations and classifications

metadata:
  name: "Scout Analytics Comprehensive Template Registry"
  version: "2.0.0"
  description: "Complete dimensional analysis coverage with 1925+ possible combinations"
  generated_date: "2025-09-22"
  coverage: "All 2-way through 4-way dimensional combinations"
  total_templates: 56  # 6 original + 50 dynamic priority
  total_possible_combinations: 1925

# Original Core Templates (Essential Business Questions)
core_templates:
  time_of_day_category:
    name: "Time of Day Category Analysis"
    description: "Peak shopping times by product category"
    business_question: "Which categories peak at different times of day?"
    dimensions: ["time_hour", "category"]
    complexity: "medium"
    priority: "high"
    use_cases: ["operational_planning", "inventory_management", "staffing_optimization"]

  age_bracket_brand:
    name: "Age Bracket Brand Preferences"
    description: "Brand preferences across age demographics"
    business_question: "What brands do different age groups prefer?"
    dimensions: ["age_bracket", "brand"]
    complexity: "low"
    priority: "high"
    use_cases: ["marketing_targeting", "product_positioning", "demographic_analysis"]

  basket_size_payment:
    name: "Basket Size Payment Method Correlation"
    description: "Payment method preferences by basket size"
    business_question: "How do payment method preferences correlate with basket size?"
    dimensions: ["basket_size", "payment_method"]
    complexity: "low"
    priority: "medium"
    use_cases: ["payment_optimization", "customer_experience", "transaction_analysis"]

  gender_shopping_patterns:
    name: "Gender Shopping Patterns"
    description: "Shopping time preferences by gender"
    business_question: "When do different genders prefer to shop?"
    dimensions: ["gender", "time_daypart"]
    complexity: "low"
    priority: "high"
    use_cases: ["demographic_targeting", "marketing_timing", "customer_behavior"]

  substitution_analysis:
    name: "Product Substitution Analysis"
    description: "Substitution patterns by category and reason"
    business_question: "What substitution patterns exist and why?"
    dimensions: ["category", "substitute_reason"]
    complexity: "medium"
    priority: "medium"
    use_cases: ["inventory_management", "customer_satisfaction", "product_planning"]

  store_performance_comparison:
    name: "Store Performance Comparison"
    description: "Revenue and transaction comparison across stores"
    business_question: "How do stores compare in performance metrics?"
    dimensions: ["store", "time_date"]
    complexity: "medium"
    priority: "high"
    use_cases: ["store_management", "performance_optimization", "regional_analysis"]

# Dynamic Priority Templates (Top 50 High-Value Combinations)
priority_dynamic_templates:

  # 4-Way Combinations (Highest Business Value)
  time_daypart_category_gender_age_bracket:
    name: "Comprehensive Customer Behavior Analysis"
    description: "4-way analysis of shopping patterns across demographics and time"
    business_question: "When do customers shop for specific Day Part, Product Category, Customer Gender, Age Bracket?"
    dimensions: ["time_daypart", "category", "gender", "age_bracket"]
    complexity: "high"
    priority: "critical"
    value_proposition: "Customer Behavior Analysis"
    use_cases: ["comprehensive_targeting", "behavioral_segmentation", "customer_journey_mapping"]

  time_daypart_category_brand_store:
    name: "Store Brand Performance by Time"
    description: "Brand performance across stores and dayparts"
    business_question: "When do customers shop for specific Day Part, Product Category, Brand, Store?"
    dimensions: ["time_daypart", "category", "brand", "store"]
    complexity: "high"
    priority: "critical"
    value_proposition: "Performance Analysis"
    use_cases: ["store_optimization", "brand_management", "inventory_planning"]

  time_daypart_category_store_payment_method:
    name: "Operational Payment Optimization"
    description: "Payment method patterns across stores and times"
    business_question: "When do customers shop for specific Day Part, Product Category, Store, Payment Method?"
    dimensions: ["time_daypart", "category", "store", "payment_method"]
    complexity: "high"
    priority: "high"
    value_proposition: "Operational Optimization"
    use_cases: ["payment_system_optimization", "cashier_training", "operational_efficiency"]

  # 3-Way Strategic Combinations
  time_daypart_category_store:
    name: "Store Category Performance by Time"
    description: "Category performance across stores and dayparts"
    business_question: "When do customers shop for specific Day Part, Product Category, Store?"
    dimensions: ["time_daypart", "category", "store"]
    complexity: "medium"
    priority: "high"
    value_proposition: "Performance Analysis"
    use_cases: ["category_management", "store_planning", "time_optimization"]

  category_brand_gender:
    name: "Gender Brand Preferences by Category"
    description: "Brand preferences by gender within categories"
    business_question: "What brand preferences exist across Category, Brand, Customer Gender?"
    dimensions: ["category", "brand", "gender"]
    complexity: "medium"
    priority: "high"
    value_proposition: "Preference Analysis"
    use_cases: ["targeted_marketing", "product_placement", "gender_specific_campaigns"]

  store_payment_method_basket_size:
    name: "Payment Behavior by Store and Basket Size"
    description: "Payment method adoption patterns by transaction value"
    business_question: "How do stores compare across Store, Payment Method, Basket Size?"
    dimensions: ["store", "payment_method", "basket_size"]
    complexity: "medium"
    priority: "medium"
    value_proposition: "Operational Optimization"
    use_cases: ["payment_infrastructure", "transaction_optimization", "customer_experience"]

# Dimensional Classification System
dimensional_categories:

  temporal:
    description: "Time-based dimensions for temporal analysis"
    dimensions:
      - time_hour: "Specific hour (0-23)"
      - time_daypart: "Morning/Afternoon/Evening/Night"
      - time_weekday: "Day of week"
      - time_date: "Specific date"
    analysis_types:
      - peak_time_identification
      - seasonal_patterns
      - operational_scheduling
      - customer_timing_preferences

  demographic:
    description: "Customer demographic dimensions"
    dimensions:
      - gender: "Male/Female customer segments"
      - age_bracket: "Age group classifications"
    analysis_types:
      - segment_preferences
      - demographic_targeting
      - customer_profiling
      - behavioral_segmentation

  product:
    description: "Product and brand dimensions"
    dimensions:
      - category: "Product categories"
      - brand: "Brand names"
      - product: "Specific products/SKUs"
    analysis_types:
      - product_performance
      - brand_analysis
      - category_management
      - cross_selling_opportunities

  location:
    description: "Geographic and store dimensions"
    dimensions:
      - store: "Store identifier"
      - store_location: "Store with municipality"
    analysis_types:
      - store_performance
      - geographic_analysis
      - regional_preferences
      - location_optimization

  transaction:
    description: "Transaction-related dimensions"
    dimensions:
      - payment_method: "Payment type"
      - basket_size: "Transaction value tier"
      - price_range: "Price sensitivity segments"
    analysis_types:
      - payment_optimization
      - transaction_analysis
      - price_sensitivity
      - value_tier_behavior

  operational:
    description: "Operational and service dimensions"
    dimensions:
      - substitute_reason: "Product substitution reasons"
    analysis_types:
      - inventory_management
      - customer_satisfaction
      - service_quality
      - operational_efficiency

# Business Value Matrix
business_value_combinations:

  customer_behavior_analysis:
    priority: "critical"
    description: "Understanding customer shopping patterns and preferences"
    key_combinations:
      - ["time_daypart", "category", "gender", "age_bracket"]
      - ["time_daypart", "category", "gender"]
      - ["age_bracket", "brand", "category"]
      - ["gender", "category", "payment_method"]
    business_impact: "High - Direct customer insights for targeting and personalization"

  operational_optimization:
    priority: "high"
    description: "Optimizing store operations and resource allocation"
    key_combinations:
      - ["time_daypart", "store", "category", "payment_method"]
      - ["store", "time_hour", "substitute_reason"]
      - ["store", "payment_method", "basket_size"]
    business_impact: "High - Direct operational cost savings and efficiency gains"

  performance_analysis:
    priority: "high"
    description: "Measuring and comparing performance across dimensions"
    key_combinations:
      - ["store", "category", "brand", "time_daypart"]
      - ["store", "time_date", "category"]
      - ["brand", "category", "store"]
    business_impact: "Medium-High - Strategic decision support"

  preference_analysis:
    priority: "medium"
    description: "Understanding customer preferences and choices"
    key_combinations:
      - ["category", "brand", "gender", "age_bracket"]
      - ["payment_method", "age_bracket", "basket_size"]
      - ["brand", "price_range", "gender"]
    business_impact: "Medium - Product and marketing strategy insights"

# Usage Guidelines
usage_guidelines:

  template_selection:
    by_complexity:
      low: "Real-time dashboards, automated reports, simple KPIs"
      medium: "Scheduled analysis, business reviews, trend monitoring"
      high: "Deep dive analysis, strategic planning, comprehensive audits"

    by_business_function:
      operations: ["store_performance", "operational_optimization", "inventory_management"]
      marketing: ["customer_behavior", "demographic_analysis", "preference_analysis"]
      finance: ["revenue_analysis", "transaction_optimization", "performance_metrics"]
      strategy: ["comprehensive_analysis", "cross_dimensional_insights", "trend_analysis"]

  implementation_priorities:
    phase_1_core: "6 original templates - immediate business value"
    phase_2_priority: "Top 20 dynamic templates - expanded insights"
    phase_3_comprehensive: "Full 50 dynamic templates - complete coverage"
    phase_4_custom: "On-demand template generation for specific business questions"

  performance_considerations:
    real_time: "Use 2-way combinations with low cardinality dimensions"
    scheduled: "Use 3-way combinations with medium complexity"
    ad_hoc: "Use 4-way combinations for deep analysis sessions"
    data_volume: "Consider date range limits for high-cardinality combinations"

# Integration Specifications
rag_cag_integration:

  semantic_search:
    embedding_coverage: "All 1925 possible combinations indexed"
    search_strategy: "Business question → dimensional mapping → template selection"
    similarity_threshold: 0.75

  query_processing:
    natural_language_examples:
      - "What do young women buy in the evening?" → time_daypart_category_gender_age_bracket
      - "Which stores perform best for specific brands?" → store_brand_category
      - "How do payment preferences vary by basket size?" → payment_method_basket_size_store

  dynamic_generation:
    on_demand_templates: "Generate any 2-4 way combination not in priority list"
    parameter_validation: "Automatic dimension validation and parameter mapping"
    business_context: "Auto-generate business questions for any combination"

# Quality and Validation
validation_framework:

  template_quality:
    sql_validation: "Syntax and performance validation for all templates"
    business_logic: "Business rule compliance and NCR geographic bounds"
    parameter_safety: "SQL injection prevention and type validation"

  data_quality:
    completeness_checks: "Minimum data thresholds for reliable results"
    accuracy_validation: "Cross-validation with flat vs crosstab views"
    timeliness_monitoring: "Data freshness and update frequency tracking"

  performance_monitoring:
    execution_time: "Query performance tracking and optimization"
    resource_usage: "Memory and CPU usage monitoring"
    success_rates: "Template execution success rate tracking"