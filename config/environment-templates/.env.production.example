# Google Drive ETL Production Environment Configuration
# Scout v7 Analytics Platform
# Last Updated: 2025-09-16

# =====================================================
# SUPABASE CONFIGURATION
# =====================================================

# Supabase Project Settings
SUPABASE_URL="https://your-production-project-ref.supabase.co"
SUPABASE_ANON_KEY="your-production-anon-key"
SUPABASE_SERVICE_ROLE_KEY="your-production-service-role-key"

# Database Connection (for direct access)
DATABASE_URL="postgresql://postgres:[password]@db.your-production-project-ref.supabase.co:5432/postgres"
DATABASE_DIRECT_URL="postgresql://postgres.your-production-project-ref:[password]@aws-0-us-east-1.pooler.supabase.com:6543/postgres"

# =====================================================
# GOOGLE DRIVE API CONFIGURATION
# =====================================================

# OAuth 2.0 Configuration
GOOGLE_DRIVE_CLIENT_ID="your-oauth-client-id.apps.googleusercontent.com"
GOOGLE_DRIVE_CLIENT_SECRET="your-oauth-client-secret"
GOOGLE_DRIVE_REFRESH_TOKEN="your-long-lived-refresh-token"

# Service Account Configuration (Base64 encoded JSON)
GOOGLE_DRIVE_SERVICE_ACCOUNT_KEY="base64-encoded-service-account-json"

# Project and Folder Configuration
GOOGLE_CLOUD_PROJECT_ID="your-google-cloud-project-id"
GOOGLE_DRIVE_ROOT_FOLDER_ID="1j3CGrL1r_jX_K21mstrSh8lrLNzDnpiA"
GOOGLE_DRIVE_WATCH_FOLDERS='["1j3CGrL1r_jX_K21mstrSh8lrLNzDnpiA"]'

# =====================================================
# PROCESSING CONFIGURATION
# =====================================================

# File Processing Limits
DRIVE_MAX_FILE_SIZE_MB="100"
DRIVE_PROCESSING_BATCH_SIZE="10"
DRIVE_MAX_PARALLEL_PROCESSING="5"
DRIVE_PROCESSING_TIMEOUT_SECONDS="300"

# Content Extraction Settings
DRIVE_ENABLE_OCR="true"
DRIVE_ENABLE_PII_DETECTION="true"
DRIVE_ENABLE_AI_ANALYSIS="true"
DRIVE_MAX_CONTENT_LENGTH="1000000"

# Sync Configuration
DRIVE_SYNC_INTERVAL_MINUTES="60"
DRIVE_INCREMENTAL_SYNC_ENABLED="true"
DRIVE_FULL_SYNC_SCHEDULE="0 2 * * 0"  # Weekly full sync on Sunday 2 AM

# =====================================================
# WEBHOOK CONFIGURATION
# =====================================================

# Webhook Security
DRIVE_WEBHOOK_SECRET="your-secure-32-character-webhook-secret"
DRIVE_WEBHOOK_TIMEOUT_SECONDS="30"

# Webhook Endpoints
DRIVE_WEBHOOK_BASE_URL="https://your-production-project-ref.supabase.co/functions/v1"
DRIVE_WEBHOOK_HANDLER_URL="${DRIVE_WEBHOOK_BASE_URL}/drive-webhook-handler"

# Webhook Subscription Settings
DRIVE_WEBHOOK_TTL_HOURS="24"
DRIVE_WEBHOOK_AUTO_RENEWAL="true"

# =====================================================
# AI PROCESSING CONFIGURATION
# =====================================================

# OpenAI Configuration (for content analysis)
OPENAI_API_KEY="your-openai-api-key"
OPENAI_MODEL="gpt-4o-mini"
OPENAI_MAX_TOKENS="4000"
OPENAI_TEMPERATURE="0.3"

# Anthropic Configuration (for document intelligence)
ANTHROPIC_API_KEY="your-anthropic-api-key"
ANTHROPIC_MODEL="claude-3-haiku-20240307"
ANTHROPIC_MAX_TOKENS="4000"

# AI Processing Settings
AI_ANALYSIS_ENABLED="true"
AI_SENTIMENT_ANALYSIS="true"
AI_ENTITY_EXTRACTION="true"
AI_DOCUMENT_CLASSIFICATION="true"

# =====================================================
# SECURITY CONFIGURATION
# =====================================================

# Encryption Settings
DRIVE_ENCRYPTION_KEY="your-32-character-encryption-key"
DRIVE_ENCRYPTION_ALGORITHM="AES-256-GCM"

# Access Control
DRIVE_ENABLE_ROW_LEVEL_SECURITY="true"
DRIVE_ALLOWED_ORGANIZATIONS='["tbwa"]'
DRIVE_API_RATE_LIMIT_PER_MINUTE="60"

# Data Protection
DRIVE_PII_ANONYMIZATION="true"
DRIVE_AUDIT_LOGGING="true"
DRIVE_DATA_RETENTION_DAYS="2555"  # 7 years

# =====================================================
# MONITORING AND OBSERVABILITY
# =====================================================

# Logging Configuration
LOG_LEVEL="info"
LOG_FORMAT="json"
LOG_FILE_PATH="/var/log/scout/drive-etl.log"
LOG_RETENTION_DAYS="30"

# Metrics and Monitoring
ENABLE_METRICS="true"
METRICS_PORT="9090"
HEALTH_CHECK_INTERVAL_SECONDS="30"

# Sentry Configuration (Error Tracking)
SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"
SENTRY_ENVIRONMENT="production"
SENTRY_SAMPLE_RATE="0.1"

# Datadog Configuration (APM and Metrics)
DATADOG_API_KEY="your-datadog-api-key"
DATADOG_APP_KEY="your-datadog-app-key"
DATADOG_SITE="datadoghq.com"
DATADOG_ENV="production"
DATADOG_SERVICE="scout-drive-etl"

# =====================================================
# NOTIFICATION CONFIGURATION
# =====================================================

# Slack Integration
SLACK_WEBHOOK_URL="https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK"
SLACK_CHANNEL="#scout-alerts"
SLACK_BOT_TOKEN="your-slack-bot-token"

# Email Notifications
SMTP_HOST="smtp.gmail.com"
SMTP_PORT="587"
SMTP_USERNAME="alerts@tbwa.com"
SMTP_PASSWORD="your-smtp-password"
SMTP_FROM_EMAIL="alerts@tbwa.com"
SMTP_TO_EMAIL="dev-team@tbwa.com"

# =====================================================
# PERFORMANCE CONFIGURATION
# =====================================================

# Database Connection Pooling
DB_POOL_MIN_CONNECTIONS="5"
DB_POOL_MAX_CONNECTIONS="20"
DB_POOL_IDLE_TIMEOUT_SECONDS="300"

# Caching Configuration
CACHE_ENABLED="true"
CACHE_TYPE="redis"
CACHE_URL="redis://your-redis-instance:6379"
CACHE_TTL_SECONDS="3600"

# Request Timeout Settings
HTTP_REQUEST_TIMEOUT_SECONDS="30"
GOOGLE_API_TIMEOUT_SECONDS="60"
DATABASE_QUERY_TIMEOUT_SECONDS="30"

# =====================================================
# FEATURE FLAGS
# =====================================================

# Core Features
FEATURE_DRIVE_MIRROR_ENABLED="true"
FEATURE_CONTENT_EXTRACTION_ENABLED="true"
FEATURE_AI_PROCESSING_ENABLED="true"
FEATURE_WEBHOOK_PROCESSING_ENABLED="true"

# Advanced Features
FEATURE_REAL_TIME_SYNC="true"
FEATURE_BATCH_PROCESSING="true"
FEATURE_PARALLEL_PROCESSING="true"
FEATURE_AUTO_CLASSIFICATION="true"

# Experimental Features
FEATURE_VECTOR_SIMILARITY="false"
FEATURE_ADVANCED_OCR="false"
FEATURE_MULTI_LANGUAGE_PROCESSING="false"

# =====================================================
# COMPLIANCE AND GOVERNANCE
# =====================================================

# Data Governance
DATA_CLASSIFICATION_ENABLED="true"
PII_DETECTION_REQUIRED="true"
AUDIT_TRAIL_ENABLED="true"
COMPLIANCE_SCANNING_ENABLED="true"

# Regulatory Compliance
GDPR_COMPLIANCE_MODE="true"
CCPA_COMPLIANCE_MODE="true"
DATA_SUBJECT_RIGHTS_ENABLED="true"
RIGHT_TO_DELETION_ENABLED="true"

# Business Rules
AUTOMATIC_DOCUMENT_CLASSIFICATION="true"
BUSINESS_VALUE_ASSESSMENT="true"
RISK_INDICATOR_DETECTION="true"
QUALITY_SCORING_ENABLED="true"

# =====================================================
# DISASTER RECOVERY CONFIGURATION
# =====================================================

# Backup Settings
BACKUP_ENABLED="true"
BACKUP_SCHEDULE="0 3 * * *"  # Daily at 3 AM
BACKUP_RETENTION_DAYS="90"
BACKUP_ENCRYPTION_ENABLED="true"

# Recovery Settings
RECOVERY_POINT_OBJECTIVE_HOURS="4"
RECOVERY_TIME_OBJECTIVE_HOURS="1"
FAILOVER_ENABLED="true"
CROSS_REGION_REPLICATION="true"

# =====================================================
# DEVELOPMENT AND TESTING
# =====================================================

# Environment Settings
NODE_ENV="production"
DEBUG_MODE="false"
TEST_MODE="false"
DRY_RUN_MODE="false"

# API Versioning
API_VERSION="v1"
BACKWARD_COMPATIBILITY_ENABLED="true"
DEPRECATION_WARNINGS_ENABLED="false"

# =====================================================
# OPERATIONAL SETTINGS
# =====================================================

# Maintenance Windows
MAINTENANCE_WINDOW_START="02:00"
MAINTENANCE_WINDOW_END="04:00"
MAINTENANCE_TIMEZONE="UTC"

# System Limits
MAX_CONCURRENT_EXECUTIONS="10"
MAX_QUEUE_SIZE="1000"
MAX_RETRY_ATTEMPTS="3"
RETRY_DELAY_SECONDS="60"

# Circuit Breaker Settings
CIRCUIT_BREAKER_ENABLED="true"
CIRCUIT_BREAKER_FAILURE_THRESHOLD="5"
CIRCUIT_BREAKER_TIMEOUT_SECONDS="60"
CIRCUIT_BREAKER_RECOVERY_TIMEOUT_SECONDS="300"

# =====================================================
# CUSTOM CONFIGURATION
# =====================================================

# Organization Specific
ORGANIZATION_NAME="TBWA"
ORGANIZATION_DOMAIN="tbwa.com"
ORGANIZATION_TIMEZONE="Asia/Manila"

# Custom Business Logic
CUSTOM_CLASSIFICATION_RULES_ENABLED="true"
CUSTOM_PII_PATTERNS_ENABLED="true"
CUSTOM_BUSINESS_RULES_ENABLED="true"

# Integration Settings
INTEGRATE_WITH_CRM="false"
INTEGRATE_WITH_DAM="false"
INTEGRATE_WITH_PROJECT_MANAGEMENT="false"

# =====================================================
# NOTES AND DOCUMENTATION
# =====================================================

# Configuration Notes:
# - All sensitive values should be stored in Supabase Vault/Secrets
# - Environment variables should be set via CI/CD pipeline
# - Review and rotate secrets regularly (quarterly)
# - Monitor API quota usage and adjust limits as needed
# - Test disaster recovery procedures monthly
# - Update this configuration when adding new features

# Support Contacts:
# - Technical Support: dev-team@tbwa.com
# - Security Issues: security@tbwa.com
# - Business Questions: business-analytics@tbwa.com

# Last Review Date: 2025-09-16
# Next Review Date: 2025-12-16
# Configuration Version: v1.0.0