(()=>{var e={};e.id=499,e.ids=[499],e.modules={20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},32081:e=>{"use strict";e.exports=require("child_process")},22057:e=>{"use strict";e.exports=require("constants")},6113:e=>{"use strict";e.exports=require("crypto")},71891:e=>{"use strict";e.exports=require("dgram")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},15673:e=>{"use strict";e.exports=require("node:events")},84492:e=>{"use strict";e.exports=require("node:stream")},41041:e=>{"use strict";e.exports=require("node:url")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},71576:e=>{"use strict";e.exports=require("string_decoder")},39512:e=>{"use strict";e.exports=require("timers")},24404:e=>{"use strict";e.exports=require("tls")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},30802:(e,t,r)=>{"use strict";r.r(t),r.d(t,{originalPathname:()=>O,patchFetch:()=>N,requestAsyncStorage:()=>A,routeModule:()=>S,serverHooks:()=>C,staticGenerationAsyncStorage:()=>I});var n={};r.r(n),r.d(n,{GET:()=>v});var i=r(49303),o=r(88716),s=r(60670),a=r(87070),l=r(33049),c=r.n(l);let u=null;function h(){if("mock"===process.env.DAL_MODE)return null;if(!u){if(!process.env.AZURE_SQL_SERVER)throw Error("AZURE_SQL_SERVER environment variable not set");let e={server:process.env.AZURE_SQL_SERVER,database:process.env.AZURE_SQL_DATABASE,user:process.env.AZURE_SQL_USER,password:process.env.AZURE_SQL_PASSWORD,options:{encrypt:!0,trustServerCertificate:!1}};u=new(c()).ConnectionPool(e).connect().then(e=>(e.on("error",e=>console.error("[mssql] pool error",e)),e)).catch(e=>{throw u=null,e})}return u}async function d(e,t){t&&await e.request().input("key",c().NVarChar(128),"TenantCode").input("val",c().NVarChar(128),t).query("EXEC sys.sp_set_session_context @key=@key, @value=@val;")}let f=e=>e?new Date(e):void 0,p=(e=new Date)=>new Date(e.getFullYear(),e.getMonth(),1);async function m(e,t){switch(e){case"kpis":return g(t);case"brands":return y(t);case"compare":return _(t);case"transactions":return E(t);case"storesGeo":return T(t);case"health":return b()}}async function g(e){if("mock"===process.env.DAL_MODE)return[{label:"Revenue",value:125e5,fmt:"currency"},{label:"Transactions",value:18234,fmt:"int"},{label:"Avg Basket",value:2.7,fmt:"decimal"}];let t=await h();await d(t,process.env.TENANT_CODE);let r=f(e.from)??p(),n=f(e.to)??new Date,i=(await t.request().input("from",c().DateTime2,r).input("to",c().DateTime2,n).query(`
      SELECT
        SUM(peso_value) as revenue,
        COUNT(*) as txns,
        AVG(peso_value*1.0) as avg_basket
      FROM gold.scout_dashboard_transactions
      WHERE timestamp BETWEEN @from AND @to;
    `)).recordset[0]||{};return[{label:"Revenue",value:Number(i.revenue||0),fmt:"currency"},{label:"Transactions",value:Number(i.txns||0),fmt:"int"},{label:"Avg Basket",value:Number(i.avg_basket||0),fmt:"decimal"}]}async function y(e){if("mock"===process.env.DAL_MODE)return{items:[{brand_name:"Alaska",is_owned:1,revenue:1e6,transactions:1200,market_share:.18},{brand_name:"Coca-Cola",is_owned:0,revenue:85e4,transactions:980,market_share:.15}],summary:{total_revenue:55e5}};let t=await h();await d(t,process.env.TENANT_CODE);let r=f(e.from)??p(),n=f(e.to)??new Date,i=(await t.request().input("from",c().DateTime2,r).input("to",c().DateTime2,n).query(`
      ;WITH brand_agg AS (
        SELECT
          COALESCE(brand_name, 'Unknown') AS brand_name,
          SUM(peso_value) AS revenue,
          COUNT(*) AS transactions
        FROM gold.scout_dashboard_transactions
        WHERE timestamp BETWEEN @from AND @to
          AND brand_name IS NOT NULL
        GROUP BY brand_name
      )
      SELECT
        b.brand_name,
        CAST(CASE WHEN br.is_owned = 1 THEN 1 ELSE 0 END AS bit) AS is_owned,
        b.revenue,
        b.transactions,
        CAST(b.revenue / NULLIF(SUM(b.revenue) OVER(),0) AS float) AS market_share
      FROM brand_agg b
      LEFT JOIN dbo.brands_ref br ON br.brand_name = b.brand_name
      ORDER BY b.revenue DESC;
    `)).recordset,o=i.reduce((e,t)=>e+Number(t.revenue||0),0);return{items:i,summary:{total_revenue:o}}}async function _(e){if("mock"===process.env.DAL_MODE)return{pairs:[{brand:"Alaska",revenue:1e6,txns:1200},{brand:"Coca-Cola",revenue:85e4,txns:980}],insights:["Alaska leads revenue by 17.6% over Coca-Cola in the selected period."]};let t=await h();await d(t,process.env.TENANT_CODE);let r=f(e.from)??p(),n=f(e.to)??new Date,i=(e.brands||"").split(",").map(e=>e.trim()).filter(Boolean);if(0===i.length)return{pairs:[],insights:["No brands specified. Add ?brands=BrandA,BrandB"]};let o=i.map((e,t)=>`SELECT ${t} ord, @from as f, @to as t, @b${t} as brand`).join(" UNION ALL "),s=t.request().input("from",c().DateTime2,r).input("to",c().DateTime2,n);i.forEach((e,t)=>s.input(`b${t}`,c().NVarChar(200),e));let a=(await s.query(`
    WITH sel AS (${o})
    SELECT s.brand,
           SUM(t.peso_value) as revenue,
           COUNT(*) as txns
    FROM sel s
    LEFT JOIN gold.scout_dashboard_transactions t
      ON t.timestamp BETWEEN s.f AND s.t
     AND t.brand_name = s.brand
    GROUP BY s.brand
    ORDER BY MIN(s.ord);
  `)).recordset,l=[];if(a.length>=2){let[e,t]=a,r=Number(e.revenue||0)-Number(t.revenue||0);isNaN(r)||l.push(`${e.brand} ${r>=0?"leads":"trails"} ${t.brand} by ${Math.abs(r).toLocaleString()} in revenue.`)}return{pairs:a,insights:l}}async function E(e){if("mock"===process.env.DAL_MODE)return{items:[{canonical_tx_id:"abc",amount:99.5}],page:1,pageSize:50,total:1};let t=await h();await d(t,process.env.TENANT_CODE);let r=Math.max(1,parseInt(e.page||"1",10)),n=Math.min(200,Math.max(1,parseInt(e.pageSize||"50",10)));return{items:(await t.request().input("from",c().DateTime2,f(e.from)??p()).input("to",c().DateTime2,f(e.to)??new Date).input("offset",c().Int,(r-1)*n).input("limit",c().Int,n).query(`
      WITH base AS (
        SELECT t.id as canonical_tx_id, t.peso_value as amount, t.timestamp as transaction_timestamp,
               t.store_id, t.brand_name, t.product_category,
               ROW_NUMBER() OVER (ORDER BY t.timestamp DESC) rn
        FROM gold.scout_dashboard_transactions t
        WHERE t.timestamp BETWEEN @from AND @to
      )
      SELECT * FROM base WHERE rn BETWEEN @offset+1 AND @offset+@limit
      ORDER BY rn;
    `)).recordset,page:r,pageSize:n}}async function T(e){if("mock"===process.env.DAL_MODE)return{features:[{type:"Feature",geometry:{type:"Point",coordinates:[121,14.6]},properties:{store_id:101,revenue:12345}}],summary:{count:1}};let t=await h();await d(t,process.env.TENANT_CODE);let r=(await t.request().query(`
    SELECT t.store_id,
           AVG(CAST(t.longitude AS FLOAT)) as longitude,
           AVG(CAST(t.latitude AS FLOAT)) as latitude,
           t.location_city,
           SUM(t.peso_value) AS revenue,
           COUNT(*) as transaction_count
    FROM gold.scout_dashboard_transactions t
    WHERE t.longitude IS NOT NULL
      AND t.latitude IS NOT NULL
      AND t.store_id IS NOT NULL
      AND ISNUMERIC(t.longitude) = 1
      AND ISNUMERIC(t.latitude) = 1
      AND t.timestamp >= DATEADD(DAY,-30,GETDATE())
    GROUP BY t.store_id, t.location_city
    ORDER BY SUM(t.peso_value) DESC;
  `)).recordset.filter(e=>null!=e.longitude&&null!=e.latitude).map(e=>({type:"Feature",geometry:{type:"Point",coordinates:[Number(e.longitude),Number(e.latitude)]},properties:{store_id:e.store_id,location_city:e.location_city,revenue:Number(e.revenue||0),transaction_count:e.transaction_count}}));return{features:r,summary:{count:r.length}}}async function b(){if("mock"===process.env.DAL_MODE)return{status:"ok-mock",time:new Date().toISOString()};try{let e=await h();return await d(e,process.env.TENANT_CODE),await e.request().query("SELECT TOP 1 1 as ok;"),{status:"ok",time:new Date().toISOString()}}catch(e){return{status:"degraded",error:e?.message}}}let w=["kpis","brands","storesGeo"];async function v(e){let t=process.env.SC_OUTBOUND_TOKEN;if(t){let r=e.headers.get("authorization")||"";if(!(r.startsWith("Bearer ")&&r.split(" ")[1]===t))return a.NextResponse.json({error:"Unauthorized"},{status:401})}let r=new URL(e.url),n=(r.searchParams.get("sections")||"").split(",").map(e=>e.trim()).filter(Boolean),i=n.length?n:w,o={from:r.searchParams.get("from")||void 0,to:r.searchParams.get("to")||void 0,brands:r.searchParams.get("brands")||void 0,stores:r.searchParams.get("stores")||void 0,page:r.searchParams.get("page")||void 0,pageSize:r.searchParams.get("pageSize")||void 0},s=await Promise.all(i.map(async e=>{try{let t=await m(e,o);return[e,{ok:!0,data:t}]}catch(t){return[e,{ok:!1,error:t?.message||"failed"}]}})),l={},c={};for(let[e,t]of s)t.ok?l[e]=t.data:c[e]={message:t.error};let u={bundle:l,timestamp:new Date().toISOString()},h=Object.keys(c).length?207:200;return 207===h&&(u.errors=c),a.NextResponse.json(u,{status:h})}let S=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/dash/route",pathname:"/api/dash",filename:"route",bundlePath:"app/api/dash/route"},resolvedPagePath:"/Users/tbwa/scout-v7/apps/dal-agent/app/api/dash/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:A,staticGenerationAsyncStorage:I,serverHooks:C}=S,O="/api/dash/route";function N(){return(0,s.patchFetch)({serverHooks:C,staticGenerationAsyncStorage:I})}},60052:(e,t,r)=>{"use strict";let n,i,o,s;r.r(t),r.d(t,{AggregateAuthenticationError:()=>n1,AggregateAuthenticationErrorName:()=>n0,AuthenticationError:()=>nJ,AuthenticationErrorName:()=>nX,AuthenticationRequiredError:()=>n5,AuthorizationCodeCredential:()=>aq,AzureAuthorityHosts:()=>rM,AzureCliCredential:()=>sZ,AzureDeveloperCliCredential:()=>a_,AzurePowerShellCredential:()=>s3,ChainedTokenCredential:()=>s7,ClientAssertionCredential:()=>sC,ClientCertificateCredential:()=>ao,ClientSecretCredential:()=>al,CredentialUnavailableError:()=>nQ,CredentialUnavailableErrorName:()=>nZ,DefaultAzureCredential:()=>aA,DeviceCodeCredential:()=>aU,EnvironmentCredential:()=>am,InteractiveBrowserCredential:()=>aP,ManagedIdentityCredential:()=>sY,OnBehalfOfCredential:()=>aV,UsernamePasswordCredential:()=>ah,VisualStudioCodeCredential:()=>sa,WorkloadIdentityCredential:()=>sk,deserializeAuthenticationRecord:()=>iD,getDefaultAzureCredential:()=>a$,logger:()=>n4,serializeAuthenticationRecord:()=>iR,useIdentityPlugin:()=>sc});/*! @azure/msal-common v14.16.1 2025-08-05 */let a={SKU:"msal.js.common",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],TOKEN_RESPONSE_TYPE:"token",ID_TOKEN_RESPONSE_TYPE:"id_token",INVALID_INSTANCE:"invalid_instance"},l={SUCCESS_RANGE_START:200,SUCCESS_RANGE_END:299,REDIRECT:302,CLIENT_ERROR_RANGE_START:400,NOT_FOUND:404,REQUEST_TIMEOUT:408,TOO_MANY_REQUESTS:429,CLIENT_ERROR_RANGE_END:499,SERVER_ERROR:500,SERVER_ERROR_RANGE_START:500,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,SERVER_ERROR_RANGE_END:599},c=[a.OPENID_SCOPE,a.PROFILE_SCOPE,a.OFFLINE_ACCESS_SCOPE],u=[...c,a.EMAIL_SCOPE],h={CONTENT_TYPE:"Content-Type",CONTENT_LENGTH:"Content-Length",RETRY_AFTER:"Retry-After",CCS_HEADER:"X-AnchorMailbox",X_MS_REQUEST_ID:"x-ms-request-id",X_MS_HTTP_VERSION:"x-ms-httpver"},d={COMMON:"common",ORGANIZATIONS:"organizations",CONSUMERS:"consumers"},f={ACCESS_TOKEN:"access_token",XMS_CC:"xms_cc"},p={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},m={PLAIN:"plain",S256:"S256"},g={QUERY:"query"},y={AUTHORIZATION_CODE_GRANT:"authorization_code",CLIENT_CREDENTIALS_GRANT:"client_credentials",RESOURCE_OWNER_PASSWORD_GRANT:"password",REFRESH_TOKEN_GRANT:"refresh_token",DEVICE_CODE_GRANT:"device_code",JWT_BEARER:"urn:ietf:params:oauth:grant-type:jwt-bearer"},_={MSSTS_ACCOUNT_TYPE:"MSSTS",ADFS_ACCOUNT_TYPE:"ADFS",GENERIC_ACCOUNT_TYPE:"Generic"},E={CACHE_KEY_SEPARATOR:"-",CLIENT_INFO_SEPARATOR:"."},T={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},b="appmetadata",w={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:86400},v={CONFIG:"config",CACHE:"cache",NETWORK:"network",HARDCODED_VALUES:"hardcoded_values"},S={SCHEMA_VERSION:5,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},A={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},I={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},C={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"},O={username:"username",password:"password"},N={httpSuccess:200,httpBadRequest:400},R={FAILED_AUTO_DETECTION:"1",ENVIRONMENT_VARIABLE:"3",IMDS:"4"},D={CONFIGURED_NO_AUTO_DETECTION:"2",AUTO_DETECTION_REQUESTED_SUCCESSFUL:"4",AUTO_DETECTION_REQUESTED_FAILED:"5"},k={NOT_APPLICABLE:"0",FORCE_REFRESH_OR_CLAIMS:"1",NO_CACHED_ACCESS_TOKEN:"2",CACHED_ACCESS_TOKEN_EXPIRED:"3",PROACTIVELY_REFRESHED:"4"},P={AZURE_POD_IDENTITY_AUTHORITY_HOST:"AZURE_POD_IDENTITY_AUTHORITY_HOST",IDENTITY_ENDPOINT:"IDENTITY_ENDPOINT",IMDS_ENDPOINT:"IMDS_ENDPOINT",MSI_ENDPOINT:"MSI_ENDPOINT"},M={USER_ASSIGNED_CLIENT_ID:"user-assigned-client-id",USER_ASSIGNED_RESOURCE_ID:"user-assigned-resource-id",USER_ASSIGNED_OBJECT_ID:"user-assigned-object-id"},L={GET:"get",POST:"post"},x={SUCCESS_RANGE_START:l.SUCCESS_RANGE_START,SUCCESS_RANGE_END:l.SUCCESS_RANGE_END,SERVER_ERROR:l.SERVER_ERROR},U={SHA256:"sha256"},F={CV_CHARSET:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~"},B={MSAL_SKU:"msal.js.node",JWT_BEARER_ASSERTION_TYPE:"urn:ietf:params:oauth:client-assertion-type:jwt-bearer",AUTHORIZATION_PENDING:"authorization_pending",HTTP_PROTOCOL:"http://",LOCALHOST:"localhost"},q={acquireTokenSilent:62,acquireTokenByUsernamePassword:371,acquireTokenByDeviceCode:671,acquireTokenByClientCredential:771,acquireTokenByCode:871,acquireTokenByRefreshToken:872},j={RSA_256:"RS256",PSS_256:"PS256",X5T_256:"x5t#S256",X5T:"x5t",X5C:"x5c",AUDIENCE:"aud",EXPIRATION_TIME:"exp",ISSUER:"iss",SUBJECT:"sub",NOT_BEFORE:"nbf",JWT_ID:"jti"},Y={INTERVAL_MS:100,TIMEOUT_MS:5e3};l.NOT_FOUND,l.REQUEST_TIMEOUT,l.TOO_MANY_REQUESTS,l.SERVER_ERROR,l.SERVICE_UNAVAILABLE,l.GATEWAY_TIMEOUT;/*! @azure/msal-common v14.16.1 2025-08-05 */let H="unexpected_error",V="post_request_failed",$={[H]:"Unexpected error in authentication.",[V]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};$[H],$[V];class z extends Error{constructor(e,t,r){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,z.prototype),this.errorCode=e||a.EMPTY_STRING,this.errorMessage=t||a.EMPTY_STRING,this.subError=r||a.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}class W{constructor(e,t){this.cacheOutcome=k.NOT_APPLICABLE,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||a.EMPTY_STRING,this.wrapperVer=e.wrapperVer||a.EMPTY_STRING,this.telemetryCacheKey=S.CACHE_KEY+E.CACHE_KEY_SEPARATOR+e.clientId}generateCurrentRequestHeaderValue(){let e=`${this.apiId}${S.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],r=this.getNativeBrokerErrorCode();r?.length&&t.push(`broker_error=${r}`);let n=t.join(S.VALUE_SEPARATOR),i=[e,this.getRegionDiscoveryFields()].join(S.VALUE_SEPARATOR);return[S.SCHEMA_VERSION,i,n].join(S.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){let e=this.getLastRequests(),t=W.maxErrorsToSend(e),r=e.failedRequests.slice(0,2*t).join(S.VALUE_SEPARATOR),n=e.errors.slice(0,t).join(S.VALUE_SEPARATOR),i=e.errors.length,o=t<i?S.OVERFLOW_TRUE:S.OVERFLOW_FALSE,s=[i,o].join(S.VALUE_SEPARATOR);return[S.SCHEMA_VERSION,e.cacheHits,r,n,s].join(S.CATEGORY_SEPARATOR)}cacheFailedRequest(e){let t=this.getLastRequests();t.errors.length>=S.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof z?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(S.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}incrementCacheHits(){let e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){let e=this.getLastRequests(),t=W.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey,this.correlationId);else{let r={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,r,this.correlationId)}}static maxErrorsToSend(e){let t;let r=0,n=0,i=e.errors.length;for(t=0;t<i;t++){let i=e.failedRequests[2*t]||a.EMPTY_STRING,o=e.failedRequests[2*t+1]||a.EMPTY_STRING,s=e.errors[t]||a.EMPTY_STRING;if((n+=i.toString().length+o.toString().length+s.length+3)<S.MAX_LAST_HEADER_BYTES)r+=1;else break}return r}getRegionDiscoveryFields(){let e=[];return e.push(this.regionUsed||a.EMPTY_STRING),e.push(this.regionSource||a.EMPTY_STRING),e.push(this.regionOutcome||a.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){let t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t,this.correlationId)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){let e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e,this.correlationId)}static makeExtraSkuString(e){return function(e){let{skus:t,libraryName:r,libraryVersion:n,extensionName:i,extensionVersion:o}=e,s=new Map([[0,[r,n]],[2,[i,o]]]),a=[];if(t?.length){if((a=t.split(",")).length<4)return t}else a=Array.from({length:4},()=>"|");return s.forEach((e,t)=>{2===e.length&&e[0]?.length&&e[1]?.length&&function(e){let{skuArr:t,index:r,skuName:n,skuVersion:i}=e;r>=t.length||(t[r]=[n,i].join("|"))}({skuArr:a,index:t,skuName:e[0],skuVersion:e[1]})}),a.join(",")}(e)}}/*! @azure/msal-common v14.16.1 2025-08-05 */let G="client_id",K="redirect_uri",Z="response_type",Q="token_type",X="req_cnf",J="return_spa_code",ee="x-client-xtra-sku",et="brk_client_id";/*! @azure/msal-common v14.16.1 2025-08-05 */class er extends z{constructor(e,t,r,n,i){super(e,t,r),this.name="ServerError",this.errorNo=n,this.status=i,Object.setPrototypeOf(this,er.prototype)}}!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(rP||(rP={}));class en{constructor(e,t,r){this.level=rP.Info;let n=e||en.createDefaultLoggerOptions();this.localCallback=n.loggerCallback||(()=>{}),this.piiLoggingEnabled=n.piiLoggingEnabled||!1,this.level="number"==typeof n.logLevel?n.logLevel:rP.Info,this.correlationId=n.correlationId||a.EMPTY_STRING,this.packageName=t||a.EMPTY_STRING,this.packageVersion=r||a.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:rP.Info}}clone(e,t,r){return new en({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:r||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;let r=new Date().toUTCString(),n=`[${r}] : [${t.correlationId||this.correlationId||""}]`,i=`${n} : ${this.packageName}@${this.packageVersion} : ${rP[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,i,t.containsPii||!1)}executeCallback(e,t,r){this.localCallback&&this.localCallback(e,t,r)}error(e,t){this.logMessage(e,{logLevel:rP.Error,containsPii:!1,correlationId:t||a.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:rP.Error,containsPii:!0,correlationId:t||a.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:rP.Warning,containsPii:!1,correlationId:t||a.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:rP.Warning,containsPii:!0,correlationId:t||a.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:rP.Info,containsPii:!1,correlationId:t||a.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:rP.Info,containsPii:!0,correlationId:t||a.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:rP.Verbose,containsPii:!1,correlationId:t||a.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:rP.Verbose,containsPii:!0,correlationId:t||a.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:rP.Trace,containsPii:!1,correlationId:t||a.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:rP.Trace,containsPii:!0,correlationId:t||a.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}/*! @azure/msal-common v14.16.1 2025-08-05 */let ei={Default:0,Adfs:1,Dsts:2,Ciam:3},eo="redirect_uri_empty",es="claims_request_parsing_error",ea="authority_uri_insecure",el="url_parse_error",ec="empty_url_error",eu="empty_input_scopes_error",eh="invalid_prompt_value",ed="invalid_claims",ef="token_request_empty",ep="logout_request_empty",em="invalid_code_challenge_method",eg="pkce_params_missing",ey="invalid_cloud_discovery_metadata",e_="invalid_authority_metadata",eE="untrusted_authority",eT="missing_ssh_jwk",eb="missing_ssh_kid",ew="missing_nonce_authentication_header",ev="invalid_authentication_header",eS="cannot_set_OIDCOptions",eA="cannot_allow_native_broker",eI="authority_mismatch",eC={[eo]:"A redirect URI is required for all calls, and none has been set.",[es]:"Could not parse the given claims request object.",[ea]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[el]:"URL could not be parsed into appropriate segments.",[ec]:"URL was empty or null.",[eu]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[eh]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[ed]:"Given claims parameter must be a stringified JSON object.",[ef]:"Token request was empty and not found in cache.",[ep]:"The logout request was null or undefined.",[em]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[eg]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[ey]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[e_]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[eE]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[eT]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[eb]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[ew]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[ev]:"Invalid authentication header provided",[eS]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[eA]:"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.",[eI]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};eC[eo],eC[es],eC[ea],eC[el],eC[ec],eC[eu],eC[eh],eC[ed],eC[ef],eC[ep],eC[em],eC[eg],eC[ey],eC[e_],eC[eE],eC[eT],eC[eb],eC[ew],eC[ev],eC[eS],eC[eA],eC[eI];class eO extends z{constructor(e){super(e,eC[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,eO.prototype)}}function eN(e){return new eO(e)}/*! @azure/msal-common v14.16.1 2025-08-05 */class eR{static isEmptyObj(e){if(e)try{let t=JSON.parse(e);return 0===Object.keys(t).length}catch(e){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){let t={},r=e.split("&"),n=e=>decodeURIComponent(e.replace(/\+/g," "));return r.forEach(e=>{if(e.trim()){let[r,i]=e.split(/=(.+)/g,2);r&&i&&(t[n(r)]=n(i))}}),t}static trimArrayEntries(e){return e.map(e=>e.trim())}static removeEmptyStringsFromArray(e){return e.filter(e=>!!e)}static jsonParseHelper(e){try{return JSON.parse(e)}catch(e){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}/*! @azure/msal-common v14.16.1 2025-08-05 */let eD="client_info_decoding_error",ek="client_info_empty_error",eP="token_parsing_error",eM="null_or_empty_token",eL="endpoints_resolution_error",ex="network_error",eU="openid_config_error",eF="hash_not_deserialized",eB="invalid_state",eq="state_mismatch",ej="state_not_found",eY="nonce_mismatch",eH="auth_time_not_found",eV="max_age_transpired",e$="multiple_matching_tokens",ez="multiple_matching_accounts",eW="multiple_matching_appMetadata",eG="request_cannot_be_made",eK="cannot_remove_empty_scope",eZ="cannot_append_scopeset",eQ="empty_input_scopeset",eX="device_code_polling_cancelled",eJ="device_code_expired",e0="device_code_unknown_error",e1="no_account_in_silent_request",e2="invalid_cache_record",e5="invalid_cache_environment",e4="no_account_found",e8="no_crypto_object",e6="unexpected_credential_type",e3="invalid_assertion",e9="invalid_client_credential",e7="token_refresh_required",te="user_timeout_reached",tt="token_claims_cnf_required_for_signedjwt",tr="authorization_code_missing_from_server_response",tn="binding_key_not_removed",ti="end_session_endpoint_not_supported",to="key_id_missing",ts="no_network_connectivity",ta="user_canceled",tl="missing_tenant_id_error",tc="method_not_implemented",tu="nested_app_auth_bridge_disabled",th={[eD]:"The client info could not be parsed/decoded correctly",[ek]:"The client info was empty",[eP]:"Token cannot be parsed",[eM]:"The token is null or empty",[eL]:"Endpoints cannot be resolved",[ex]:"Network request failed",[eU]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[eF]:"The hash parameters could not be deserialized",[eB]:"State was not the expected format",[eq]:"State mismatch error",[ej]:"State not found",[eY]:"Nonce mismatch error",[eH]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[eV]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[e$]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[ez]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[eW]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[eG]:"Token request cannot be made without authorization code or refresh token.",[eK]:"Cannot remove null or empty scope from ScopeSet",[eZ]:"Cannot append ScopeSet",[eQ]:"Empty input ScopeSet cannot be processed",[eX]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[eJ]:"Device code is expired.",[e0]:"Device code stopped polling for unknown reasons.",[e1]:"Please pass an account object, silent flow is not supported without account information",[e2]:"Cache record object was null or undefined.",[e5]:"Invalid environment when attempting to create cache entry",[e4]:"No account found in cache for given key.",[e8]:"No crypto object detected.",[e6]:"Unexpected credential type.",[e3]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[e9]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[e7]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[te]:"User defined timeout for device code polling reached",[tt]:"Cannot generate a POP jwt if the token_claims are not populated",[tr]:"Server response does not contain an authorization code to proceed",[tn]:"Could not remove the credential's binding key from storage.",[ti]:"The provided authority does not support logout",[to]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[ts]:"No network connectivity. Check your internet connection.",[ta]:"User cancelled the flow.",[tl]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[tc]:"This method has not been implemented",[tu]:"The nested app auth bridge is disabled"};th[eD],th[ek],th[eP],th[eM],th[eL],th[ex],th[eU],th[eF],th[eB],th[eq],th[ej],th[eY],th[eH],th[eV],th[e$],th[ez],th[eW],th[eG],th[eK],th[eZ],th[eQ],th[eX],th[eJ],th[e0],th[e1],th[e2],th[e5],th[e4],th[e8],th[e6],th[e3],th[e9],th[e7],th[te],th[tt],th[tr],th[tn],th[ti],th[to],th[ts],th[ta],th[tl],th[tu];class td extends z{constructor(e,t){super(e,t?`${th[e]}: ${t}`:th[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,td.prototype)}}function tf(e,t){return new td(e,t)}function tp(e){if(!e||0>e.indexOf("="))return null;try{let t=e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e,r=Object.fromEntries(new URLSearchParams(t));if(r.code||r.error||r.error_description||r.state)return r}catch(e){throw tf(eF)}return null}/*! @azure/msal-common v14.16.1 2025-08-05 */class tm{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw eN(ec);e.includes("#")||(this._urlString=tm.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return eR.endsWith(t,"?")?t=t.slice(0,-1):eR.endsWith(t,"?/")&&(t=t.slice(0,-2)),eR.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(e){throw eN(el)}if(!e.HostNameAndPort||!e.PathSegments)throw eN(el);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw eN(ea)}static appendQueryString(e,t){return t?0>e.indexOf("?")?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return tm.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){let t=this.getUrlComponents(),r=t.PathSegments;return e&&0!==r.length&&(r[0]===d.COMMON||r[0]===d.ORGANIZATIONS)&&(r[0]=e),tm.constructAuthorityUriFromObject(t)}getUrlComponents(){let e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw eN(el);let r={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]},n=r.AbsolutePath.split("/");return n=n.filter(e=>e&&e.length>0),r.PathSegments=n,r.QueryString&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r}static getDomainFromUrl(e){let t=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(t);if(!r)throw eN(el);return r[2]}static getAbsoluteUrl(e,t){if(e[0]===a.FORWARD_SLASH){let r=new tm(t).getUrlComponents();return r.Protocol+"//"+r.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new tm(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!tp(e)}}/*! @azure/msal-common v14.16.1 2025-08-05 */let tg={endpointMetadata:{"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},instanceDiscoveryMetadata:{tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]}},ty=tg.endpointMetadata,t_=tg.instanceDiscoveryMetadata,tE=new Set;function tT(e,t,r,n){if(n?.trace(`getAliasesFromMetadata called with source: ${r}`),e&&t){let i=tb(t,e);if(i)return n?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${r}, returning aliases`),i.aliases;n?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${r}`)}return null}function tb(e,t){for(let r=0;r<e.length;r++){let n=e[r];if(n.aliases.includes(t))return n}return null}t_.metadata.forEach(e=>{e.aliases.forEach(e=>{tE.add(e)})});/*! @azure/msal-common v14.16.1 2025-08-05 */let tw={AAD:"AAD",OIDC:"OIDC"},tv={None:"none"},tS={AcquireTokenByCode:"acquireTokenByCode",AcquireTokenByRefreshToken:"acquireTokenByRefreshToken",AcquireTokenSilent:"acquireTokenSilent",AcquireTokenSilentAsync:"acquireTokenSilentAsync",AcquireTokenPopup:"acquireTokenPopup",AcquireTokenRedirect:"acquireTokenRedirect",CryptoOptsGetPublicKeyThumbprint:"cryptoOptsGetPublicKeyThumbprint",CryptoOptsSignJwt:"cryptoOptsSignJwt",SilentCacheClientAcquireToken:"silentCacheClientAcquireToken",SilentIframeClientAcquireToken:"silentIframeClientAcquireToken",SilentRefreshClientAcquireToken:"silentRefreshClientAcquireToken",SsoSilent:"ssoSilent",StandardInteractionClientGetDiscoveredAuthority:"standardInteractionClientGetDiscoveredAuthority",FetchAccountIdWithNativeBroker:"fetchAccountIdWithNativeBroker",NativeInteractionClientAcquireToken:"nativeInteractionClientAcquireToken",BaseClientCreateTokenRequestHeaders:"baseClientCreateTokenRequestHeaders",NetworkClientSendPostRequestAsync:"networkClientSendPostRequestAsync",RefreshTokenClientExecutePostToTokenEndpoint:"refreshTokenClientExecutePostToTokenEndpoint",AuthorizationCodeClientExecutePostToTokenEndpoint:"authorizationCodeClientExecutePostToTokenEndpoint",BrokerHandhshake:"brokerHandshake",AcquireTokenByRefreshTokenInBroker:"acquireTokenByRefreshTokenInBroker",AcquireTokenByBroker:"acquireTokenByBroker",RefreshTokenClientExecuteTokenRequest:"refreshTokenClientExecuteTokenRequest",RefreshTokenClientAcquireToken:"refreshTokenClientAcquireToken",RefreshTokenClientAcquireTokenWithCachedRefreshToken:"refreshTokenClientAcquireTokenWithCachedRefreshToken",RefreshTokenClientAcquireTokenByRefreshToken:"refreshTokenClientAcquireTokenByRefreshToken",RefreshTokenClientCreateTokenRequestBody:"refreshTokenClientCreateTokenRequestBody",AcquireTokenFromCache:"acquireTokenFromCache",SilentFlowClientAcquireCachedToken:"silentFlowClientAcquireCachedToken",SilentFlowClientGenerateResultFromCacheRecord:"silentFlowClientGenerateResultFromCacheRecord",AcquireTokenBySilentIframe:"acquireTokenBySilentIframe",InitializeBaseRequest:"initializeBaseRequest",InitializeSilentRequest:"initializeSilentRequest",InitializeClientApplication:"initializeClientApplication",SilentIframeClientTokenHelper:"silentIframeClientTokenHelper",SilentHandlerInitiateAuthRequest:"silentHandlerInitiateAuthRequest",SilentHandlerMonitorIframeForHash:"silentHandlerMonitorIframeForHash",SilentHandlerLoadFrame:"silentHandlerLoadFrame",SilentHandlerLoadFrameSync:"silentHandlerLoadFrameSync",StandardInteractionClientCreateAuthCodeClient:"standardInteractionClientCreateAuthCodeClient",StandardInteractionClientGetClientConfiguration:"standardInteractionClientGetClientConfiguration",StandardInteractionClientInitializeAuthorizationRequest:"standardInteractionClientInitializeAuthorizationRequest",StandardInteractionClientInitializeAuthorizationCodeRequest:"standardInteractionClientInitializeAuthorizationCodeRequest",GetAuthCodeUrl:"getAuthCodeUrl",HandleCodeResponseFromServer:"handleCodeResponseFromServer",HandleCodeResponse:"handleCodeResponse",UpdateTokenEndpointAuthority:"updateTokenEndpointAuthority",AuthClientAcquireToken:"authClientAcquireToken",AuthClientExecuteTokenRequest:"authClientExecuteTokenRequest",AuthClientCreateTokenRequestBody:"authClientCreateTokenRequestBody",AuthClientCreateQueryString:"authClientCreateQueryString",PopTokenGenerateCnf:"popTokenGenerateCnf",PopTokenGenerateKid:"popTokenGenerateKid",HandleServerTokenResponse:"handleServerTokenResponse",DeserializeResponse:"deserializeResponse",AuthorityFactoryCreateDiscoveredInstance:"authorityFactoryCreateDiscoveredInstance",AuthorityResolveEndpointsAsync:"authorityResolveEndpointsAsync",AuthorityResolveEndpointsFromLocalSources:"authorityResolveEndpointsFromLocalSources",AuthorityGetCloudDiscoveryMetadataFromNetwork:"authorityGetCloudDiscoveryMetadataFromNetwork",AuthorityUpdateCloudDiscoveryMetadata:"authorityUpdateCloudDiscoveryMetadata",AuthorityGetEndpointMetadataFromNetwork:"authorityGetEndpointMetadataFromNetwork",AuthorityUpdateEndpointMetadata:"authorityUpdateEndpointMetadata",AuthorityUpdateMetadataWithRegionalInformation:"authorityUpdateMetadataWithRegionalInformation",RegionDiscoveryDetectRegion:"regionDiscoveryDetectRegion",RegionDiscoveryGetRegionFromIMDS:"regionDiscoveryGetRegionFromIMDS",RegionDiscoveryGetCurrentVersion:"regionDiscoveryGetCurrentVersion",AcquireTokenByCodeAsync:"acquireTokenByCodeAsync",GetEndpointMetadataFromNetwork:"getEndpointMetadataFromNetwork",GetCloudDiscoveryMetadataFromNetworkMeasurement:"getCloudDiscoveryMetadataFromNetworkMeasurement",HandleRedirectPromiseMeasurement:"handleRedirectPromise",HandleNativeRedirectPromiseMeasurement:"handleNativeRedirectPromise",UpdateCloudDiscoveryMetadataMeasurement:"updateCloudDiscoveryMetadataMeasurement",UsernamePasswordClientAcquireToken:"usernamePasswordClientAcquireToken",NativeMessageHandlerHandshake:"nativeMessageHandlerHandshake",NativeGenerateAuthResult:"nativeGenerateAuthResult",RemoveHiddenIframe:"removeHiddenIframe",ClearTokensAndKeysWithClaims:"clearTokensAndKeysWithClaims",CacheManagerGetRefreshToken:"cacheManagerGetRefreshToken",GeneratePkceCodes:"generatePkceCodes",GenerateCodeVerifier:"generateCodeVerifier",GenerateCodeChallengeFromVerifier:"generateCodeChallengeFromVerifier",Sha256Digest:"sha256Digest",GetRandomValues:"getRandomValues"};tS.AcquireTokenByCode,tS.AcquireTokenByRefreshToken,tS.AcquireTokenSilent,tS.AcquireTokenSilentAsync,tS.AcquireTokenPopup,tS.AcquireTokenRedirect,tS.CryptoOptsGetPublicKeyThumbprint,tS.CryptoOptsSignJwt,tS.SilentCacheClientAcquireToken,tS.SilentIframeClientAcquireToken,tS.SilentRefreshClientAcquireToken,tS.SsoSilent,tS.StandardInteractionClientGetDiscoveredAuthority,tS.FetchAccountIdWithNativeBroker,tS.NativeInteractionClientAcquireToken,tS.BaseClientCreateTokenRequestHeaders,tS.NetworkClientSendPostRequestAsync,tS.RefreshTokenClientExecutePostToTokenEndpoint,tS.AuthorizationCodeClientExecutePostToTokenEndpoint,tS.BrokerHandhshake,tS.AcquireTokenByRefreshTokenInBroker,tS.AcquireTokenByBroker,tS.RefreshTokenClientExecuteTokenRequest,tS.RefreshTokenClientAcquireToken,tS.RefreshTokenClientAcquireTokenWithCachedRefreshToken,tS.RefreshTokenClientAcquireTokenByRefreshToken,tS.RefreshTokenClientCreateTokenRequestBody,tS.AcquireTokenFromCache,tS.SilentFlowClientAcquireCachedToken,tS.SilentFlowClientGenerateResultFromCacheRecord,tS.AcquireTokenBySilentIframe,tS.InitializeBaseRequest,tS.InitializeSilentRequest,tS.InitializeClientApplication,tS.SilentIframeClientTokenHelper,tS.SilentHandlerInitiateAuthRequest,tS.SilentHandlerMonitorIframeForHash,tS.SilentHandlerLoadFrame,tS.SilentHandlerLoadFrameSync,tS.StandardInteractionClientCreateAuthCodeClient,tS.StandardInteractionClientGetClientConfiguration,tS.StandardInteractionClientInitializeAuthorizationRequest,tS.StandardInteractionClientInitializeAuthorizationCodeRequest,tS.GetAuthCodeUrl,tS.HandleCodeResponseFromServer,tS.HandleCodeResponse,tS.UpdateTokenEndpointAuthority,tS.AuthClientAcquireToken,tS.AuthClientExecuteTokenRequest,tS.AuthClientCreateTokenRequestBody,tS.AuthClientCreateQueryString,tS.PopTokenGenerateCnf,tS.PopTokenGenerateKid,tS.HandleServerTokenResponse,tS.DeserializeResponse,tS.AuthorityFactoryCreateDiscoveredInstance,tS.AuthorityResolveEndpointsAsync,tS.AuthorityResolveEndpointsFromLocalSources,tS.AuthorityGetCloudDiscoveryMetadataFromNetwork,tS.AuthorityUpdateCloudDiscoveryMetadata,tS.AuthorityGetEndpointMetadataFromNetwork,tS.AuthorityUpdateEndpointMetadata,tS.AuthorityUpdateMetadataWithRegionalInformation,tS.RegionDiscoveryDetectRegion,tS.RegionDiscoveryGetRegionFromIMDS,tS.RegionDiscoveryGetCurrentVersion,tS.AcquireTokenByCodeAsync,tS.GetEndpointMetadataFromNetwork,tS.GetCloudDiscoveryMetadataFromNetworkMeasurement,tS.HandleRedirectPromiseMeasurement,tS.HandleNativeRedirectPromiseMeasurement,tS.UpdateCloudDiscoveryMetadataMeasurement,tS.UsernamePasswordClientAcquireToken,tS.NativeMessageHandlerHandshake,tS.NativeGenerateAuthResult,tS.RemoveHiddenIframe,tS.ClearTokensAndKeysWithClaims,tS.CacheManagerGetRefreshToken,tS.GeneratePkceCodes,tS.GenerateCodeVerifier,tS.GenerateCodeChallengeFromVerifier,tS.Sha256Digest,tS.GetRandomValues;/*! @azure/msal-common v14.16.1 2025-08-05 */let tA=(e,t,r,n,i)=>(...o)=>{r.trace(`Executing function ${t}`);let s=n?.startMeasurement(t,i);i&&n?.incrementFields({[t+"CallCount"]:1},i);try{let n=e(...o);return s?.end({success:!0}),r.trace(`Returning result from ${t}`),n}catch(e){r.trace(`Error occurred in ${t}`);try{r.trace(JSON.stringify(e))}catch(e){r.trace("Unable to print error message.")}throw s?.end({success:!1},e),e}},tI=(e,t,r,n,i)=>(...o)=>{r.trace(`Executing function ${t}`);let s=n?.startMeasurement(t,i);return i&&n?.incrementFields({[t+"CallCount"]:1},i),n?.setPreQueueTime(t,i),e(...o).then(e=>(r.trace(`Returning result from ${t}`),s?.end({success:!0}),e)).catch(e=>{r.trace(`Error occurred in ${t}`);try{r.trace(JSON.stringify(e))}catch(e){r.trace("Unable to print error message.")}throw s?.end({success:!1},e),e})};/*! @azure/msal-common v14.16.1 2025-08-05 */class tC{constructor(e,t,r,n){this.networkInterface=e,this.logger=t,this.performanceClient=r,this.correlationId=n}async detectRegion(e,t){this.performanceClient?.addQueueMeasurement(tS.RegionDiscoveryDetectRegion,this.correlationId);let r=e;if(r)t.region_source=R.ENVIRONMENT_VARIABLE;else{let e=tC.IMDS_OPTIONS;try{let n=await tI(this.getRegionFromIMDS.bind(this),tS.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(a.IMDS_VERSION,e);if(n.status===N.httpSuccess&&(r=n.body,t.region_source=R.IMDS),n.status===N.httpBadRequest){let n=await tI(this.getCurrentVersion.bind(this),tS.RegionDiscoveryGetCurrentVersion,this.logger,this.performanceClient,this.correlationId)(e);if(!n)return t.region_source=R.FAILED_AUTO_DETECTION,null;let i=await tI(this.getRegionFromIMDS.bind(this),tS.RegionDiscoveryGetRegionFromIMDS,this.logger,this.performanceClient,this.correlationId)(n,e);i.status===N.httpSuccess&&(r=i.body,t.region_source=R.IMDS)}}catch(e){return t.region_source=R.FAILED_AUTO_DETECTION,null}}return r||(t.region_source=R.FAILED_AUTO_DETECTION),r||null}async getRegionFromIMDS(e,t){return this.performanceClient?.addQueueMeasurement(tS.RegionDiscoveryGetRegionFromIMDS,this.correlationId),this.networkInterface.sendGetRequestAsync(`${a.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,a.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(tS.RegionDiscoveryGetCurrentVersion,this.correlationId);try{let t=await this.networkInterface.sendGetRequestAsync(`${a.IMDS_ENDPOINT}?format=json`,e);if(t.status===N.httpBadRequest&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0)return t.body["newest-versions"][0];return null}catch(e){return null}}}/*! @azure/msal-common v14.16.1 2025-08-05 */function tO(e,t){let r=function(e){if(!e)throw tf(eM);let t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw tf(eP);return t[2]}(e);try{let e=t(r);return JSON.parse(e)}catch(e){throw tf(eP)}}function tN(e,t){if(0===t||Date.now()-3e5>e+t)throw tf(eV)}/*! @azure/msal-common v14.16.1 2025-08-05 */function tR(){return Math.round(new Date().getTime()/1e3)}function tD(e,t){let r=Number(e)||0;return tR()+t>r}/*! @azure/msal-common v14.16.1 2025-08-05 */function tk(e){return[[e.homeAccountId,e.environment].join(E.CACHE_KEY_SEPARATOR).toLowerCase(),function(e){let t=e.credentialType===T.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(E.CACHE_KEY_SEPARATOR).toLowerCase()}(e),(e.target||"").toLowerCase(),(e.requestedClaimsHash||"").toLowerCase(),e.tokenType&&e.tokenType.toLowerCase()!==A.BEARER.toLowerCase()?e.tokenType.toLowerCase():""].join(E.CACHE_KEY_SEPARATOR).toLowerCase()}function tP(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function tM(e){return!!e&&tP(e)&&e.hasOwnProperty("realm")&&e.hasOwnProperty("target")&&(e.credentialType===T.ACCESS_TOKEN||e.credentialType===T.ACCESS_TOKEN_WITH_AUTH_SCHEME)}function tL(e){return!!e&&tP(e)&&e.hasOwnProperty("realm")&&e.credentialType===T.ID_TOKEN}function tx(e){return!!e&&tP(e)&&e.credentialType===T.REFRESH_TOKEN}function tU(e,t){return!!t&&0===e.indexOf(b)&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment")}function tF(){return tR()+w.REFRESH_TIME_SECONDS}function tB(e,t,r){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=r,e.jwks_uri=t.jwks_uri}function tq(e,t,r){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=r}function tj(e){return e.expiresAt<=tR()}tC.IMDS_OPTIONS={headers:{Metadata:"true"}};/*! @azure/msal-common v14.16.1 2025-08-05 */class tY{constructor(e,t,r,n,i,o,s,a){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=r,this.authorityOptions=n,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=i,this.performanceClient=s,this.correlationId=o,this.managedIdentity=a||!1,this.regionDiscovery=new tC(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(a.CIAM_AUTH_URL))return ei.Ciam;let t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case a.ADFS:return ei.Adfs;case a.DSTS:return ei.Dsts}return ei.Default}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new tm(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw tf(eL)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw tf(eL)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw tf(eL)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw tf(ti);return this.replacePath(this.metadata.end_session_endpoint)}throw tf(eL)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw tf(eL)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw tf(eL)}canReplaceTenant(e){return 1===e.PathSegments.length&&!tY.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===ei.Default&&this.protocolMode===tw.AAD}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e,r=new tm(this.metadata.canonical_authority).getUrlComponents(),n=r.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((e,i)=>{let o=n[i];if(0===i&&this.canReplaceTenant(r)){let e=new tm(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];o!==e&&(this.logger.verbose(`Replacing tenant domain name ${o} with id ${e}`),o=e)}e!==o&&(t=t.replace(`/${o}/`,`/${e}/`))}),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){let e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===ei.Adfs||this.protocolMode!==tw.AAD&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(tS.AuthorityResolveEndpointsAsync,this.correlationId);let e=this.getCurrentMetadataEntity(),t=await tI(this.updateCloudDiscoveryMetadata.bind(this),tS.AuthorityUpdateCloudDiscoveryMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);let r=await tI(this.updateEndpointMetadata.bind(this),tS.AuthorityUpdateEndpointMetadata,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:r}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:r},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:tF(),jwks_uri:""}),e}updateCachedMetadata(e,t,r){t!==v.CACHE&&r?.source!==v.CACHE&&(e.expiresAt=tF(),e.canonical_authority=this.canonicalAuthority);let n=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(n,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(tS.AuthorityUpdateEndpointMetadata,this.correlationId);let t=this.updateEndpointMetadataFromLocalSources(e);if(t)return t.source===v.HARDCODED_VALUES&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata&&(tB(e,await tI(this.updateMetadataWithRegionalInformation.bind(this),tS.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(t.metadata),!1),e.canonical_authority=this.canonicalAuthority),t.source;let r=await tI(this.getEndpointMetadataFromNetwork.bind(this),tS.AuthorityGetEndpointMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(r=await tI(this.updateMetadataWithRegionalInformation.bind(this),tS.AuthorityUpdateMetadataWithRegionalInformation,this.logger,this.performanceClient,this.correlationId)(r)),tB(e,r,!0),v.NETWORK;throw tf(eU,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");let t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),tB(e,t,!1),{source:v.CONFIG};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{let t=this.getEndpointMetadataFromHardcodedValues();if(t)return tB(e,t,!1),{source:v.HARDCODED_VALUES,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}let r=tj(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!r?(this.logger.verbose("Found endpoint metadata in the cache."),{source:v.CACHE}):(r&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new tm(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw eN(e_)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(tS.AuthorityGetEndpointMetadataFromNetwork,this.correlationId);let e=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${e}`);try{var t;let r=await this.networkInterface.sendGetRequestAsync(e,{});if((t=r.body).hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("jwks_uri"))return r.body;return this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null}catch(e){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${e}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in ty?ty[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(tS.AuthorityUpdateMetadataWithRegionalInformation,this.correlationId);let t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==a.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=D.CONFIGURED_NO_AUTO_DETECTION,this.regionDiscoveryMetadata.region_used=t,tY.replaceWithRegionalInformation(e,t);let r=await tI(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),tS.RegionDiscoveryDetectRegion,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(r)return this.regionDiscoveryMetadata.region_outcome=D.AUTO_DETECTION_REQUESTED_SUCCESSFUL,this.regionDiscoveryMetadata.region_used=r,tY.replaceWithRegionalInformation(e,r);this.regionDiscoveryMetadata.region_outcome=D.AUTO_DETECTION_REQUESTED_FAILED}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(tS.AuthorityUpdateCloudDiscoveryMetadata,this.correlationId);let t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;let r=await tI(this.getCloudDiscoveryMetadataFromNetwork.bind(this),tS.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.logger,this.performanceClient,this.correlationId)();if(r)return tq(e,r,!0),v.NETWORK;throw eN(eE)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||a.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||a.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||a.NOT_APPLICABLE}`);let t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),tq(e,t,!1),v.CONFIG;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{var r;let t=(r=this.hostnameAndPort,tb(t_.metadata,r));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),tq(e,t,!1),v.HARDCODED_VALUES;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}let n=tj(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!n?(this.logger.verbose("Found cloud discovery metadata in the cache."),v.CACHE):(n&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===ei.Ciam)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),tY.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");let e=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),t=tb(e.metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),t)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),t;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),eN(ey)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),tY.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(tS.AuthorityGetCloudDiscoveryMetadataFromNetwork,this.correlationId);let e=`${a.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t=null;try{var r,n;let i,o;let s=await this.networkInterface.sendGetRequestAsync(e,{});if((r=s.body).hasOwnProperty("tenant_discovery_endpoint")&&r.hasOwnProperty("metadata"))o=(i=s.body).metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${i.tenant_discovery_endpoint}`);else{if(!((n=s.body).hasOwnProperty("error")&&n.hasOwnProperty("error_description")))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${s.status}`),(i=s.body).error===a.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${i.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${i.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),o=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),t=tb(o,this.hostnameAndPort)}catch(e){return e instanceof z?this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.
Error: ${e.errorCode}
Error Description: ${e.errorMessage}`):this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.
Error: ${e.name}
Error Description: ${e.message}`),null}return t||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),t=tY.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),t}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter(e=>e&&tm.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort).length>0}static generateAuthority(e,t){let r;if(t&&t.azureCloudInstance!==tv.None){let e=t.tenant?t.tenant:a.DEFAULT_COMMON_TENANT;r=`${t.azureCloudInstance}/${e}/`}return r||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return a.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw tf(eL)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return tE.has(e)}static isPublicCloudAuthority(e){return a.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,r){let n=new tm(e);n.validateAsUri();let i=n.getUrlComponents(),o=`${t}.${i.HostNameAndPort}`;this.isPublicCloudAuthority(i.HostNameAndPort)&&(o=`${t}.${a.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);let s=tm.constructAuthorityUriFromObject({...n.getUrlComponents(),HostNameAndPort:o}).urlString;return r?`${s}?${r}`:s}static replaceWithRegionalInformation(e,t){let r={...e};return r.authorization_endpoint=tY.buildRegionalAuthorityString(r.authorization_endpoint,t),r.token_endpoint=tY.buildRegionalAuthorityString(r.token_endpoint,t),r.end_session_endpoint&&(r.end_session_endpoint=tY.buildRegionalAuthorityString(r.end_session_endpoint,t)),r}static transformCIAMAuthority(e){let t=e,r=new tm(e).getUrlComponents();if(0===r.PathSegments.length&&r.HostNameAndPort.endsWith(a.CIAM_AUTH_URL)){let e=r.HostNameAndPort.split(".")[0];t=`${t}${e}${a.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}function tH(e){return e.endsWith(a.FORWARD_SLASH)?e:`${e}${a.FORWARD_SLASH}`}tY.reservedTenantDomains=new Set(["{tenant}","{tenantid}",d.COMMON,d.CONSUMERS,d.ORGANIZATIONS]);/*! @azure/msal-common v14.16.1 2025-08-05 */let tV={createNewGuid:()=>{throw tf(tc)},base64Decode:()=>{throw tf(tc)},base64Encode:()=>{throw tf(tc)},base64UrlEncode:()=>{throw tf(tc)},encodeKid:()=>{throw tf(tc)},async getPublicKeyThumbprint(){throw tf(tc)},async removeTokenBindingKey(){throw tf(tc)},async clearKeystore(){throw tf(tc)},async signJwt(){throw tf(tc)},async hashString(){throw tf(tc)}},t$="@azure/msal-common",tz="14.16.1";/*! @azure/msal-common v14.16.1 2025-08-05 */class tW{constructor(e){let t=e?eR.trimArrayEntries([...e]):[],r=t?eR.removeEmptyStringsFromArray(t):[];this.validateInputScopes(r),this.scopes=new Set,r.forEach(e=>this.scopes.add(e))}static fromString(e){return new tW((e||a.EMPTY_STRING).split(" "))}static createSearchScopes(e){let t=new tW(e);return t.containsOnlyOIDCScopes()?t.removeScope(a.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}validateInputScopes(e){if(!e||e.length<1)throw eN(eu)}containsScope(e){let t=new tW(this.printScopesLowerCase().split(" "));return!!e&&t.scopes.has(e.toLowerCase())}containsScopeSet(e){return!!e&&!(e.scopes.size<=0)&&this.scopes.size>=e.scopes.size&&e.asArray().every(e=>this.containsScope(e))}containsOnlyOIDCScopes(){let e=0;return u.forEach(t=>{this.containsScope(t)&&(e+=1)}),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach(e=>this.appendScope(e))}catch(e){throw tf(eZ)}}removeScope(e){if(!e)throw tf(eK);this.scopes.delete(e.trim())}removeOIDCScopes(){u.forEach(e=>{this.scopes.delete(e)})}unionScopeSets(e){if(!e)throw tf(eQ);let t=new Set;return e.scopes.forEach(e=>t.add(e.toLowerCase())),this.scopes.forEach(e=>t.add(e.toLowerCase())),t}intersectingScopeSets(e){if(!e)throw tf(eQ);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();let t=this.unionScopeSets(e),r=e.getScopeCount(),n=this.getScopeCount();return t.size<n+r}getScopeCount(){return this.scopes.size}asArray(){let e=[];return this.scopes.forEach(t=>e.push(t)),e}printScopes(){return this.scopes?this.asArray().join(" "):a.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}/*! @azure/msal-common v14.16.1 2025-08-05 */function tG(e,t){if(!e)throw tf(ek);try{let r=t(e);return JSON.parse(r)}catch(e){throw tf(eD)}}function tK(e){if(!e)throw tf(eD);let t=e.split(E.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?a.EMPTY_STRING:t[1]}}/*! @azure/msal-common v14.16.1 2025-08-05 */function tZ(e,t){return!!e&&!!t&&e===t.split(".")[1]}function tQ(e,t,r,n){if(!n)return{tenantId:r,localAccountId:t,isHomeTenant:tZ(r,e)};{let{oid:t,sub:r,tid:i,name:o,tfp:s,acr:a}=n,l=i||s||a||"";return{tenantId:l,localAccountId:t||r||"",name:o,isHomeTenant:tZ(l,e)}}}function tX(e,t,r,n){let i=e;if(t){let{isHomeTenant:r,...n}=t;i={...e,...n}}if(r){let{isHomeTenant:t,...o}=tQ(e.homeAccountId,e.localAccountId,e.tenantId,r);i={...i,...o,idTokenClaims:r,idToken:n}}return i}/*! @azure/msal-common v14.16.1 2025-08-05 */function tJ(e){return e&&(e.tid||e.tfp||e.acr)||null}/*! @azure/msal-common v14.16.1 2025-08-05 */class t0{generateAccountId(){return[this.homeAccountId,this.environment].join(E.CACHE_KEY_SEPARATOR).toLowerCase()}generateAccountKey(){return t0.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map(e=>[e.tenantId,e]))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){let t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(E.CACHE_KEY_SEPARATOR).toLowerCase()}static createAccount(e,t,r){let n;let i=new t0;t.authorityType===ei.Adfs?i.authorityType=_.ADFS_ACCOUNT_TYPE:t.protocolMode===tw.AAD?i.authorityType=_.MSSTS_ACCOUNT_TYPE:i.authorityType=_.GENERIC_ACCOUNT_TYPE,e.clientInfo&&r&&(n=tG(e.clientInfo,r)),i.clientInfo=e.clientInfo,i.homeAccountId=e.homeAccountId,i.nativeAccountId=e.nativeAccountId;let o=e.environment||t&&t.getPreferredCache();if(!o)throw tf(e5);i.environment=o,i.realm=n?.utid||tJ(e.idTokenClaims)||"",i.localAccountId=n?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";let s=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,a=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(i.username=s||a||"",i.name=e.idTokenClaims?.name||"",i.cloudGraphHostName=e.cloudGraphHostName,i.msGraphHost=e.msGraphHost,e.tenantProfiles)i.tenantProfiles=e.tenantProfiles;else{let t=tQ(e.homeAccountId,i.localAccountId,i.realm,e.idTokenClaims);i.tenantProfiles=[t]}return i}static createFromAccountInfo(e,t,r){let n=new t0;return n.authorityType=e.authorityType||_.GENERIC_ACCOUNT_TYPE,n.homeAccountId=e.homeAccountId,n.localAccountId=e.localAccountId,n.nativeAccountId=e.nativeAccountId,n.realm=e.tenantId,n.environment=e.environment,n.username=e.username,n.name=e.name,n.cloudGraphHostName=t,n.msGraphHost=r,n.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),n}static generateHomeAccountId(e,t,r,n,i){if(!(t===ei.Adfs||t===ei.Dsts)){if(e)try{let t=tG(e,n.base64Decode);if(t.uid&&t.utid)return`${t.uid}.${t.utid}`}catch(e){}r.warning("No client info in response")}return i?.sub||""}static isAccountEntity(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType")}static accountInfoIsEqual(e,t,r){if(!e||!t)return!1;let n=!0;if(r){let r=e.idTokenClaims||{},i=t.idTokenClaims||{};n=r.iat===i.iat&&r.nonce===i.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&n}}/*! @azure/msal-common v14.16.1 2025-08-05 */let t1="cache_quota_exceeded",t2="cache_error_unknown",t5={[t1]:"Exceeded cache storage capacity.",[t2]:"Unexpected error occurred when using cache storage."};class t4 extends Error{constructor(e,t){let r=t||(t5[e]?t5[e]:t5[t2]);super(`${e}: ${r}`),Object.setPrototypeOf(this,t4.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=r}}/*! @azure/msal-common v14.16.1 2025-08-05 */class t8{constructor(e,t,r,n){this.clientId=e,this.cryptoImpl=t,this.commonLogger=r.clone(t$,tz),this.staticAuthorityOptions=n}getAllAccounts(e,t){return this.buildTenantProfiles(this.getAccountsFilteredBy(t||{},e),e,t)}getAccountInfoFilteredBy(e,t){let r=this.getAllAccounts(t,e);return r.length>1?r.sort(e=>e.idTokenClaims?-1:1)[0]:1===r.length?r[0]:null}getBaseAccountInfo(e,t){let r=this.getAccountsFilteredBy(e,t);return r.length>0?r[0].getAccountInfo():null}buildTenantProfiles(e,t,r){return e.flatMap(e=>this.getTenantProfilesFromAccountEntity(e,t,r?.tenantId,r))}getTenantedAccountInfoByFilter(e,t,r,n,i){let o;if(i&&!this.tenantProfileMatchesFilter(r,i))return null;let s=this.getIdToken(e,n,t,r.tenantId);return s&&(o=tO(s.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(o,i))?null:tX(e,r,o,s?.secret)}getTenantProfilesFromAccountEntity(e,t,r,n){let i=e.getAccountInfo(),o=i.tenantProfiles||new Map,s=this.getTokenKeys();if(r){let e=o.get(r);if(!e)return[];o=new Map([[r,e]])}let a=[];return o.forEach(e=>{let r=this.getTenantedAccountInfoByFilter(i,s,e,t,n);r&&a.push(r)}),a}tenantProfileMatchesFilter(e,t){return(!t.localAccountId||!!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&(!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant)}idTokenClaimsMatchTenantProfileFilter(e,t){return!t||(!t.localAccountId||!!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))&&(!t.loginHint||!!this.matchLoginHintFromTokenClaims(e,t.loginHint))&&(!t.username||!!this.matchUsername(e.preferred_username,t.username))&&(!t.name||!!this.matchName(e,t.name))&&(!t.sid||!!this.matchSid(e,t.sid))}async saveCacheRecord(e,t,r){if(!e)throw tf(e2);try{e.account&&this.setAccount(e.account,t),e.idToken&&r?.idToken!==!1&&this.setIdTokenCredential(e.idToken,t),e.accessToken&&r?.accessToken!==!1&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&r?.refreshToken!==!1&&this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata,t)}catch(e){if(this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),e instanceof z)throw e;throw e instanceof Error?"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name||e.message.includes("exceeded the quota")?new t4(t1):new t4(e.name,e.message):new t4(t2)}}async saveAccessToken(e,t){let r={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},n=this.getTokenKeys(),i=tW.fromString(e.target);n.accessToken.forEach(e=>{if(!this.accessTokenKeyMatchesFilter(e,r,!1))return;let n=this.getAccessTokenCredential(e,t);n&&this.credentialMatchesFilter(n,r)&&tW.fromString(n.target).intersectingScopeSets(i)&&this.removeAccessToken(e,t)}),this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e,t){let r=this.getAccountKeys(),n=[];return r.forEach(r=>{if(!this.isAccountKey(r,e.homeAccountId))return;let i=this.getAccount(r,t,this.commonLogger);if(!i||e.homeAccountId&&!this.matchHomeAccountId(i,e.homeAccountId)||e.username&&!this.matchUsername(i.username,e.username)||e.environment&&!this.matchEnvironment(i,e.environment)||e.realm&&!this.matchRealm(i,e.realm)||e.nativeAccountId&&!this.matchNativeAccountId(i,e.nativeAccountId)||e.authorityType&&!this.matchAuthorityType(i,e.authorityType))return;let o={localAccountId:e?.localAccountId,name:e?.name},s=i.tenantProfiles?.filter(e=>this.tenantProfileMatchesFilter(e,o));s&&0===s.length||n.push(i)}),n}isAccountKey(e,t,r){return!(e.split(E.CACHE_KEY_SEPARATOR).length<3)&&(!t||!!e.toLowerCase().includes(t.toLowerCase()))&&(!r||!!e.toLowerCase().includes(r.toLowerCase()))}isCredentialKey(e){if(e.split(E.CACHE_KEY_SEPARATOR).length<6)return!1;let t=e.toLowerCase();if(-1===t.indexOf(T.ID_TOKEN.toLowerCase())&&-1===t.indexOf(T.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(T.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(T.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(T.REFRESH_TOKEN.toLowerCase())>-1){let e=`${T.REFRESH_TOKEN}${E.CACHE_KEY_SEPARATOR}${this.clientId}${E.CACHE_KEY_SEPARATOR}`,r=`${T.REFRESH_TOKEN}${E.CACHE_KEY_SEPARATOR}1${E.CACHE_KEY_SEPARATOR}`;if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(r.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){return(!t.clientId||!!this.matchClientId(e,t.clientId))&&(!t.userAssertionHash||!!this.matchUserAssertionHash(e,t.userAssertionHash))&&("string"!=typeof t.homeAccountId||!!this.matchHomeAccountId(e,t.homeAccountId))&&(!t.environment||!!this.matchEnvironment(e,t.environment))&&(!t.realm||!!this.matchRealm(e,t.realm))&&(!t.credentialType||!!this.matchCredentialType(e,t.credentialType))&&(!t.familyId||!!this.matchFamilyId(e,t.familyId))&&(!t.target||!!this.matchTarget(e,t.target))&&(!t.requestedClaimsHash&&!e.requestedClaimsHash||e.requestedClaimsHash===t.requestedClaimsHash)&&(e.credentialType!==T.ACCESS_TOKEN_WITH_AUTH_SCHEME||(!t.tokenType||!!this.matchTokenType(e,t.tokenType))&&(t.tokenType!==A.SSH||!t.keyId||!!this.matchKeyId(e,t.keyId)))}getAppMetadataFilteredBy(e){let t=this.getKeys(),r={};return t.forEach(t=>{if(!this.isAppMetadata(t))return;let n=this.getAppMetadata(t);n&&(!e.environment||this.matchEnvironment(n,e.environment))&&(!e.clientId||this.matchClientId(n,e.clientId))&&(r[t]=n)}),r}getAuthorityMetadataByAlias(e){let t=this.getAuthorityMetadataKeys(),r=null;return t.forEach(t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;let n=this.getAuthorityMetadata(t);n&&-1!==n.aliases.indexOf(e)&&(r=n)}),r}async removeAllAccounts(e){let t=this.getAccountKeys(),r=[];t.forEach(t=>{r.push(this.removeAccount(t,e))}),await Promise.all(r)}async removeAccount(e,t){let r=this.getAccount(e,t,this.commonLogger);r&&(await this.removeAccountContext(r,t),this.removeItem(e,t))}async removeAccountContext(e,t){let r=this.getTokenKeys(),n=e.generateAccountId();r.idToken.forEach(e=>{0===e.indexOf(n)&&this.removeIdToken(e,t)}),r.accessToken.forEach(e=>{0===e.indexOf(n)&&this.removeAccessToken(e,t)}),r.refreshToken.forEach(e=>{0===e.indexOf(n)&&this.removeRefreshToken(e,t)}),this.getKeys().forEach(e=>{e.includes(n)&&this.removeItem(e,t)})}updateOutdatedCachedAccount(e,t,r,n){if(t&&t.isSingleTenant()){this.commonLogger?.verbose("updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity");let i=this.getAccountKeys().filter(e=>e.startsWith(t.homeAccountId)),o=[];i.forEach(e=>{let t=this.getCachedAccountEntity(e,r);t&&o.push(t)});let s=o.find(e=>tZ(e.realm,e.homeAccountId))||o[0];s.tenantProfiles=o.map(e=>({tenantId:e.realm,localAccountId:e.localAccountId,name:e.name,isHomeTenant:tZ(e.realm,e.homeAccountId)}));let a=t8.toObject(new t0,{...s}),l=a.generateAccountKey();return i.forEach(t=>{t!==l&&this.removeOutdatedAccount(e,r)}),this.setAccount(a,r),n?.verbose("Updated an outdated account entity in the cache"),a}return t}removeAccessToken(e,t){let r=this.getAccessTokenCredential(e,t);if(this.removeItem(e,t),!r||r.credentialType.toLowerCase()!==T.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()||r.tokenType!==A.POP)return;let n=r.keyId;n&&this.cryptoImpl.removeTokenBindingKey(n).catch(()=>{this.commonLogger.error("Binding key could not be removed")})}removeAppMetadata(e){return this.getKeys().forEach(t=>{this.isAppMetadata(t)&&this.removeItem(t,e)}),!0}readAccountFromCache(e,t){let r=t0.generateAccountCacheKey(e);return this.getAccount(r,t,this.commonLogger)}getIdToken(e,t,r,n,i){this.commonLogger.trace("CacheManager - getIdToken called");let o={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:T.ID_TOKEN,clientId:this.clientId,realm:n},s=this.getIdTokensByFilter(o,t,r),a=s.size;if(a<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(a>1){let r=s;if(!n){let t=new Map;s.forEach((r,n)=>{r.realm===e.tenantId&&t.set(n,r)});let n=t.size;if(n<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),s.values().next().value;if(1===n)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),t.values().next().value;r=t}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),r.forEach((e,r)=>{this.removeIdToken(r,t)}),i&&t&&i.addFields({multiMatchedID:s.size},t),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),s.values().next().value}getIdTokensByFilter(e,t,r){let n=r&&r.idToken||this.getTokenKeys().idToken,i=new Map;return n.forEach(r=>{if(!this.idTokenKeyMatchesFilter(r,{clientId:this.clientId,...e}))return;let n=this.getIdTokenCredential(r,t);n&&this.credentialMatchesFilter(n,e)&&i.set(r,n)}),i}idTokenKeyMatchesFilter(e,t){let r=e.toLowerCase();return(!t.clientId||-1!==r.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==r.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e,t){this.removeItem(e,t)}removeRefreshToken(e,t){this.removeItem(e,t)}getAccessToken(e,t,r,n,i){this.commonLogger.trace("CacheManager - getAccessToken called");let o=tW.createSearchScopes(t.scopes),s=t.authenticationScheme||A.BEARER,a=s&&s.toLowerCase()!==A.BEARER.toLowerCase()?T.ACCESS_TOKEN_WITH_AUTH_SCHEME:T.ACCESS_TOKEN,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:a,clientId:this.clientId,realm:n||e.tenantId,target:o,tokenType:s,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},c=r&&r.accessToken||this.getTokenKeys().accessToken,u=[];c.forEach(e=>{if(this.accessTokenKeyMatchesFilter(e,l,!0)){let r=this.getAccessTokenCredential(e,t.correlationId);r&&this.credentialMatchesFilter(r,l)&&u.push(r)}});let h=u.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),u.forEach(e=>{this.removeAccessToken(tk(e),t.correlationId)}),i&&t.correlationId&&i.addFields({multiMatchedAT:u.length},t.correlationId),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),u[0])}accessTokenKeyMatchesFilter(e,t,r){let n=e.toLowerCase();if(t.clientId&&-1===n.indexOf(t.clientId.toLowerCase())||t.homeAccountId&&-1===n.indexOf(t.homeAccountId.toLowerCase())||t.realm&&-1===n.indexOf(t.realm.toLowerCase())||t.requestedClaimsHash&&-1===n.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){let e=t.target.asArray();for(let t=0;t<e.length;t++){if(r&&!n.includes(e[t].toLowerCase()))return!1;if(!r&&n.includes(e[t].toLowerCase()))break}}return!0}getAccessTokensByFilter(e,t){let r=this.getTokenKeys(),n=[];return r.accessToken.forEach(r=>{if(!this.accessTokenKeyMatchesFilter(r,e,!0))return;let i=this.getAccessTokenCredential(r,t);i&&this.credentialMatchesFilter(i,e)&&n.push(i)}),n}getRefreshToken(e,t,r,n,i){this.commonLogger.trace("CacheManager - getRefreshToken called");let o={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:T.REFRESH_TOKEN,clientId:this.clientId,familyId:t?"1":void 0},s=n&&n.refreshToken||this.getTokenKeys().refreshToken,a=[];s.forEach(e=>{if(this.refreshTokenKeyMatchesFilter(e,o)){let t=this.getRefreshTokenCredential(e,r);t&&this.credentialMatchesFilter(t,o)&&a.push(t)}});let l=a.length;return l<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(l>1&&i&&r&&i.addFields({multiMatchedRT:l},r),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),a[0])}refreshTokenKeyMatchesFilter(e,t){let r=e.toLowerCase();return(!t.familyId||-1!==r.indexOf(t.familyId.toLowerCase()))&&(!!t.familyId||!t.clientId||-1!==r.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==r.indexOf(t.homeAccountId.toLowerCase()))}readAppMetadataFromCache(e){let t={environment:e,clientId:this.clientId},r=this.getAppMetadataFilteredBy(t),n=Object.keys(r).map(e=>r[e]),i=n.length;if(i<1)return null;if(i>1)throw tf(eW);return n[0]}isAppMetadataFOCI(e){let t=this.readAppMetadataFromCache(e);return!!(t&&"1"===t.familyId)}matchHomeAccountId(e,t){return!!("string"==typeof e.homeAccountId&&t===e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return!(t.toLowerCase()!==e.name?.toLowerCase())}matchUsername(e,t){return!!(e&&"string"==typeof e&&t?.toLowerCase()===e.toLowerCase())}matchUserAssertionHash(e,t){return!!(e.userAssertionHash&&t===e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){let r=function(e,t){let r;let n=e.canonicalAuthority;if(n){let i=new tm(n).getUrlComponents().HostNameAndPort;r=tT(i,e.cloudDiscoveryMetadata?.metadata,v.CONFIG,t)||tT(i,t_.metadata,v.HARDCODED_VALUES,t)||e.knownAuthorities}return r||[]}(this.staticAuthorityOptions,this.commonLogger);if(r.includes(t)&&r.includes(e.environment))return!0}let r=this.getAuthorityMetadataByAlias(t);return!!(r&&r.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!!(e.clientId&&t===e.clientId)}matchFamilyId(e,t){return!!(e.familyId&&t===e.familyId)}matchRealm(e,t){return!(e.realm?.toLowerCase()!==t.toLowerCase())}matchNativeAccountId(e,t){return!!(e.nativeAccountId&&t===e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||e.preferred_username===t||e.upn===t}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!!(e.authorityType&&t.toLowerCase()===e.authorityType.toLowerCase())}matchTarget(e,t){return(e.credentialType===T.ACCESS_TOKEN||e.credentialType===T.ACCESS_TOKEN_WITH_AUTH_SCHEME)&&!!e.target&&tW.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!!(e.tokenType&&e.tokenType===t)}matchKeyId(e,t){return!!(e.keyId&&e.keyId===t)}isAppMetadata(e){return -1!==e.indexOf(b)}isAuthorityMetadata(e){return -1!==e.indexOf(w.CACHE_KEY)}generateAuthorityMetadataCacheKey(e){return`${w.CACHE_KEY}-${this.clientId}-${e}`}static toObject(e,t){for(let r in t)e[r]=t[r];return e}}class t6 extends t8{setAccount(){throw tf(tc)}getAccount(){throw tf(tc)}getCachedAccountEntity(){throw tf(tc)}setIdTokenCredential(){throw tf(tc)}getIdTokenCredential(){throw tf(tc)}setAccessTokenCredential(){throw tf(tc)}getAccessTokenCredential(){throw tf(tc)}setRefreshTokenCredential(){throw tf(tc)}getRefreshTokenCredential(){throw tf(tc)}setAppMetadata(){throw tf(tc)}getAppMetadata(){throw tf(tc)}setServerTelemetry(){throw tf(tc)}getServerTelemetry(){throw tf(tc)}setAuthorityMetadata(){throw tf(tc)}getAuthorityMetadata(){throw tf(tc)}getAuthorityMetadataKeys(){throw tf(tc)}setThrottlingCache(){throw tf(tc)}getThrottlingCache(){throw tf(tc)}removeItem(){throw tf(tc)}getKeys(){throw tf(tc)}getAccountKeys(){throw tf(tc)}getTokenKeys(){throw tf(tc)}updateCredentialCacheKey(){throw tf(tc)}removeOutdatedAccount(){throw tf(tc)}}/*! @azure/msal-common v14.16.1 2025-08-05 */let t3={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},t9={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:rP.Info,correlationId:a.EMPTY_STRING},t7={claimsBasedCachingEnabled:!1},re={async sendGetRequestAsync(){throw tf(tc)},async sendPostRequestAsync(){throw tf(tc)}},rt={sku:a.SKU,version:tz,cpu:a.EMPTY_STRING,os:a.EMPTY_STRING},rr={clientSecret:a.EMPTY_STRING,clientAssertion:void 0},rn={azureCloudInstance:tv.None,tenant:`${a.DEFAULT_COMMON_TENANT}`},ri={application:{appName:"",appVersion:""}};function ro(e){return e.authOptions.authority.options.protocolMode===tw.OIDC}/*! @azure/msal-common v14.16.1 2025-08-05 */let rs={HOME_ACCOUNT_ID:"home_account_id",UPN:"UPN"};/*! @azure/msal-common v14.16.1 2025-08-05 */class ra{static validateRedirectUri(e){if(!e)throw eN(eo)}static validatePrompt(e){let t=[];for(let e in p)t.push(p[e]);if(0>t.indexOf(e))throw eN(eh)}static validateClaims(e){try{JSON.parse(e)}catch(e){throw eN(ed)}}static validateCodeChallengeParams(e,t){if(e&&t)this.validateCodeChallengeMethod(t);else throw eN(eg)}static validateCodeChallengeMethod(e){if(0>[m.PLAIN,m.S256].indexOf(e))throw eN(em)}}class rl{constructor(e,t){this.parameters=new Map,this.performanceClient=t,this.correlationId=e}addResponseTypeCode(){this.parameters.set(Z,encodeURIComponent(a.CODE_RESPONSE_TYPE))}addResponseTypeForTokenAndIdToken(){this.parameters.set(Z,encodeURIComponent(`${a.TOKEN_RESPONSE_TYPE} ${a.ID_TOKEN_RESPONSE_TYPE}`))}addResponseMode(e){this.parameters.set("response_mode",encodeURIComponent(e||g.QUERY))}addNativeBroker(){this.parameters.set("nativebroker",encodeURIComponent("1"))}addScopes(e,t=!0,r=c){!t||r.includes("openid")||e.includes("openid")||r.push("openid");let n=new tW(t?[...e||[],...r]:e||[]);this.parameters.set("scope",encodeURIComponent(n.printScopes()))}addClientId(e){this.parameters.set(G,encodeURIComponent(e))}addRedirectUri(e){ra.validateRedirectUri(e),this.parameters.set(K,encodeURIComponent(e))}addPostLogoutRedirectUri(e){ra.validateRedirectUri(e),this.parameters.set("post_logout_redirect_uri",encodeURIComponent(e))}addIdTokenHint(e){this.parameters.set("id_token_hint",encodeURIComponent(e))}addDomainHint(e){this.parameters.set("domain_hint",encodeURIComponent(e))}addLoginHint(e){this.parameters.set("login_hint",encodeURIComponent(e))}addCcsUpn(e){this.parameters.set(h.CCS_HEADER,encodeURIComponent(`UPN:${e}`))}addCcsOid(e){this.parameters.set(h.CCS_HEADER,encodeURIComponent(`Oid:${e.uid}@${e.utid}`))}addSid(e){this.parameters.set("sid",encodeURIComponent(e))}addClaims(e,t){let r=this.addClientCapabilitiesToClaims(e,t);ra.validateClaims(r),this.parameters.set("claims",encodeURIComponent(r))}addCorrelationId(e){this.parameters.set("client-request-id",encodeURIComponent(e))}addLibraryInfo(e){this.parameters.set("x-client-SKU",e.sku),this.parameters.set("x-client-VER",e.version),e.os&&this.parameters.set("x-client-OS",e.os),e.cpu&&this.parameters.set("x-client-CPU",e.cpu)}addApplicationTelemetry(e){e?.appName&&this.parameters.set("x-app-name",e.appName),e?.appVersion&&this.parameters.set("x-app-ver",e.appVersion)}addPrompt(e){ra.validatePrompt(e),this.parameters.set("prompt",encodeURIComponent(e))}addState(e){e&&this.parameters.set("state",encodeURIComponent(e))}addNonce(e){this.parameters.set("nonce",encodeURIComponent(e))}addCodeChallengeParams(e,t){if(ra.validateCodeChallengeParams(e,t),e&&t)this.parameters.set("code_challenge",encodeURIComponent(e)),this.parameters.set("code_challenge_method",encodeURIComponent(t));else throw eN(eg)}addAuthorizationCode(e){this.parameters.set("code",encodeURIComponent(e))}addDeviceCode(e){this.parameters.set("device_code",encodeURIComponent(e))}addRefreshToken(e){this.parameters.set("refresh_token",encodeURIComponent(e))}addCodeVerifier(e){this.parameters.set("code_verifier",encodeURIComponent(e))}addClientSecret(e){this.parameters.set("client_secret",encodeURIComponent(e))}addClientAssertion(e){e&&this.parameters.set("client_assertion",encodeURIComponent(e))}addClientAssertionType(e){e&&this.parameters.set("client_assertion_type",encodeURIComponent(e))}addOboAssertion(e){this.parameters.set("assertion",encodeURIComponent(e))}addRequestTokenUse(e){this.parameters.set("requested_token_use",encodeURIComponent(e))}addGrantType(e){this.parameters.set("grant_type",encodeURIComponent(e))}addClientInfo(){this.parameters.set("client_info","1")}addExtraQueryParameters(e){Object.entries(e).forEach(([e,t])=>{!this.parameters.has(e)&&t&&this.parameters.set(e,t)})}addClientCapabilitiesToClaims(e,t){let r;if(e)try{r=JSON.parse(e)}catch(e){throw eN(ed)}else r={};return t&&t.length>0&&(r.hasOwnProperty(f.ACCESS_TOKEN)||(r[f.ACCESS_TOKEN]={}),r[f.ACCESS_TOKEN][f.XMS_CC]={values:t}),JSON.stringify(r)}addUsername(e){this.parameters.set(O.username,encodeURIComponent(e))}addPassword(e){this.parameters.set(O.password,encodeURIComponent(e))}addPopToken(e){e&&(this.parameters.set(Q,A.POP),this.parameters.set(X,encodeURIComponent(e)))}addSshJwk(e){e&&(this.parameters.set(Q,A.SSH),this.parameters.set(X,encodeURIComponent(e)))}addServerTelemetry(e){this.parameters.set("x-client-current-telemetry",e.generateCurrentRequestHeaderValue()),this.parameters.set("x-client-last-telemetry",e.generateLastRequestHeaderValue())}addThrottling(){this.parameters.set("x-ms-lib-capability",I.X_MS_LIB_CAPABILITY_VALUE)}addLogoutHint(e){this.parameters.set("logout_hint",encodeURIComponent(e))}addBrokerParameters(e){let t={};t[et]=e.brokerClientId,t.brk_redirect_uri=e.brokerRedirectUri,this.addExtraQueryParameters(t)}createQueryString(){let e=[];return this.parameters.forEach((t,r)=>{e.push(`${r}=${t}`)}),/*! @azure/msal-common v14.16.1 2025-08-05 */function(e,t,r){if(!t)return;let n=e.get(G);n&&e.has(et)&&r?.addFields({embeddedClientId:n,embeddedRedirectUri:e.get(K)},t)}(this.parameters,this.correlationId,this.performanceClient),e.join("&")}}/*! @azure/msal-common v14.16.1 2025-08-05 */async function rc(e,t,r,n,i,o,s){s?.addQueueMeasurement(tS.AuthorityFactoryCreateDiscoveredInstance,o);let a=tY.transformCIAMAuthority(tH(e)),l=new tY(a,t,r,n,i,o,s);try{return await tI(l.resolveEndpointsAsync.bind(l),tS.AuthorityResolveEndpointsAsync,i,s,o)(),l}catch(e){throw tf(eL)}}/*! @azure/msal-common v14.16.1 2025-08-05 */class ru{static generateThrottlingStorageKey(e){return`${I.THROTTLING_PREFIX}.${JSON.stringify(e)}`}static preProcess(e,t,r){let n=ru.generateThrottlingStorageKey(t),i=e.getThrottlingCache(n);if(i){if(i.throttleTime<Date.now()){e.removeItem(n,r);return}throw new er(i.errorCodes?.join(" ")||a.EMPTY_STRING,i.errorMessage,i.subError)}}static postProcess(e,t,r,n){if(ru.checkResponseStatus(r)||ru.checkResponseForRetryAfter(r)){let i={throttleTime:ru.calculateThrottleTime(parseInt(r.headers[h.RETRY_AFTER])),error:r.body.error,errorCodes:r.body.error_codes,errorMessage:r.body.error_description,subError:r.body.suberror};e.setThrottlingCache(ru.generateThrottlingStorageKey(t),i,n)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&e.headers.hasOwnProperty(h.RETRY_AFTER)&&(e.status<200||e.status>=300)}static calculateThrottleTime(e){let t=Date.now()/1e3;return Math.floor(1e3*Math.min(t+((e<=0?0:e)||I.DEFAULT_THROTTLE_TIME_SECONDS),t+I.DEFAULT_MAX_THROTTLE_TIME_SECONDS))}static removeThrottle(e,t,r,n){let i={clientId:t,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:n,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},o=this.generateThrottlingStorageKey(i);e.removeItem(o,r.correlationId)}}/*! @azure/msal-common v14.16.1 2025-08-05 */class rh extends z{constructor(e,t,r){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,rh.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=r}}/*! @azure/msal-common v14.16.1 2025-08-05 */class rd{constructor(e,t){this.config=function({authOptions:e,systemOptions:t,loggerOptions:r,cacheOptions:n,storageInterface:i,networkInterface:o,cryptoInterface:s,clientCredentials:a,libraryInfo:l,telemetry:c,serverTelemetryManager:u,persistencePlugin:h,serializableCache:d}){let f={...t9,...r};return{authOptions:{clientCapabilities:[],azureCloudOptions:rn,skipAuthorityMetadataCache:!1,instanceAware:!1,...e},systemOptions:{...t3,...t},loggerOptions:f,cacheOptions:{...t7,...n},storageInterface:i||new t6(e.clientId,tV,new en(f)),networkInterface:o||re,cryptoInterface:s||tV,clientCredentials:a||rr,libraryInfo:{...rt,...l},telemetry:{...ri,...c},serverTelemetryManager:u||null,persistencePlugin:h||null,serializableCache:d||null}}(e),this.logger=new en(this.config.loggerOptions,t$,tz),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){let t={};if(t[h.CONTENT_TYPE]=a.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case rs.HOME_ACCOUNT_ID:try{let r=tK(e.credential);t[h.CCS_HEADER]=`Oid:${r.uid}@${r.utid}`}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case rs.UPN:t[h.CCS_HEADER]=`UPN: ${e.credential}`}return t}async executePostToTokenEndpoint(e,t,r,n,i,o){o&&this.performanceClient?.addQueueMeasurement(o,i);let s=await this.sendPostRequest(n,e,{body:t,headers:r},i);return this.config.serverTelemetryManager&&s.status<500&&429!==s.status&&this.config.serverTelemetryManager.clearTelemetryCache(),s}async sendPostRequest(e,t,r,n){let i;ru.preProcess(this.cacheManager,e,n);try{let e=(i=await tI(this.networkClient.sendPostRequestAsync.bind(this.networkClient),tS.NetworkClientSendPostRequestAsync,this.logger,this.performanceClient,n)(t,r)).headers||{};this.performanceClient?.addFields({refreshTokenSize:i.body.refresh_token?.length||0,httpVerToken:e[h.X_MS_HTTP_VERSION]||"",requestId:e[h.X_MS_REQUEST_ID]||""},n)}catch(e){if(e instanceof rh){let t=e.responseHeaders;throw t&&this.performanceClient?.addFields({httpVerToken:t[h.X_MS_HTTP_VERSION]||"",requestId:t[h.X_MS_REQUEST_ID]||"",contentTypeHeader:t[h.CONTENT_TYPE]||void 0,contentLengthHeader:t[h.CONTENT_LENGTH]||void 0,httpStatus:e.httpStatus},n),e.error}if(e instanceof z)throw e;throw tf(ex)}return ru.postProcess(this.cacheManager,e,i,n),i}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(tS.UpdateTokenEndpointAuthority,t);let r=`https://${e}/${this.authority.tenant}/`,n=await rc(r,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=n}createTokenQueryParameters(e){let t=new rl(e.correlationId,this.performanceClient);return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.addCorrelationId(e.correlationId),t.createQueryString()}}/*! @azure/msal-common v14.16.1 2025-08-05 */let rf="no_tokens_found",rp="native_account_unavailable",rm="refresh_token_expired",rg="bad_token",ry=["interaction_required","consent_required","login_required",rg],r_=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],rE={[rf]:"No refresh token found in the cache. Please sign-in.",[rp]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[rm]:"Refresh token has expired.",[rg]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};rE[rf],rE[rp],rE[rg];class rT extends z{constructor(e,t,r,n,i,o,s,l){super(e,t,r),Object.setPrototypeOf(this,rT.prototype),this.timestamp=n||a.EMPTY_STRING,this.traceId=i||a.EMPTY_STRING,this.correlationId=o||a.EMPTY_STRING,this.claims=s||a.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=l}}function rb(e,t,r){let n=!!e&&ry.indexOf(e)>-1,i=!!r&&r_.indexOf(r)>-1,o=!!t&&ry.some(e=>t.indexOf(e)>-1);return n||o||i}function rw(e){return new rT(e,rE[e])}/*! @azure/msal-common v14.16.1 2025-08-05 */class rv{static setRequestState(e,t,r){let n=rv.generateLibraryState(e,r);return t?`${n}${a.RESOURCE_DELIM}${t}`:n}static generateLibraryState(e,t){if(!e)throw tf(e8);let r={id:e.createNewGuid()};t&&(r.meta=t);let n=JSON.stringify(r);return e.base64Encode(n)}static parseRequestState(e,t){if(!e)throw tf(e8);if(!t)throw tf(eB);try{let r=t.split(a.RESOURCE_DELIM),n=r[0],i=r.length>1?r.slice(1).join(a.RESOURCE_DELIM):a.EMPTY_STRING,o=e.base64Decode(n),s=JSON.parse(o);return{userRequestState:i||a.EMPTY_STRING,libraryState:s}}catch(e){throw tf(eB)}}}/*! @azure/msal-common v14.16.1 2025-08-05 */let rS={SW:"sw"};class rA{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(tS.PopTokenGenerateCnf,e.correlationId);let r=await tI(this.generateKid.bind(this),tS.PopTokenGenerateCnf,t,this.performanceClient,e.correlationId)(e),n=this.cryptoUtils.base64UrlEncode(JSON.stringify(r));return{kid:r.kid,reqCnfString:n}}async generateKid(e){return this.performanceClient?.addQueueMeasurement(tS.PopTokenGenerateKid,e.correlationId),{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:rS.SW}}async signPopToken(e,t,r){return this.signPayload(e,t,r)}async signPayload(e,t,r,n){let{resourceRequestMethod:i,resourceRequestUri:o,shrClaims:s,shrNonce:a,shrOptions:l}=r,c=o?new tm(o):void 0,u=c?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:tR(),m:i?.toUpperCase(),u:u?.HostNameAndPort,nonce:a||this.cryptoUtils.createNewGuid(),p:u?.AbsolutePath,q:u?.QueryString?[[],u.QueryString]:void 0,client_claims:s||void 0,...n},t,l,r.correlationId)}}/*! @azure/msal-common v14.16.1 2025-08-05 */class rI{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class rC{constructor(e,t,r,n,i,o,s){this.clientId=e,this.cacheStorage=t,this.cryptoObj=r,this.logger=n,this.serializableCache=i,this.persistencePlugin=o,this.performanceClient=s}validateServerAuthorizationCodeResponse(e,t){let r,n;if(!e.state||!t)throw e.state?tf(ej,"Cached State"):tf(ej,"Server State");try{r=decodeURIComponent(e.state)}catch(t){throw tf(eB,e.state)}try{n=decodeURIComponent(t)}catch(t){throw tf(eB,e.state)}if(r!==n)throw tf(eq);if(e.error||e.error_description||e.suberror){let t=/*! @azure/msal-common v14.16.1 2025-08-05 */function(e){let t="code=",r=e.error_uri?.lastIndexOf(t);return r&&r>=0?e.error_uri?.substring(r+t.length):void 0}(e);if(rb(e.error,e.error_description,e.suberror))throw new rT(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new er(e.error||"",e.error_description,e.suberror,t)}}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){let r=`Error(s): ${e.error_codes||a.NOT_AVAILABLE} - Timestamp: ${e.timestamp||a.NOT_AVAILABLE} - Description: ${e.error_description||a.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||a.NOT_AVAILABLE} - Trace ID: ${e.trace_id||a.NOT_AVAILABLE}`,n=e.error_codes?.length?e.error_codes[0]:void 0,i=new er(e.error,r,e.suberror,n,e.status);if(t&&e.status&&e.status>=l.SERVER_ERROR_RANGE_START&&e.status<=l.SERVER_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.
${i}`);return}if(t&&e.status&&e.status>=l.CLIENT_ERROR_RANGE_START&&e.status<=l.CLIENT_ERROR_RANGE_END){this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.
${i}`);return}if(rb(e.error,e.error_description,e.suberror))throw new rT(e.error,e.error_description,e.suberror,e.timestamp||a.EMPTY_STRING,e.trace_id||a.EMPTY_STRING,e.correlation_id||a.EMPTY_STRING,e.claims||a.EMPTY_STRING,n);throw i}}async handleServerTokenResponse(e,t,r,n,i,o,s,l,c){let u,h,d;if(this.performanceClient?.addQueueMeasurement(tS.HandleServerTokenResponse,e.correlation_id),e.id_token){if(u=tO(e.id_token||a.EMPTY_STRING,this.cryptoObj.base64Decode),i&&i.nonce&&u.nonce!==i.nonce)throw tf(eY);if(n.maxAge||0===n.maxAge){let e=u.auth_time;if(!e)throw tf(eH);tN(e,n.maxAge)}}this.homeAccountIdentifier=t0.generateHomeAccountId(e.client_info||a.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,u),i&&i.state&&(h=rv.parseRequestState(this.cryptoObj,i.state)),e.key_id=e.key_id||n.sshKid||void 0;let f=this.generateCacheRecord(e,t,r,n,u,o,i);try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),d=new rI(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(d)),s&&!l&&f.account){let e=f.account.generateAccountKey();if(!this.cacheStorage.getAccount(e,n.correlationId,this.logger))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await rC.generateAuthenticationResult(this.cryptoObj,t,f,!1,n,u,h,void 0,c)}await this.cacheStorage.saveCacheRecord(f,n.correlationId,n.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&d&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(d))}return rC.generateAuthenticationResult(this.cryptoObj,t,f,!1,n,u,h,e,c)}generateCacheRecord(e,t,r,n,i,o,s){let a,l;let c=t.getPreferredCache();if(!c)throw tf(e5);let u=tJ(i);if(e.id_token&&i){var h,d,f,p;h=this.homeAccountIdentifier,d=e.id_token,f=this.clientId,p=u||"",a={credentialType:T.ID_TOKEN,homeAccountId:h,environment:c,clientId:f,secret:d,realm:p},l=function(e,t,r,n,i,o,s,a,l,c,u,h){h?.verbose("setCachedAccount called");let d=e.getAccountKeys().find(e=>e.startsWith(r)),f=null;d&&(f=e.getAccount(d,i,h));let p=f||t0.createAccount({homeAccountId:r,idTokenClaims:o,clientInfo:s,environment:a,cloudGraphHostName:c?.cloud_graph_host_name,msGraphHost:c?.msgraph_host,nativeAccountId:u},t,n),m=p.tenantProfiles||[],g=l||p.realm;if(g&&!m.find(e=>e.tenantId===g)){let e=tQ(r,p.localAccountId,g,o);m.push(e)}return p.tenantProfiles=m,p}(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,n.correlationId,i,e.client_info,c,u,s,void 0,this.logger)}let m=null;if(e.access_token){let i=e.scope?tW.fromString(e.scope):new tW(n.scopes||[]),s=("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,a=("string"==typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,l=("string"==typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,h=r+s;m=function(e,t,r,n,i,o,s,a,l,c,u,h,d,f,p){let m={homeAccountId:e,credentialType:T.ACCESS_TOKEN,secret:r,cachedAt:tR().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:t,clientId:n,realm:i,target:o,tokenType:u||A.BEARER};if(h&&(m.userAssertionHash=h),c&&(m.refreshOn=c.toString()),f&&(m.requestedClaims=f,m.requestedClaimsHash=p),m.tokenType?.toLowerCase()!==A.BEARER.toLowerCase())switch(m.credentialType=T.ACCESS_TOKEN_WITH_AUTH_SCHEME,m.tokenType){case A.POP:let g=tO(r,l);if(!g?.cnf?.kid)throw tf(tt);m.keyId=g.cnf.kid;break;case A.SSH:m.keyId=d}return m}(this.homeAccountIdentifier,c,e.access_token,this.clientId,u||t.tenant||"",i.printScopes(),h,h+a,this.cryptoObj.base64Decode,l&&l>0?r+l:void 0,e.token_type,o,e.key_id,n.claims,n.requestedClaimsHash)}let g=null;if(e.refresh_token){let t;e.refresh_token_expires_in&&(t=r+("string"==typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)),g=function(e,t,r,n,i,o,s){let a={credentialType:T.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:n,secret:r};return o&&(a.userAssertionHash=o),i&&(a.familyId=i),s&&(a.expiresOn=s.toString()),a}(this.homeAccountIdentifier,c,e.refresh_token,this.clientId,e.foci,o,t)}let y=null;return e.foci&&(y={clientId:this.clientId,environment:c,familyId:e.foci}),{account:l,idToken:a,accessToken:m,refreshToken:g,appMetadata:y}}static async generateAuthenticationResult(e,t,r,n,i,o,s,l,c){let u,h,d=a.EMPTY_STRING,f=[],p=null,m=a.EMPTY_STRING;if(r.accessToken){if(r.accessToken.tokenType!==A.POP||i.popKid)d=r.accessToken.secret;else{let t=new rA(e),{secret:n,keyId:o}=r.accessToken;if(!o)throw tf(to);d=await t.signPopToken(n,o,i)}f=tW.fromString(r.accessToken.target).asArray(),p=new Date(1e3*Number(r.accessToken.expiresOn)),u=new Date(1e3*Number(r.accessToken.extendedExpiresOn)),r.accessToken.refreshOn&&(h=new Date(1e3*Number(r.accessToken.refreshOn)))}r.appMetadata&&(m="1"===r.appMetadata.familyId?"1":"");let g=o?.oid||o?.sub||"",y=o?.tid||"";l?.spa_accountid&&r.account&&(r.account.nativeAccountId=l?.spa_accountid);let _=r.account?tX(r.account.getAccountInfo(),void 0,o,r.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:g,tenantId:y,scopes:f,account:_,idToken:r?.idToken?.secret||"",idTokenClaims:o||{},accessToken:d,fromCache:n,expiresOn:p,extExpiresOn:u,refreshOn:h,correlationId:i.correlationId,requestId:c||a.EMPTY_STRING,familyId:m,tokenType:r.accessToken?.tokenType||a.EMPTY_STRING,state:s?s.userRequestState:a.EMPTY_STRING,cloudGraphHostName:r.account?.cloudGraphHostName||a.EMPTY_STRING,msGraphHost:r.account?.msGraphHost||a.EMPTY_STRING,code:l?.spa_code,fromNativeBroker:!1}}}/*! @azure/msal-common v14.16.1 2025-08-05 */async function rO(e,t,r){return"string"==typeof e?e:e({clientId:t,tokenEndpoint:r})}/*! @azure/msal-common v14.16.1 2025-08-05 */class rN extends rd{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async getAuthCodeUrl(e){this.performanceClient?.addQueueMeasurement(tS.GetAuthCodeUrl,e.correlationId);let t=await tI(this.createAuthCodeUrlQueryString.bind(this),tS.AuthClientCreateQueryString,this.logger,this.performanceClient,e.correlationId)(e);return tm.appendQueryString(this.authority.authorizationEndpoint,t)}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement(tS.AuthClientAcquireToken,e.correlationId),!e.code)throw tf(eG);let r=tR(),n=await tI(this.executeTokenRequest.bind(this),tS.AuthClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(this.authority,e),i=n.headers?.[h.X_MS_REQUEST_ID],o=new rC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return o.validateTokenResponse(n.body),tI(o.handleServerTokenResponse.bind(o),tS.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,r,e,t,void 0,void 0,void 0,i)}handleFragmentResponse(e,t){if(new rC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null).validateServerAuthorizationCodeResponse(e,t),!e.code)throw tf(tr);return e}getLogoutUri(e){if(!e)throw eN(ep);let t=this.createLogoutUrlQueryString(e);return tm.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){let r;this.performanceClient?.addQueueMeasurement(tS.AuthClientExecuteTokenRequest,t.correlationId);let n=this.createTokenQueryParameters(t),i=tm.appendQueryString(e.tokenEndpoint,n),o=await tI(this.createTokenRequestBody.bind(this),tS.AuthClientCreateTokenRequestBody,this.logger,this.performanceClient,t.correlationId)(t);if(t.clientInfo)try{let e=tG(t.clientInfo,this.cryptoUtils.base64Decode);r={credential:`${e.uid}${E.CLIENT_INFO_SEPARATOR}${e.utid}`,type:rs.HOME_ACCOUNT_ID}}catch(e){this.logger.verbose("Could not parse client info for CCS Header: "+e)}let s=this.createTokenRequestHeaders(r||t.ccsCredential),a={clientId:t.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return tI(this.executePostToTokenEndpoint.bind(this),tS.AuthorizationCodeClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,t.correlationId)(i,o,s,a,t.correlationId,tS.AuthorizationCodeClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){let t;this.performanceClient?.addQueueMeasurement(tS.AuthClientCreateTokenRequestBody,e.correlationId);let r=new rl(e.correlationId,this.performanceClient);if(r.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[G]||this.config.authOptions.clientId),this.includeRedirectUri?r.addRedirectUri(e.redirectUri):ra.validateRedirectUri(e.redirectUri),r.addScopes(e.scopes,!0,this.oidcDefaultScopes),r.addAuthorizationCode(e.code),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&!ro(this.config)&&r.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&r.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&r.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let t=this.config.clientCredentials.clientAssertion;r.addClientAssertion(await rO(t.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),r.addClientAssertionType(t.assertionType)}if(r.addGrantType(y.AUTHORIZATION_CODE_GRANT),r.addClientInfo(),e.authenticationScheme===A.POP){let t;let n=new rA(this.cryptoUtils,this.performanceClient);t=e.popKid?this.cryptoUtils.encodeKid(e.popKid):(await tI(n.generateCnf.bind(n),tS.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(t)}else if(e.authenticationScheme===A.SSH){if(e.sshJwk)r.addSshJwk(e.sshJwk);else throw eN(eT)}if((!eR.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{let r=tG(e.clientInfo,this.cryptoUtils.base64Decode);t={credential:`${r.uid}${E.CLIENT_INFO_SEPARATOR}${r.utid}`,type:rs.HOME_ACCOUNT_ID}}catch(e){this.logger.verbose("Could not parse client info for CCS Header: "+e)}else t=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&t)switch(t.type){case rs.HOME_ACCOUNT_ID:try{let e=tK(t.credential);r.addCcsOid(e)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case rs.UPN:r.addCcsUpn(t.credential)}return e.embeddedClientId&&r.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&r.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[J]||r.addExtraQueryParameters({[J]:"1"}),r.createQueryString()}async createAuthCodeUrlQueryString(e){let t=e.correlationId||this.config.cryptoInterface.createNewGuid();this.performanceClient?.addQueueMeasurement(tS.AuthClientCreateQueryString,t);let r=new rl(t,this.performanceClient);r.addClientId(e.embeddedClientId||e.extraQueryParameters?.[G]||this.config.authOptions.clientId);let n=[...e.scopes||[],...e.extraScopesToConsent||[]];if(r.addScopes(n,!0,this.oidcDefaultScopes),r.addRedirectUri(e.redirectUri),r.addCorrelationId(t),r.addResponseMode(e.responseMode),r.addResponseTypeCode(),r.addLibraryInfo(this.config.libraryInfo),ro(this.config)||r.addApplicationTelemetry(this.config.telemetry.application),r.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&r.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&r.addPrompt(e.prompt),e.domainHint&&r.addDomainHint(e.domainHint),e.prompt!==p.SELECT_ACCOUNT){if(e.sid&&e.prompt===p.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),r.addSid(e.sid);else if(e.account){let t=this.extractAccountSid(e.account),n=this.extractLoginHint(e.account);if(n&&e.domainHint&&(this.logger.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),n=null),n){this.logger.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),r.addLoginHint(n);try{let t=tK(e.account.homeAccountId);r.addCcsOid(t)}catch(e){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t&&e.prompt===p.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),r.addSid(t);try{let t=tK(e.account.homeAccountId);r.addCcsOid(t)}catch(e){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),r.addLoginHint(e.account.username);try{let t=tK(e.account.homeAccountId);r.addCcsOid(t)}catch(e){this.logger.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),r.addLoginHint(e.loginHint),r.addCcsUpn(e.loginHint))}else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");if(e.nonce&&r.addNonce(e.nonce),e.state&&r.addState(e.state),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.embeddedClientId&&r.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),this.addExtraQueryParams(e,r),e.nativeBroker&&(r.addNativeBroker(),e.authenticationScheme===A.POP)){let t;let n=new rA(this.cryptoUtils);t=e.popKid?this.cryptoUtils.encodeKid(e.popKid):(await tI(n.generateCnf.bind(n),tS.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,r.addPopToken(t)}return r.createQueryString()}createLogoutUrlQueryString(e){let t=new rl(e.correlationId,this.performanceClient);return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),this.addExtraQueryParams(e,t),t.createQueryString()}addExtraQueryParams(e,t){!(e.extraQueryParameters&&e.extraQueryParameters.hasOwnProperty("instance_aware"))&&this.config.authOptions.instanceAware&&(e.extraQueryParameters=e.extraQueryParameters||{},e.extraQueryParameters.instance_aware="true"),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters)}extractAccountSid(e){return e.idTokenClaims?.sid||null}extractLoginHint(e){return e.idTokenClaims?.login_hint||null}}class rR extends rd{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(tS.RefreshTokenClientAcquireToken,e.correlationId);let t=tR(),r=await tI(this.executeTokenRequest.bind(this),tS.RefreshTokenClientExecuteTokenRequest,this.logger,this.performanceClient,e.correlationId)(e,this.authority),n=r.headers?.[h.X_MS_REQUEST_ID],i=new rC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(r.body),tI(i.handleServerTokenResponse.bind(i),tS.HandleServerTokenResponse,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,n)}async acquireTokenByRefreshToken(e){if(!e)throw eN(ef);if(this.performanceClient?.addQueueMeasurement(tS.RefreshTokenClientAcquireTokenByRefreshToken,e.correlationId),!e.account)throw tf(e1);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await tI(this.acquireTokenWithCachedRefreshToken.bind(this),tS.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(r){let e=r instanceof rT&&r.errorCode===rf,t=r instanceof er&&r.errorCode===C.INVALID_GRANT_ERROR&&r.subError===C.CLIENT_MISMATCH_ERROR;if(e||t);else throw r}return tI(this.acquireTokenWithCachedRefreshToken.bind(this),tS.RefreshTokenClientAcquireTokenWithCachedRefreshToken,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(tS.RefreshTokenClientAcquireTokenWithCachedRefreshToken,e.correlationId);let r=tA(this.cacheManager.getRefreshToken.bind(this.cacheManager),tS.CacheManagerGetRefreshToken,this.logger,this.performanceClient,e.correlationId)(e.account,t,e.correlationId,void 0,this.performanceClient);if(!r)throw rw(rf);if(r.expiresOn&&tD(r.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw rw(rm);let n={...e,refreshToken:r.secret,authenticationScheme:e.authenticationScheme||A.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:rs.HOME_ACCOUNT_ID}};try{return await tI(this.acquireToken.bind(this),tS.RefreshTokenClientAcquireToken,this.logger,this.performanceClient,e.correlationId)(n)}catch(t){if(t instanceof rT&&t.subError===rg){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");let t=tk(r);this.cacheManager.removeRefreshToken(t,e.correlationId)}throw t}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(tS.RefreshTokenClientExecuteTokenRequest,e.correlationId);let r=this.createTokenQueryParameters(e),n=tm.appendQueryString(t.tokenEndpoint,r),i=await tI(this.createTokenRequestBody.bind(this),tS.RefreshTokenClientCreateTokenRequestBody,this.logger,this.performanceClient,e.correlationId)(e),o=this.createTokenRequestHeaders(e.ccsCredential),s={clientId:e.tokenBodyParameters?.clientId||this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return tI(this.executePostToTokenEndpoint.bind(this),tS.RefreshTokenClientExecutePostToTokenEndpoint,this.logger,this.performanceClient,e.correlationId)(n,i,o,s,e.correlationId,tS.RefreshTokenClientExecutePostToTokenEndpoint)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(tS.RefreshTokenClientCreateTokenRequestBody,e.correlationId);let t=new rl(e.correlationId,this.performanceClient);if(t.addClientId(e.embeddedClientId||e.tokenBodyParameters?.[G]||this.config.authOptions.clientId),e.redirectUri&&t.addRedirectUri(e.redirectUri),t.addScopes(e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),t.addGrantType(y.REFRESH_TOKEN_GRANT),t.addClientInfo(),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&!ro(this.config)&&t.addServerTelemetry(this.serverTelemetryManager),t.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){let r=this.config.clientCredentials.clientAssertion;t.addClientAssertion(await rO(r.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(r.assertionType)}if(e.authenticationScheme===A.POP){let r;let n=new rA(this.cryptoUtils,this.performanceClient);r=e.popKid?this.cryptoUtils.encodeKid(e.popKid):(await tI(n.generateCnf.bind(n),tS.PopTokenGenerateCnf,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString,t.addPopToken(r)}else if(e.authenticationScheme===A.SSH){if(e.sshJwk)t.addSshJwk(e.sshJwk);else throw eN(eT)}if((!eR.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case rs.HOME_ACCOUNT_ID:try{let r=tK(e.ccsCredential.credential);t.addCcsOid(r)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case rs.UPN:t.addCcsUpn(e.ccsCredential.credential)}return e.embeddedClientId&&t.addBrokerParameters({brokerClientId:this.config.authOptions.clientId,brokerRedirectUri:this.config.authOptions.redirectUri}),e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),t.createQueryString()}}/*! @azure/msal-common v14.16.1 2025-08-05 */class rD extends rd{constructor(e,t){super(e,t)}async acquireToken(e){try{let[t,r]=await this.acquireCachedToken({...e,scopes:e.scopes?.length?e.scopes:[...c]});return r===k.PROACTIVELY_REFRESHED&&(this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),new rR(this.config,this.performanceClient).acquireTokenByRefreshToken(e).catch(()=>{})),t}catch(t){if(t instanceof td&&t.errorCode===e7)return new rR(this.config,this.performanceClient).acquireTokenByRefreshToken(e);throw t}}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(tS.SilentFlowClientAcquireCachedToken,e.correlationId);let t=k.NOT_APPLICABLE;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!eR.isEmptyObj(e.claims))throw this.setCacheOutcome(k.FORCE_REFRESH_OR_CLAIMS,e.correlationId),tf(e7);if(!e.account)throw tf(e1);let r=e.account.tenantId||function(e){let t=new tm(e).getUrlComponents(),r=t.PathSegments.slice(-1)[0]?.toLowerCase();switch(r){case d.COMMON:case d.ORGANIZATIONS:case d.CONSUMERS:return;default:return r}}(e.authority),n=this.cacheManager.getTokenKeys(),i=this.cacheManager.getAccessToken(e.account,e,n,r,this.performanceClient);if(i){if(Number(i.cachedAt)>tR()||tD(i.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(k.CACHED_ACCESS_TOKEN_EXPIRED,e.correlationId),tf(e7);i.refreshOn&&tD(i.refreshOn,0)&&(t=k.PROACTIVELY_REFRESHED)}else throw this.setCacheOutcome(k.NO_CACHED_ACCESS_TOKEN,e.correlationId),tf(e7);let o=e.authority||this.authority.getPreferredCache(),s={account:this.cacheManager.readAccountFromCache(e.account,e.correlationId),accessToken:i,idToken:this.cacheManager.getIdToken(e.account,e.correlationId,n,r,this.performanceClient),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(o)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await tI(this.generateResultFromCacheRecord.bind(this),tS.SilentFlowClientGenerateResultFromCacheRecord,this.logger,this.performanceClient,e.correlationId)(s,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==k.NOT_APPLICABLE&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){let r;if(this.performanceClient?.addQueueMeasurement(tS.SilentFlowClientGenerateResultFromCacheRecord,t.correlationId),e.idToken&&(r=tO(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){let e=r?.auth_time;if(!e)throw tf(eH);tN(e,t.maxAge)}return rC.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,r)}}/*! @azure/msal-node v2.16.3 2025-08-05 */class rk{static getNetworkResponse(e,t,r){return{headers:e,body:t,status:r}}static urlToHttpOptions(e){let t={protocol:e.protocol,hostname:e.hostname&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:`${e.pathname||""}${e.search||""}`,href:e.href};return""!==e.port&&(t.port=Number(e.port)),(e.username||e.password)&&(t.auth=`${decodeURIComponent(e.username)}:${decodeURIComponent(e.password)}`),t}}var rP,rM,rL,rx=r(13685),rU=r.n(rx),rF=r(95687),rB=r.n(rF);/*! @azure/msal-node v2.16.3 2025-08-05 */class rq{constructor(e,t){this.proxyUrl=e||"",this.customAgentOptions=t||{}}async sendGetRequestAsync(e,t,r){return this.proxyUrl?rj(e,this.proxyUrl,L.GET,t,this.customAgentOptions,r):rY(e,L.GET,t,this.customAgentOptions,r)}async sendPostRequestAsync(e,t){return this.proxyUrl?rj(e,this.proxyUrl,L.POST,t,this.customAgentOptions):rY(e,L.POST,t,this.customAgentOptions)}}let rj=(e,t,r,n,i,o)=>{let s=new URL(e),a=new URL(t),c=n?.headers||{},u={host:a.hostname,port:a.port,method:"CONNECT",path:s.hostname,headers:c};i&&Object.keys(i).length&&(u.agent=new rx.Agent(i));let h="";if(r===L.POST){let e=n?.body||"";h=`Content-Type: application/x-www-form-urlencoded\r
Content-Length: ${e.length}\r
\r
${e}`}else o&&(u.timeout=o);let d=`${r.toUpperCase()} ${s.href} HTTP/1.1\r
Host: ${s.host}\r
Connection: close\r
`+h+"\r\n";return new Promise((e,t)=>{let r=rx.request(u);o&&r.on("timeout",()=>{r.destroy(),t(Error("Request time out"))}),r.end(),r.on("connect",(n,i)=>{let o=n?.statusCode||x.SERVER_ERROR;(o<x.SUCCESS_RANGE_START||o>x.SUCCESS_RANGE_END)&&(r.destroy(),i.destroy(),t(Error(`Error connecting to proxy. Http status code: ${n.statusCode}. Http status message: ${n?.statusMessage||"Unknown"}`))),i.write(d);let s=[];i.on("data",e=>{s.push(e)}),i.on("end",()=>{let t=Buffer.concat([...s]).toString().split("\r\n"),n=parseInt(t[0].split(" ")[1]),i=t[0].split(" ").slice(2).join(" "),o=t[t.length-1],a=t.slice(1,t.length-2),c=new Map;a.forEach(e=>{let t=e.split(new RegExp(/:\s(.*)/s)),r=t[0],n=t[1];try{let e=JSON.parse(n);e&&"object"==typeof e&&(n=e)}catch(e){}c.set(r,n)});let u=Object.fromEntries(c),h=rk.getNetworkResponse(u,rH(n,i,u,o),n);(n<l.SUCCESS_RANGE_START||n>l.SUCCESS_RANGE_END)&&h.body.error!==B.AUTHORIZATION_PENDING&&r.destroy(),e(h)}),i.on("error",e=>{r.destroy(),i.destroy(),t(Error(e.toString()))})}),r.on("error",e=>{r.destroy(),t(Error(e.toString()))})})},rY=(e,t,r,n,i)=>{let o=t===L.POST,s=r?.body||"",a=new URL(e),c={method:t,headers:r?.headers||{},...rk.urlToHttpOptions(a)};return n&&Object.keys(n).length&&(c.agent=new rF.Agent(n)),o?c.headers={...c.headers,"Content-Length":s.length}:i&&(c.timeout=i),new Promise((e,t)=>{let r;r="http:"===c.protocol?rx.request(c):rF.request(c),o&&r.write(s),i&&r.on("timeout",()=>{r.destroy(),t(Error("Request time out"))}),r.end(),r.on("response",t=>{let n=t.headers,i=t.statusCode,o=t.statusMessage,s=[];t.on("data",e=>{s.push(e)}),t.on("end",()=>{let t=Buffer.concat([...s]).toString(),a=rk.getNetworkResponse(n,rH(i,o,n,t),i);(i<l.SUCCESS_RANGE_START||i>l.SUCCESS_RANGE_END)&&a.body.error!==B.AUTHORIZATION_PENDING&&r.destroy(),e(a)})}),r.on("error",e=>{r.destroy(),t(Error(e.toString()))})})},rH=(e,t,r,n)=>{let i;try{i=JSON.parse(n)}catch(s){let n,o;e>=l.CLIENT_ERROR_RANGE_START&&e<=l.CLIENT_ERROR_RANGE_END?(n="client_error",o="A client"):e>=l.SERVER_ERROR_RANGE_START&&e<=l.SERVER_ERROR_RANGE_END?(n="server_error",o="A server"):(n="unknown_error",o="An unknown"),i={error:n,error_description:`${o} error occured.
Http status code: ${e}
Http status message: ${t||"Unknown"}
Headers: ${JSON.stringify(r)}`}}return i},rV="invalid_managed_identity_id_type",r$={[P.AZURE_POD_IDENTITY_AUTHORITY_HOST]:"azure_pod_identity_authority_host_url_malformed",[P.IDENTITY_ENDPOINT]:"identity_endpoint_url_malformed",[P.IMDS_ENDPOINT]:"imds_endpoint_url_malformed",[P.MSI_ENDPOINT]:"msi_endpoint_url_malformed"},rz={invalid_file_extension:"The file path in the WWW-Authenticate header does not contain a .key file.",invalid_file_path:"The file path in the WWW-Authenticate header is not in a valid Windows or Linux Format.",[rV]:"More than one ManagedIdentityIdType was provided.",invalid_secret:"The secret in the file on the file path in the WWW-Authenticate header is greater than 4096 bytes.",platform_not_supported:"The platform is not supported by Azure Arc. Azure Arc only supports Windows and Linux.",missing_client_id:"A ManagedIdentityId id was not provided.",[r$.AZURE_POD_IDENTITY_AUTHORITY_HOST]:`The Managed Identity's '${P.AZURE_POD_IDENTITY_AUTHORITY_HOST}' environment variable is malformed.`,[r$.IDENTITY_ENDPOINT]:`The Managed Identity's '${P.IDENTITY_ENDPOINT}' environment variable is malformed.`,[r$.IMDS_ENDPOINT]:`The Managed Identity's '${P.IMDS_ENDPOINT}' environment variable is malformed.`,[r$.MSI_ENDPOINT]:`The Managed Identity's '${P.MSI_ENDPOINT}' environment variable is malformed.`,network_unavailable:"Authentication unavailable. The request to the managed identity endpoint timed out.",unable_to_create_azure_arc:"Azure Arc Managed Identities can only be system assigned.",unable_to_create_cloud_shell:"Cloud Shell Managed Identities can only be system assigned.",unable_to_create_source:"Unable to create a Managed Identity source based on environment variables.",unable_to_read_secret_file:"Unable to read the secret file.",user_assigned_not_available_at_runtime:"Service Fabric user assigned managed identity ClientId or ResourceId is not configurable at runtime.",www_authenticate_header_missing:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is missing.",www_authenticate_header_unsupported_format:"A 401 response was received form the Azure Arc Managed Identity, but the www-authenticate header is in an unsupported format."};class rW extends z{constructor(e){super(e,rz[e]),this.name="ManagedIdentityError",Object.setPrototypeOf(this,rW.prototype)}}/*! @azure/msal-node v2.16.3 2025-08-05 */let rG={invalidLoopbackAddressType:{code:"invalid_loopback_server_address_type",desc:"Loopback server address is not type string. This is unexpected."},unableToLoadRedirectUri:{code:"unable_to_load_redirectUrl",desc:"Loopback server callback was invoked without a url. This is unexpected."},noAuthCodeInResponse:{code:"no_auth_code_in_response",desc:"No auth code found in the server response. Please check your network trace to determine what happened."},noLoopbackServerExists:{code:"no_loopback_server_exists",desc:"No loopback server exists yet."},loopbackServerAlreadyExists:{code:"loopback_server_already_exists",desc:"Loopback server already exists. Cannot create another."},loopbackServerTimeout:{code:"loopback_server_timeout",desc:"Timed out waiting for auth code listener to be registered."},stateNotFoundError:{code:"state_not_found",desc:"State not found. Please verify that the request originated from msal."},thumbprintMissing:{code:"thumbprint_missing_from_client_certificate",desc:"Client certificate does not contain a SHA-1 or SHA-256 thumbprint."}};class rK extends z{constructor(e,t){super(e,t),this.name="NodeAuthError"}static createInvalidLoopbackAddressTypeError(){return new rK(rG.invalidLoopbackAddressType.code,`${rG.invalidLoopbackAddressType.desc}`)}static createUnableToLoadRedirectUrlError(){return new rK(rG.unableToLoadRedirectUri.code,`${rG.unableToLoadRedirectUri.desc}`)}static createNoAuthCodeInResponseError(){return new rK(rG.noAuthCodeInResponse.code,`${rG.noAuthCodeInResponse.desc}`)}static createNoLoopbackServerExistsError(){return new rK(rG.noLoopbackServerExists.code,`${rG.noLoopbackServerExists.desc}`)}static createLoopbackServerAlreadyExistsError(){return new rK(rG.loopbackServerAlreadyExists.code,`${rG.loopbackServerAlreadyExists.desc}`)}static createLoopbackServerTimeoutError(){return new rK(rG.loopbackServerTimeout.code,`${rG.loopbackServerTimeout.desc}`)}static createStateNotFoundError(){return new rK(rG.stateNotFoundError.code,rG.stateNotFoundError.desc)}static createThumbprintMissingError(){return new rK(rG.thumbprintMissing.code,rG.thumbprintMissing.desc)}}/*! @azure/msal-node v2.16.3 2025-08-05 */let rZ={clientId:a.EMPTY_STRING,authority:a.DEFAULT_AUTHORITY,clientSecret:a.EMPTY_STRING,clientAssertion:a.EMPTY_STRING,clientCertificate:{thumbprint:a.EMPTY_STRING,thumbprintSha256:a.EMPTY_STRING,privateKey:a.EMPTY_STRING,x5c:a.EMPTY_STRING},knownAuthorities:[],cloudDiscoveryMetadata:a.EMPTY_STRING,authorityMetadata:a.EMPTY_STRING,clientCapabilities:[],protocolMode:tw.AAD,azureCloudOptions:{azureCloudInstance:tv.None,tenant:a.EMPTY_STRING},skipAuthorityMetadataCache:!1},rQ={claimsBasedCachingEnabled:!1},rX={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:rP.Info},rJ={loggerOptions:rX,networkClient:new rq,proxyUrl:a.EMPTY_STRING,customAgentOptions:{},disableInternalRetries:!1},r0={application:{appName:a.EMPTY_STRING,appVersion:a.EMPTY_STRING}};var r1=r(6113),r2=r.n(r1);let r5=new Uint8Array(256),r4=r5.length,r8=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,r6=[];for(let e=0;e<256;++e)r6.push((e+256).toString(16).substr(1));let r3=function(e,t=0){let r=(r6[e[t+0]]+r6[e[t+1]]+r6[e[t+2]]+r6[e[t+3]]+"-"+r6[e[t+4]]+r6[e[t+5]]+"-"+r6[e[t+6]]+r6[e[t+7]]+"-"+r6[e[t+8]]+r6[e[t+9]]+"-"+r6[e[t+10]]+r6[e[t+11]]+r6[e[t+12]]+r6[e[t+13]]+r6[e[t+14]]+r6[e[t+15]]).toLowerCase();if(!("string"==typeof r&&r8.test(r)))throw TypeError("Stringified UUID is invalid");return r},r9=function(e,t,r){let n=(e=e||{}).random||(e.rng||function(){return r4>r5.length-16&&(r2().randomFillSync(r5),r4=0),r5.slice(r4,r4+=16)})();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return r3(n)};/*! @azure/msal-node v2.16.3 2025-08-05 */class r7{generateGuid(){return r9()}isGuid(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)}}/*! @azure/msal-node v2.16.3 2025-08-05 */class ne{static base64Encode(e,t){return Buffer.from(e,t).toString("base64")}static base64EncodeUrl(e,t){return ne.base64Encode(e,t).replace(/=/g,a.EMPTY_STRING).replace(/\+/g,"-").replace(/\//g,"_")}static base64Decode(e){return Buffer.from(e,"base64").toString("utf8")}static base64DecodeUrl(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");for(;t.length%4;)t+="=";return ne.base64Decode(t)}}/*! @azure/msal-node v2.16.3 2025-08-05 */class nt{sha256(e){return r1.createHash(U.SHA256).update(e).digest()}}/*! @azure/msal-node v2.16.3 2025-08-05 */class nr{constructor(){this.hashUtils=new nt}async generatePkceCodes(){let e=this.generateCodeVerifier(),t=this.generateCodeChallengeFromVerifier(e);return{verifier:e,challenge:t}}generateCodeVerifier(){let e=[],t=256-256%F.CV_CHARSET.length;for(;e.length<=32;){let r=r1.randomBytes(1)[0];if(r>=t)continue;let n=r%F.CV_CHARSET.length;e.push(F.CV_CHARSET[n])}let r=e.join(a.EMPTY_STRING);return ne.base64EncodeUrl(r)}generateCodeChallengeFromVerifier(e){return ne.base64EncodeUrl(this.hashUtils.sha256(e).toString("base64"),"base64")}}/*! @azure/msal-node v2.16.3 2025-08-05 */class nn{constructor(){this.pkceGenerator=new nr,this.guidGenerator=new r7,this.hashUtils=new nt}base64UrlEncode(){throw Error("Method not implemented.")}encodeKid(){throw Error("Method not implemented.")}createNewGuid(){return this.guidGenerator.generateGuid()}base64Encode(e){return ne.base64Encode(e)}base64Decode(e){return ne.base64Decode(e)}generatePkceCodes(){return this.pkceGenerator.generatePkceCodes()}getPublicKeyThumbprint(){throw Error("Method not implemented.")}removeTokenBindingKey(){throw Error("Method not implemented.")}clearKeystore(){throw Error("Method not implemented.")}signJwt(){throw Error("Method not implemented.")}async hashString(e){return ne.base64EncodeUrl(this.hashUtils.sha256(e).toString("base64"),"base64")}}/*! @azure/msal-node v2.16.3 2025-08-05 */class ni{static deserializeJSONBlob(e){return e?JSON.parse(e):{}}static deserializeAccounts(e){let t={};return e&&Object.keys(e).map(function(r){let n=e[r],i={homeAccountId:n.home_account_id,environment:n.environment,realm:n.realm,localAccountId:n.local_account_id,username:n.username,authorityType:n.authority_type,name:n.name,clientInfo:n.client_info,lastModificationTime:n.last_modification_time,lastModificationApp:n.last_modification_app,tenantProfiles:n.tenantProfiles?.map(e=>JSON.parse(e))},o=new t0;t8.toObject(o,i),t[r]=o}),t}static deserializeIdTokens(e){let t={};return e&&Object.keys(e).map(function(r){let n=e[r],i={homeAccountId:n.home_account_id,environment:n.environment,credentialType:n.credential_type,clientId:n.client_id,secret:n.secret,realm:n.realm};t[r]=i}),t}static deserializeAccessTokens(e){let t={};return e&&Object.keys(e).map(function(r){let n=e[r],i={homeAccountId:n.home_account_id,environment:n.environment,credentialType:n.credential_type,clientId:n.client_id,secret:n.secret,realm:n.realm,target:n.target,cachedAt:n.cached_at,expiresOn:n.expires_on,extendedExpiresOn:n.extended_expires_on,refreshOn:n.refresh_on,keyId:n.key_id,tokenType:n.token_type,requestedClaims:n.requestedClaims,requestedClaimsHash:n.requestedClaimsHash,userAssertionHash:n.userAssertionHash};t[r]=i}),t}static deserializeRefreshTokens(e){let t={};return e&&Object.keys(e).map(function(r){let n=e[r],i={homeAccountId:n.home_account_id,environment:n.environment,credentialType:n.credential_type,clientId:n.client_id,secret:n.secret,familyId:n.family_id,target:n.target,realm:n.realm};t[r]=i}),t}static deserializeAppMetadata(e){let t={};return e&&Object.keys(e).map(function(r){let n=e[r];t[r]={clientId:n.client_id,environment:n.environment,familyId:n.family_id}}),t}static deserializeAllCache(e){return{accounts:e.Account?this.deserializeAccounts(e.Account):{},idTokens:e.IdToken?this.deserializeIdTokens(e.IdToken):{},accessTokens:e.AccessToken?this.deserializeAccessTokens(e.AccessToken):{},refreshTokens:e.RefreshToken?this.deserializeRefreshTokens(e.RefreshToken):{},appMetadata:e.AppMetadata?this.deserializeAppMetadata(e.AppMetadata):{}}}}/*! @azure/msal-node v2.16.3 2025-08-05 */class no{static serializeJSONBlob(e){return JSON.stringify(e)}static serializeAccounts(e){let t={};return Object.keys(e).map(function(r){let n=e[r];t[r]={home_account_id:n.homeAccountId,environment:n.environment,realm:n.realm,local_account_id:n.localAccountId,username:n.username,authority_type:n.authorityType,name:n.name,client_info:n.clientInfo,last_modification_time:n.lastModificationTime,last_modification_app:n.lastModificationApp,tenantProfiles:n.tenantProfiles?.map(e=>JSON.stringify(e))}}),t}static serializeIdTokens(e){let t={};return Object.keys(e).map(function(r){let n=e[r];t[r]={home_account_id:n.homeAccountId,environment:n.environment,credential_type:n.credentialType,client_id:n.clientId,secret:n.secret,realm:n.realm}}),t}static serializeAccessTokens(e){let t={};return Object.keys(e).map(function(r){let n=e[r];t[r]={home_account_id:n.homeAccountId,environment:n.environment,credential_type:n.credentialType,client_id:n.clientId,secret:n.secret,realm:n.realm,target:n.target,cached_at:n.cachedAt,expires_on:n.expiresOn,extended_expires_on:n.extendedExpiresOn,refresh_on:n.refreshOn,key_id:n.keyId,token_type:n.tokenType,requestedClaims:n.requestedClaims,requestedClaimsHash:n.requestedClaimsHash,userAssertionHash:n.userAssertionHash}}),t}static serializeRefreshTokens(e){let t={};return Object.keys(e).map(function(r){let n=e[r];t[r]={home_account_id:n.homeAccountId,environment:n.environment,credential_type:n.credentialType,client_id:n.clientId,secret:n.secret,family_id:n.familyId,target:n.target,realm:n.realm}}),t}static serializeAppMetadata(e){let t={};return Object.keys(e).map(function(r){let n=e[r];t[r]={client_id:n.clientId,environment:n.environment,family_id:n.familyId}}),t}static serializeAllCache(e){return{Account:this.serializeAccounts(e.accounts),IdToken:this.serializeIdTokens(e.idTokens),AccessToken:this.serializeAccessTokens(e.accessTokens),RefreshToken:this.serializeRefreshTokens(e.refreshTokens),AppMetadata:this.serializeAppMetadata(e.appMetadata)}}}/*! @azure/msal-node v2.16.3 2025-08-05 */class ns extends t8{constructor(e,t,r,n){super(t,r,e,n),this.cache={},this.changeEmitters=[],this.logger=e}registerChangeEmitter(e){this.changeEmitters.push(e)}emitChange(){this.changeEmitters.forEach(e=>e.call(null))}cacheToInMemoryCache(e){let t={accounts:{},idTokens:{},accessTokens:{},refreshTokens:{},appMetadata:{}};for(let r in e){let n=e[r];if("object"==typeof n){if(n instanceof t0)t.accounts[r]=n;else if(tL(n))t.idTokens[r]=n;else if(tM(n))t.accessTokens[r]=n;else if(tx(n))t.refreshTokens[r]=n;else{if(!tU(r,n))continue;t.appMetadata[r]=n}}}return t}inMemoryCacheToCache(e){return{...this.getCache(),...e.accounts,...e.idTokens,...e.accessTokens,...e.refreshTokens,...e.appMetadata}}getInMemoryCache(){return this.logger.trace("Getting in-memory cache"),this.cacheToInMemoryCache(this.getCache())}setInMemoryCache(e){this.logger.trace("Setting in-memory cache");let t=this.inMemoryCacheToCache(e);this.setCache(t),this.emitChange()}getCache(){return this.logger.trace("Getting cache key-value store"),this.cache}setCache(e){this.logger.trace("Setting cache key value store"),this.cache=e,this.emitChange()}getItem(e){return this.logger.tracePii(`Item key: ${e}`),this.getCache()[e]}setItem(e,t){this.logger.tracePii(`Item key: ${e}`);let r=this.getCache();r[e]=t,this.setCache(r)}getAccountKeys(){return Object.keys(this.getInMemoryCache().accounts)}getTokenKeys(){let e=this.getInMemoryCache();return{idToken:Object.keys(e.idTokens),accessToken:Object.keys(e.accessTokens),refreshToken:Object.keys(e.refreshTokens)}}getAccount(e){let t=this.getCachedAccountEntity(e);return t&&t0.isAccountEntity(t)?this.updateOutdatedCachedAccount(e,t,""):null}getCachedAccountEntity(e){return this.getItem(e)?Object.assign(new t0,this.getItem(e)):null}setAccount(e){let t=e.generateAccountKey();this.setItem(t,e)}getIdTokenCredential(e){let t=this.getItem(e);return tL(t)?t:null}setIdTokenCredential(e){let t=tk(e);this.setItem(t,e)}getAccessTokenCredential(e){let t=this.getItem(e);return tM(t)?t:null}setAccessTokenCredential(e){let t=tk(e);this.setItem(t,e)}getRefreshTokenCredential(e){let t=this.getItem(e);return tx(t)?t:null}setRefreshTokenCredential(e){let t=tk(e);this.setItem(t,e)}getAppMetadata(e){let t=this.getItem(e);return tU(e,t)?t:null}setAppMetadata(e){let t=function({environment:e,clientId:t}){return[b,e,t].join(E.CACHE_KEY_SEPARATOR).toLowerCase()}(e);this.setItem(t,e)}getServerTelemetry(e){let t=this.getItem(e);return t&&function(e,t){let r=0===e.indexOf(S.CACHE_KEY),n=!0;return t&&(n=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),r&&n}(e,t)?t:null}setServerTelemetry(e,t){this.setItem(e,t)}getAuthorityMetadata(e){let t=this.getItem(e);return t&&t&&0===e.indexOf(w.CACHE_KEY)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")?t:null}getAuthorityMetadataKeys(){return this.getKeys().filter(e=>this.isAuthorityMetadata(e))}setAuthorityMetadata(e,t){this.setItem(e,t)}getThrottlingCache(e){let t,r;let n=this.getItem(e);return n&&(t=!1,e&&(t=0===e.indexOf(I.THROTTLING_PREFIX)),r=!0,n&&(r=n.hasOwnProperty("throttleTime")),t&&r)?n:null}setThrottlingCache(e,t){this.setItem(e,t)}removeItem(e){this.logger.tracePii(`Item key: ${e}`);let t=!1,r=this.getCache();return r[e]&&(delete r[e],t=!0),t&&(this.setCache(r),this.emitChange()),t}removeOutdatedAccount(e){this.removeItem(e)}containsKey(e){return this.getKeys().includes(e)}getKeys(){return this.logger.trace("Retrieving all cache keys"),[...Object.keys(this.getCache())]}clear(){this.logger.trace("Clearing cache entries created by MSAL"),this.getKeys().forEach(e=>{this.removeItem(e)}),this.emitChange()}static generateInMemoryCache(e){return ni.deserializeAllCache(ni.deserializeJSONBlob(e))}static generateJsonCache(e){return no.serializeAllCache(e)}updateCredentialCacheKey(e,t){let r=tk(t);if(e!==r){let n=this.getItem(e);if(n)return this.removeItem(e),this.setItem(r,n),this.logger.verbose(`Updated an outdated ${t.credentialType} cache key`),r;this.logger.error(`Attempted to update an outdated ${t.credentialType} cache key but no item matching the outdated key was found in storage`)}return e}}/*! @azure/msal-node v2.16.3 2025-08-05 */let na={Account:{},IdToken:{},AccessToken:{},RefreshToken:{},AppMetadata:{}};class nl{constructor(e,t,r){this.cacheHasChanged=!1,this.storage=e,this.storage.registerChangeEmitter(this.handleChangeEvent.bind(this)),r&&(this.persistence=r),this.logger=t}hasChanged(){return this.cacheHasChanged}serialize(){this.logger.trace("Serializing in-memory cache");let e=no.serializeAllCache(this.storage.getInMemoryCache());return this.cacheSnapshot?(this.logger.trace("Reading cache snapshot from disk"),e=this.mergeState(JSON.parse(this.cacheSnapshot),e)):this.logger.trace("No cache snapshot to merge"),this.cacheHasChanged=!1,JSON.stringify(e)}deserialize(e){if(this.logger.trace("Deserializing JSON to in-memory cache"),this.cacheSnapshot=e,this.cacheSnapshot){this.logger.trace("Reading cache snapshot from disk");let e=ni.deserializeAllCache(this.overlayDefaults(JSON.parse(this.cacheSnapshot)));this.storage.setInMemoryCache(e)}else this.logger.trace("No cache snapshot to deserialize")}getKVStore(){return this.storage.getCache()}async getAllAccounts(e=new nn().createNewGuid()){let t;this.logger.trace("getAllAccounts called");try{return this.persistence&&(t=new rI(this,!1),await this.persistence.beforeCacheAccess(t)),this.storage.getAllAccounts(e)}finally{this.persistence&&t&&await this.persistence.afterCacheAccess(t)}}async getAccountByHomeId(e){let t=await this.getAllAccounts();return e&&t&&t.length&&t.filter(t=>t.homeAccountId===e)[0]||null}async getAccountByLocalId(e){let t=await this.getAllAccounts();return e&&t&&t.length&&t.filter(t=>t.localAccountId===e)[0]||null}async removeAccount(e,t=new nn().createNewGuid()){let r;this.logger.trace("removeAccount called");try{this.persistence&&(r=new rI(this,!0),await this.persistence.beforeCacheAccess(r)),await this.storage.removeAccount(t0.generateAccountCacheKey(e),t)}finally{this.persistence&&r&&await this.persistence.afterCacheAccess(r)}}handleChangeEvent(){this.cacheHasChanged=!0}mergeState(e,t){this.logger.trace("Merging in-memory cache with cache snapshot");let r=this.mergeRemovals(e,t);return this.mergeUpdates(r,t)}mergeUpdates(e,t){return Object.keys(t).forEach(r=>{let n=t[r];if(e.hasOwnProperty(r)){let t=null!==n,i="object"==typeof n,o=!Array.isArray(n),s=void 0!==e[r]&&null!==e[r];t&&i&&o&&s?this.mergeUpdates(e[r],n):e[r]=n}else null!==n&&(e[r]=n)}),e}mergeRemovals(e,t){this.logger.trace("Remove updated entries in cache");let r=e.Account?this.mergeRemovalsDict(e.Account,t.Account):e.Account,n=e.AccessToken?this.mergeRemovalsDict(e.AccessToken,t.AccessToken):e.AccessToken,i=e.RefreshToken?this.mergeRemovalsDict(e.RefreshToken,t.RefreshToken):e.RefreshToken,o=e.IdToken?this.mergeRemovalsDict(e.IdToken,t.IdToken):e.IdToken,s=e.AppMetadata?this.mergeRemovalsDict(e.AppMetadata,t.AppMetadata):e.AppMetadata;return{...e,Account:r,AccessToken:n,RefreshToken:i,IdToken:o,AppMetadata:s}}mergeRemovalsDict(e,t){let r={...e};return Object.keys(e).forEach(e=>{t&&t.hasOwnProperty(e)||delete r[e]}),r}overlayDefaults(e){return this.logger.trace("Overlaying input cache with the default cache"),{Account:{...na.Account,...e.Account},IdToken:{...na.IdToken,...e.IdToken},AccessToken:{...na.AccessToken,...e.AccessToken},RefreshToken:{...na.RefreshToken,...e.RefreshToken},AppMetadata:{...na.AppMetadata,...e.AppMetadata}}}}var nc=r(50322);/*! @azure/msal-node v2.16.3 2025-08-05 */class nu{static fromAssertion(e){let t=new nu;return t.jwt=e,t}static fromCertificate(e,t,r){let n=new nu;return n.privateKey=t,n.thumbprint=e,n.useSha256=!1,r&&(n.publicCertificate=this.parseCertificate(r)),n}static fromCertificateWithSha256Thumbprint(e,t,r){let n=new nu;return n.privateKey=t,n.thumbprint=e,n.useSha256=!0,r&&(n.publicCertificate=this.parseCertificate(r)),n}getJwt(e,t,r){if(this.privateKey&&this.thumbprint)return this.jwt&&!this.isExpired()&&t===this.issuer&&r===this.jwtAudience?this.jwt:this.createJwt(e,t,r);if(this.jwt)return this.jwt;throw tf(e3)}createJwt(e,t,r){this.issuer=t,this.jwtAudience=r;let n=tR();this.expirationTime=n+600;let i={alg:this.useSha256?j.PSS_256:j.RSA_256};Object.assign(i,{[this.useSha256?j.X5T_256:j.X5T]:ne.base64EncodeUrl(this.thumbprint,"hex")}),this.publicCertificate&&Object.assign(i,{[j.X5C]:this.publicCertificate});let o={[j.AUDIENCE]:this.jwtAudience,[j.EXPIRATION_TIME]:this.expirationTime,[j.ISSUER]:this.issuer,[j.SUBJECT]:this.issuer,[j.NOT_BEFORE]:n,[j.JWT_ID]:e.createNewGuid()};return this.jwt=nc.sign(o,this.privateKey,{header:i}),this.jwt}isExpired(){return this.expirationTime<tR()}static parseCertificate(e){let t;let r=/-----BEGIN CERTIFICATE-----\r*\n(.+?)\r*\n-----END CERTIFICATE-----/gs,n=[];for(;null!==(t=r.exec(e));)n.push(t[1].replace(/\r*\n/g,a.EMPTY_STRING));return n}}let nh="2.16.3";/*! @azure/msal-node v2.16.3 2025-08-05 */class nd extends rd{constructor(e){super(e)}async acquireToken(e){this.logger.info("in acquireToken call in username-password client");let t=tR(),r=await this.executeTokenRequest(this.authority,e),n=new rC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return n.validateTokenResponse(r.body),n.handleServerTokenResponse(r.body,this.authority,t,e)}async executeTokenRequest(e,t){let r=this.createTokenQueryParameters(t),n=tm.appendQueryString(e.tokenEndpoint,r),i=await this.createTokenRequestBody(t),o=this.createTokenRequestHeaders({credential:t.username,type:rs.UPN}),s={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid};return this.executePostToTokenEndpoint(n,i,o,s,t.correlationId)}async createTokenRequestBody(e){let t=new rl;t.addClientId(this.config.authOptions.clientId),t.addUsername(e.username),t.addPassword(e.password),t.addScopes(e.scopes),t.addResponseTypeForTokenAndIdToken(),t.addGrantType(y.RESOURCE_OWNER_PASSWORD_GRANT),t.addClientInfo(),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&t.addServerTelemetry(this.serverTelemetryManager);let r=e.correlationId||this.config.cryptoInterface.createNewGuid();t.addCorrelationId(r),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret);let n=this.config.clientCredentials.clientAssertion;return n&&(t.addClientAssertion(await rO(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(n.assertionType)),(!eR.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.username&&t.addCcsUpn(e.username),t.createQueryString()}}/*! @azure/msal-node v2.16.3 2025-08-05 */class nf{constructor(e){this.config=function({auth:e,broker:t,cache:r,system:n,telemetry:i}){let o={...rJ,networkClient:new rq(n?.proxyUrl,n?.customAgentOptions),loggerOptions:n?.loggerOptions||rX,disableInternalRetries:n?.disableInternalRetries||!1};if(e.clientCertificate&&!e.clientCertificate.thumbprint&&!e.clientCertificate.thumbprintSha256)throw rK.createStateNotFoundError();return{auth:{...rZ,...e},broker:{...t},cache:{...rQ,...r},system:{...o,...n},telemetry:{...r0,...i}}}(e),this.cryptoProvider=new nn,this.logger=new en(this.config.system.loggerOptions,"@azure/msal-node",nh),this.storage=new ns(this.logger,this.config.auth.clientId,this.cryptoProvider,function(e){let t;let r=e.cloudDiscoveryMetadata;if(r)try{t=JSON.parse(r)}catch(e){throw eN(ey)}return{canonicalAuthority:e.authority?tH(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:t}}(this.config.auth)),this.tokenCache=new nl(this.storage,this.logger,this.config.cache.cachePlugin)}async getAuthCodeUrl(e){this.logger.info("getAuthCodeUrl called",e.correlationId);let t={...e,...await this.initializeBaseRequest(e),responseMode:e.responseMode||g.QUERY,authenticationScheme:A.BEARER},r=new rN(await this.buildOauthClientConfiguration(t.authority,t.correlationId,t.redirectUri,void 0,void 0,e.azureCloudOptions));return this.logger.verbose("Auth code client created",t.correlationId),r.getAuthCodeUrl(t)}async acquireTokenByCode(e,t){this.logger.info("acquireTokenByCode called"),e.state&&t&&(this.logger.info("acquireTokenByCode - validating state"),this.validateState(e.state,t.state||""),t={...t,state:""});let r={...e,...await this.initializeBaseRequest(e),authenticationScheme:A.BEARER},n=this.initializeServerTelemetryManager(q.acquireTokenByCode,r.correlationId);try{let i=await this.buildOauthClientConfiguration(r.authority,r.correlationId,r.redirectUri,n,void 0,e.azureCloudOptions),o=new rN(i);return this.logger.verbose("Auth code client created",r.correlationId),await o.acquireToken(r,t)}catch(e){throw e instanceof z&&e.setCorrelationId(r.correlationId),n.cacheFailedRequest(e),e}}async acquireTokenByRefreshToken(e){this.logger.info("acquireTokenByRefreshToken called",e.correlationId);let t={...e,...await this.initializeBaseRequest(e),authenticationScheme:A.BEARER},r=this.initializeServerTelemetryManager(q.acquireTokenByRefreshToken,t.correlationId);try{let n=await this.buildOauthClientConfiguration(t.authority,t.correlationId,t.redirectUri||"",r,void 0,e.azureCloudOptions),i=new rR(n);return this.logger.verbose("Refresh token client created",t.correlationId),await i.acquireToken(t)}catch(e){throw e instanceof z&&e.setCorrelationId(t.correlationId),r.cacheFailedRequest(e),e}}async acquireTokenSilent(e){let t={...e,...await this.initializeBaseRequest(e),forceRefresh:e.forceRefresh||!1},r=this.initializeServerTelemetryManager(q.acquireTokenSilent,t.correlationId,t.forceRefresh);try{let n=await this.buildOauthClientConfiguration(t.authority,t.correlationId,t.redirectUri||"",r,void 0,e.azureCloudOptions),i=new rD(n);return this.logger.verbose("Silent flow client created",t.correlationId),await i.acquireToken(t)}catch(e){throw e instanceof z&&e.setCorrelationId(t.correlationId),r.cacheFailedRequest(e),e}}async acquireTokenByUsernamePassword(e){this.logger.info("acquireTokenByUsernamePassword called",e.correlationId);let t={...e,...await this.initializeBaseRequest(e)},r=this.initializeServerTelemetryManager(q.acquireTokenByUsernamePassword,t.correlationId);try{let n=await this.buildOauthClientConfiguration(t.authority,t.correlationId,"",r,void 0,e.azureCloudOptions),i=new nd(n);return this.logger.verbose("Username password client created",t.correlationId),await i.acquireToken(t)}catch(e){throw e instanceof z&&e.setCorrelationId(t.correlationId),r.cacheFailedRequest(e),e}}getTokenCache(){return this.logger.info("getTokenCache called"),this.tokenCache}validateState(e,t){if(!e)throw rK.createStateNotFoundError();if(e!==t)throw tf(eq)}getLogger(){return this.logger}setLogger(e){this.logger=e}async buildOauthClientConfiguration(e,t,r,n,i,o){this.logger.verbose("buildOauthClientConfiguration called",t);let s=o||this.config.auth.azureCloudOptions,l=await this.createAuthority(e,t,i,s);return this.logger.info(`Building oauth client configuration with the following authority: ${l.tokenEndpoint}.`,t),n?.updateRegionDiscoveryMetadata(l.regionDiscoveryMetadata),{authOptions:{clientId:this.config.auth.clientId,authority:l,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:r},loggerOptions:{logLevel:this.config.system.loggerOptions.logLevel,loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,correlationId:t},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.cryptoProvider,networkInterface:this.config.system.networkClient,storageInterface:this.storage,serverTelemetryManager:n,clientCredentials:{clientSecret:this.clientSecret,clientAssertion:await this.getClientAssertion(l)},libraryInfo:{sku:B.MSAL_SKU,version:nh,cpu:process.arch||a.EMPTY_STRING,os:process.platform||a.EMPTY_STRING},telemetry:this.config.telemetry,persistencePlugin:this.config.cache.cachePlugin,serializableCache:this.tokenCache}}async getClientAssertion(e){return this.developerProvidedClientAssertion&&(this.clientAssertion=nu.fromAssertion(await rO(this.developerProvidedClientAssertion,this.config.auth.clientId,e.tokenEndpoint))),this.clientAssertion&&{assertion:this.clientAssertion.getJwt(this.cryptoProvider,this.config.auth.clientId,e.tokenEndpoint),assertionType:B.JWT_BEARER_ASSERTION_TYPE}}async initializeBaseRequest(e){return this.logger.verbose("initializeRequestScopes called",e.correlationId),e.authenticationScheme&&e.authenticationScheme===A.POP&&this.logger.verbose("Authentication Scheme 'pop' is not supported yet, setting Authentication Scheme to 'Bearer' for request",e.correlationId),e.authenticationScheme=A.BEARER,this.config.cache.claimsBasedCachingEnabled&&e.claims&&!eR.isEmptyObj(e.claims)&&(e.requestedClaimsHash=await this.cryptoProvider.hashString(e.claims)),{...e,scopes:[...e&&e.scopes||[],...c],correlationId:e&&e.correlationId||this.cryptoProvider.createNewGuid(),authority:e.authority||this.config.auth.authority}}initializeServerTelemetryManager(e,t,r){return new W({clientId:this.config.auth.clientId,correlationId:t,apiId:e,forceRefresh:r||!1},this.storage)}async createAuthority(e,t,r,n){this.logger.verbose("createAuthority called",t);let i=tY.generateAuthority(e,n),o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,azureRegionConfiguration:r,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache};return rc(i,this.config.system.networkClient,this.storage,o,this.logger,t)}clearCache(){this.storage.clear()}}/*! @azure/msal-node v2.16.3 2025-08-05 */class np{async listenForAuthCode(e,t){if(this.server)throw rK.createLoopbackServerAlreadyExistsError();return new Promise((r,n)=>{this.server=rx.createServer((i,o)=>{let s=i.url;if(s){if(s===a.FORWARD_SLASH){o.end(e||"Auth code was successfully acquired. You can close this window now.");return}}else{o.end(t||"Error occurred loading redirectUrl"),n(rK.createUnableToLoadRedirectUrlError());return}let c=this.getRedirectUri(),u=tp(new URL(s,c).search)||{};u.code&&(o.writeHead(l.REDIRECT,{location:c}),o.end()),u.error&&o.end(t||`Error occurred: ${u.error}`),r(u)}),this.server.listen(0,"127.0.0.1")})}getRedirectUri(){if(!this.server||!this.server.listening)throw rK.createNoLoopbackServerExistsError();let e=this.server.address();if(!e||"string"==typeof e||!e.port)throw this.closeServer(),rK.createInvalidLoopbackAddressTypeError();let t=e&&e.port;return`${B.HTTP_PROTOCOL}${B.LOCALHOST}:${t}`}closeServer(){this.server&&(this.server.close(),"function"==typeof this.server.closeAllConnections&&this.server.closeAllConnections(),this.server.unref(),this.server=void 0)}}/*! @azure/msal-node v2.16.3 2025-08-05 */class nm extends rd{constructor(e){super(e)}async acquireToken(e){let t=await this.getDeviceCode(e);e.deviceCodeCallback(t);let r=tR(),n=await this.acquireTokenWithDeviceCode(e,t),i=new rC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(n),i.handleServerTokenResponse(n,this.authority,r,e)}async getDeviceCode(e){let t=this.createExtraQueryParameters(e),r=tm.appendQueryString(this.authority.deviceCodeEndpoint,t),n=this.createQueryString(e),i=this.createTokenRequestHeaders(),o={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};return this.executePostRequestToDeviceCodeEndpoint(r,n,i,o,e.correlationId)}createExtraQueryParameters(e){let t=new rl;return e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()}async executePostRequestToDeviceCodeEndpoint(e,t,r,n,i){let{body:{user_code:o,device_code:s,verification_uri:a,expires_in:l,interval:c,message:u}}=await this.sendPostRequest(n,e,{body:t,headers:r},i);return{userCode:o,deviceCode:s,verificationUri:a,expiresIn:l,interval:c,message:u}}createQueryString(e){let t=new rl;return t.addScopes(e.scopes),t.addClientId(this.config.authOptions.clientId),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),t.createQueryString()}continuePolling(e,t,r){if(r)throw this.logger.error("Token request cancelled by setting DeviceCodeRequest.cancel = true"),tf(eX);if(t&&t<e&&tR()>t)throw this.logger.error(`User defined timeout for device code polling reached. The timeout was set for ${t}`),tf(te);if(tR()>e)throw t&&this.logger.verbose(`User specified timeout ignored as the device code has expired before the timeout elapsed. The user specified timeout was set for ${t}`),this.logger.error(`Device code expired. Expiration time of device code was ${e}`),tf(eJ);return!0}async acquireTokenWithDeviceCode(e,t){let r=this.createTokenQueryParameters(e),n=tm.appendQueryString(this.authority.tokenEndpoint,r),i=this.createTokenRequestBody(e,t),o=this.createTokenRequestHeaders(),s=e.timeout?tR()+e.timeout:void 0,l=tR()+t.expiresIn,c=1e3*t.interval;for(;this.continuePolling(l,s,e.cancel);){let t={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},r=await this.executePostToTokenEndpoint(n,i,o,t,e.correlationId);if(!r.body||!r.body.error)return this.logger.verbose("Authorization completed successfully. Polling stopped."),r.body;if(r.body.error===a.AUTHORIZATION_PENDING)this.logger.info("Authorization pending. Continue polling."),await function(e,t){return new Promise(t=>setTimeout(()=>t(void 0),e))}(c);else{var u;throw this.logger.info("Unexpected error in polling from the server"),new z(V,(u=r.body.error)?`${$[V]} ${u}`:$[V])}}throw this.logger.error("Polling stopped for unknown reasons."),tf(e0)}createTokenRequestBody(e,t){let r=new rl;r.addScopes(e.scopes),r.addClientId(this.config.authOptions.clientId),r.addGrantType(y.DEVICE_CODE_GRANT),r.addDeviceCode(t.deviceCode);let n=e.correlationId||this.config.cryptoInterface.createNewGuid();return r.addCorrelationId(n),r.addClientInfo(),r.addLibraryInfo(this.config.libraryInfo),r.addApplicationTelemetry(this.config.telemetry.application),r.addThrottling(),this.serverTelemetryManager&&r.addServerTelemetry(this.serverTelemetryManager),(!eR.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&r.addClaims(e.claims,this.config.authOptions.clientCapabilities),r.createQueryString()}}/*! @azure/msal-node v2.16.3 2025-08-05 */class ng extends nf{constructor(e){super(e),this.config.broker.nativeBrokerPlugin&&(this.config.broker.nativeBrokerPlugin.isBrokerAvailable?(this.nativeBrokerPlugin=this.config.broker.nativeBrokerPlugin,this.nativeBrokerPlugin.setLogger(this.config.system.loggerOptions)):this.logger.warning("NativeBroker implementation was provided but the broker is unavailable.")),this.skus=W.makeExtraSkuString({libraryName:B.MSAL_SKU,libraryVersion:nh})}async acquireTokenByDeviceCode(e){this.logger.info("acquireTokenByDeviceCode called",e.correlationId);let t=Object.assign(e,await this.initializeBaseRequest(e)),r=this.initializeServerTelemetryManager(q.acquireTokenByDeviceCode,t.correlationId);try{let n=await this.buildOauthClientConfiguration(t.authority,t.correlationId,"",r,void 0,e.azureCloudOptions),i=new nm(n);return this.logger.verbose("Device code client created",t.correlationId),await i.acquireToken(t)}catch(e){throw e instanceof z&&e.setCorrelationId(t.correlationId),r.cacheFailedRequest(e),e}}async acquireTokenInteractive(e){let t=e.correlationId||this.cryptoProvider.createNewGuid();this.logger.trace("acquireTokenInteractive called",t);let{openBrowser:r,successTemplate:n,errorTemplate:i,windowHandle:o,loopbackClient:s,...l}=e;if(this.nativeBrokerPlugin){let r={...l,clientId:this.config.auth.clientId,scopes:e.scopes||c,redirectUri:`${B.HTTP_PROTOCOL}${B.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:t,extraParameters:{...l.extraQueryParameters,...l.tokenQueryParameters,[ee]:this.skus},accountId:l.account?.nativeAccountId};return this.nativeBrokerPlugin.acquireTokenInteractive(r,o)}let{verifier:u,challenge:h}=await this.cryptoProvider.generatePkceCodes(),d=s||new np,f={},p=null;try{let o=d.listenForAuthCode(n,i).then(e=>{f=e}).catch(e=>{p=e}),s=await this.waitForRedirectUri(d),y={...l,correlationId:t,scopes:e.scopes||c,redirectUri:s,responseMode:g.QUERY,codeChallenge:h,codeChallengeMethod:m.S256},_=await this.getAuthCodeUrl(y);if(await r(_),await o,p)throw p;if(f.error)throw new er(f.error,f.error_description,f.suberror);if(!f.code)throw rK.createNoAuthCodeInResponseError();let E=f.client_info,T={code:f.code,codeVerifier:u,clientInfo:E||a.EMPTY_STRING,...y};return await this.acquireTokenByCode(T)}finally{d.closeServer()}}async acquireTokenSilent(e){let t=e.correlationId||this.cryptoProvider.createNewGuid();if(this.logger.trace("acquireTokenSilent called",t),this.nativeBrokerPlugin){let r={...e,clientId:this.config.auth.clientId,scopes:e.scopes||c,redirectUri:`${B.HTTP_PROTOCOL}${B.LOCALHOST}`,authority:e.authority||this.config.auth.authority,correlationId:t,extraParameters:{...e.tokenQueryParameters,[ee]:this.skus},accountId:e.account.nativeAccountId,forceRefresh:e.forceRefresh||!1};return this.nativeBrokerPlugin.acquireTokenSilent(r)}return super.acquireTokenSilent(e)}async signOut(e){if(this.nativeBrokerPlugin&&e.account.nativeAccountId){let t={clientId:this.config.auth.clientId,accountId:e.account.nativeAccountId,correlationId:e.correlationId||this.cryptoProvider.createNewGuid()};await this.nativeBrokerPlugin.signOut(t)}await this.getTokenCache().removeAccount(e.account,e.correlationId)}async getAllAccounts(){if(this.nativeBrokerPlugin){let e=this.cryptoProvider.createNewGuid();return this.nativeBrokerPlugin.getAllAccounts(this.config.auth.clientId,e)}return this.getTokenCache().getAllAccounts()}async waitForRedirectUri(e){return new Promise((t,r)=>{let n=0,i=setInterval(()=>{if(Y.TIMEOUT_MS/Y.INTERVAL_MS<n){clearInterval(i),r(rK.createLoopbackServerTimeoutError());return}try{let r=e.getRedirectUri();clearInterval(i),t(r);return}catch(e){if(e instanceof z&&e.errorCode===rG.noLoopbackServerExists.code){n++;return}clearInterval(i),r(e);return}},Y.INTERVAL_MS)})}}/*! @azure/msal-node v2.16.3 2025-08-05 */class ny extends rd{constructor(e,t){super(e),this.appTokenProvider=t}async acquireToken(e){if(e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority);let[t,r]=await this.getCachedAuthenticationResult(e,this.config,this.cryptoUtils,this.authority,this.cacheManager,this.serverTelemetryManager);return t?(r===k.PROACTIVELY_REFRESHED&&(this.logger.info("ClientCredentialClient:getCachedAuthenticationResult - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed."),await this.executeTokenRequest(e,this.authority,!0)),t):this.executeTokenRequest(e,this.authority)}async getCachedAuthenticationResult(e,t,r,n,i,o){let s;let a=k.NOT_APPLICABLE;t.serializableCache&&t.persistencePlugin&&(s=new rI(t.serializableCache,!1),await t.persistencePlugin.beforeCacheAccess(s));let l=this.readAccessTokenFromCache(n,t.managedIdentityId?.id||t.authOptions.clientId,new tW(e.scopes||[]),i,e.correlationId);return(t.serializableCache&&t.persistencePlugin&&s&&await t.persistencePlugin.afterCacheAccess(s),l)?tD(l.expiresOn,t.systemOptions?.tokenRenewalOffsetSeconds||300)?(o?.setCacheOutcome(k.CACHED_ACCESS_TOKEN_EXPIRED),[null,k.CACHED_ACCESS_TOKEN_EXPIRED]):(l.refreshOn&&tD(l.refreshOn.toString(),0)&&(a=k.PROACTIVELY_REFRESHED,o?.setCacheOutcome(k.PROACTIVELY_REFRESHED)),[await rC.generateAuthenticationResult(r,n,{account:null,idToken:null,accessToken:l,refreshToken:null,appMetadata:null},!0,e),a]):(o?.setCacheOutcome(k.NO_CACHED_ACCESS_TOKEN),[null,k.NO_CACHED_ACCESS_TOKEN])}readAccessTokenFromCache(e,t,r,n,i){let o={homeAccountId:a.EMPTY_STRING,environment:e.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:T.ACCESS_TOKEN,clientId:t,realm:e.tenant,target:tW.createSearchScopes(r.asArray())},s=n.getAccessTokensByFilter(o,i);if(s.length<1)return null;if(s.length>1)throw tf(e$);return s[0]}async executeTokenRequest(e,t,r){let n,i;if(this.appTokenProvider){this.logger.info("Using appTokenProvider extensibility.");let t={correlationId:e.correlationId,tenantId:this.config.authOptions.authority.tenant,scopes:e.scopes,claims:e.claims};i=tR();let r=await this.appTokenProvider(t);n={access_token:r.accessToken,expires_in:r.expiresInSeconds,refresh_in:r.refreshInSeconds,token_type:A.BEARER}}else{let r=this.createTokenQueryParameters(e),o=tm.appendQueryString(t.tokenEndpoint,r),s=await this.createTokenRequestBody(e),a=this.createTokenRequestHeaders(),l={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid};this.logger.info("Sending token request to endpoint: "+t.tokenEndpoint),i=tR();let c=await this.executePostToTokenEndpoint(o,s,a,l,e.correlationId);(n=c.body).status=c.status}let o=new rC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n,r),await o.handleServerTokenResponse(n,this.authority,i,e)}async createTokenRequestBody(e){let t=new rl;t.addClientId(this.config.authOptions.clientId),t.addScopes(e.scopes,!1),t.addGrantType(y.CLIENT_CREDENTIALS_GRANT),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&t.addServerTelemetry(this.serverTelemetryManager);let r=e.correlationId||this.config.cryptoInterface.createNewGuid();t.addCorrelationId(r),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret);let n=e.clientAssertion||this.config.clientCredentials.clientAssertion;return n&&(t.addClientAssertion(await rO(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(n.assertionType)),(!eR.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),t.createQueryString()}}/*! @azure/msal-node v2.16.3 2025-08-05 */class n_ extends rd{constructor(e){super(e)}async acquireToken(e){if(this.scopeSet=new tW(e.scopes||[]),this.userAssertionHash=await this.cryptoUtils.hashString(e.oboAssertion),e.skipCache||e.claims)return this.executeTokenRequest(e,this.authority,this.userAssertionHash);try{return await this.getCachedAuthenticationResult(e)}catch(t){return await this.executeTokenRequest(e,this.authority,this.userAssertionHash)}}async getCachedAuthenticationResult(e){let t;let r=this.readAccessTokenFromCacheForOBO(this.config.authOptions.clientId,e);if(r){if(tD(r.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.serverTelemetryManager?.setCacheOutcome(k.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info(`OnbehalfofFlow:getCachedAuthenticationResult - Cached access token is expired or will expire within ${this.config.systemOptions.tokenRenewalOffsetSeconds} seconds.`),tf(e7)}else throw this.serverTelemetryManager?.setCacheOutcome(k.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),tf(e7);let n=this.readIdTokenFromCacheForOBO(r.homeAccountId,e.correlationId),i=null;if(n){let r=(t=tO(n.secret,ne.base64Decode)).oid||t.sub,o={homeAccountId:n.homeAccountId,environment:n.environment,tenantId:n.realm,username:a.EMPTY_STRING,localAccountId:r||a.EMPTY_STRING};i=this.cacheManager.readAccountFromCache(o,e.correlationId)}return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),rC.generateAuthenticationResult(this.cryptoUtils,this.authority,{account:i,accessToken:r,idToken:n,refreshToken:null,appMetadata:null},!0,e,t)}readIdTokenFromCacheForOBO(e,t){let r={homeAccountId:e,environment:this.authority.canonicalAuthorityUrlComponents.HostNameAndPort,credentialType:T.ID_TOKEN,clientId:this.config.authOptions.clientId,realm:this.authority.tenant},n=this.cacheManager.getIdTokensByFilter(r,t);return Object.values(n).length<1?null:Object.values(n)[0]}readAccessTokenFromCacheForOBO(e,t){let r=t.authenticationScheme||A.BEARER,n={credentialType:r&&r.toLowerCase()!==A.BEARER.toLowerCase()?T.ACCESS_TOKEN_WITH_AUTH_SCHEME:T.ACCESS_TOKEN,clientId:e,target:tW.createSearchScopes(this.scopeSet.asArray()),tokenType:r,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash,userAssertionHash:this.userAssertionHash},i=this.cacheManager.getAccessTokensByFilter(n,t.correlationId),o=i.length;if(o<1)return null;if(o>1)throw tf(e$);return i[0]}async executeTokenRequest(e,t,r){let n=this.createTokenQueryParameters(e),i=tm.appendQueryString(t.tokenEndpoint,n),o=await this.createTokenRequestBody(e),s=this.createTokenRequestHeaders(),a={clientId:this.config.authOptions.clientId,authority:e.authority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},l=tR(),c=await this.executePostToTokenEndpoint(i,o,s,a,e.correlationId),u=new rC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return u.validateTokenResponse(c.body),await u.handleServerTokenResponse(c.body,this.authority,l,e,void 0,r)}async createTokenRequestBody(e){let t=new rl;t.addClientId(this.config.authOptions.clientId),t.addScopes(e.scopes),t.addGrantType(y.JWT_BEARER),t.addClientInfo(),t.addLibraryInfo(this.config.libraryInfo),t.addApplicationTelemetry(this.config.telemetry.application),t.addThrottling(),this.serverTelemetryManager&&t.addServerTelemetry(this.serverTelemetryManager);let r=e.correlationId||this.config.cryptoInterface.createNewGuid();t.addCorrelationId(r),t.addRequestTokenUse("on_behalf_of"),t.addOboAssertion(e.oboAssertion),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret);let n=this.config.clientCredentials.clientAssertion;return n&&(t.addClientAssertion(await rO(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),t.addClientAssertionType(n.assertionType)),(e.claims||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),t.createQueryString()}}/*! @azure/msal-node v2.16.3 2025-08-05 */class nE extends nf{constructor(e){super(e),this.setClientCredential(),this.appTokenProvider=void 0}SetAppTokenProvider(e){this.appTokenProvider=e}async acquireTokenByClientCredential(e){let t,r;this.logger.info("acquireTokenByClientCredential called",e.correlationId),e.clientAssertion&&(t={assertion:await rO(e.clientAssertion,this.config.auth.clientId),assertionType:B.JWT_BEARER_ASSERTION_TYPE});let n=await this.initializeBaseRequest(e),i={...n,scopes:n.scopes.filter(e=>!c.includes(e))},o={...e,...i,clientAssertion:t},s=new tm(o.authority).getUrlComponents().PathSegments[0];if(Object.values(d).includes(s))throw tf(tl);let a=process.env.MSAL_FORCE_REGION;"DisableMsalForceRegion"!==o.azureRegion&&(r=!o.azureRegion&&a?a:o.azureRegion);let l={azureRegion:r,environmentRegion:process.env.REGION_NAME},u=this.initializeServerTelemetryManager(q.acquireTokenByClientCredential,o.correlationId,o.skipCache);try{let t=await this.buildOauthClientConfiguration(o.authority,o.correlationId,"",u,l,e.azureCloudOptions),r=new ny(t,this.appTokenProvider);return this.logger.verbose("Client credential client created",o.correlationId),await r.acquireToken(o)}catch(e){throw e instanceof z&&e.setCorrelationId(o.correlationId),u.cacheFailedRequest(e),e}}async acquireTokenOnBehalfOf(e){this.logger.info("acquireTokenOnBehalfOf called",e.correlationId);let t={...e,...await this.initializeBaseRequest(e)};try{let r=await this.buildOauthClientConfiguration(t.authority,t.correlationId,"",void 0,void 0,e.azureCloudOptions),n=new n_(r);return this.logger.verbose("On behalf of client created",t.correlationId),await n.acquireToken(t)}catch(e){throw e instanceof z&&e.setCorrelationId(t.correlationId),e}}setClientCredential(){let e=!!this.config.auth.clientSecret,t=!!this.config.auth.clientAssertion,r=(!!this.config.auth.clientCertificate?.thumbprint||!!this.config.auth.clientCertificate?.thumbprintSha256)&&!!this.config.auth.clientCertificate?.privateKey;if(!this.appTokenProvider){if(e&&t||t&&r||e&&r)throw tf(e9);if(this.config.auth.clientSecret){this.clientSecret=this.config.auth.clientSecret;return}if(this.config.auth.clientAssertion){this.developerProvidedClientAssertion=this.config.auth.clientAssertion;return}if(r)this.clientAssertion=this.config.auth.clientCertificate.thumbprintSha256?nu.fromCertificateWithSha256Thumbprint(this.config.auth.clientCertificate.thumbprintSha256,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c):nu.fromCertificate(this.config.auth.clientCertificate.thumbprint,this.config.auth.clientCertificate.privateKey,this.config.auth.clientCertificate.x5c);else throw tf(e9)}}}/*! @azure/msal-node v2.16.3 2025-08-05 */let nT={MANAGED_IDENTITY_CLIENT_ID:"client_id",MANAGED_IDENTITY_OBJECT_ID:"object_id",MANAGED_IDENTITY_RESOURCE_ID:"mi_res_id"};class nb{constructor(e,t,r,n){this.logger=e,this.nodeStorage=t,this.networkClient=r,this.cryptoProvider=n}async getServerTokenResponseAsync(e,t,r,n){return this.getServerTokenResponse(e)}getServerTokenResponse(e){let t,r;return e.body.expires_on&&(r=e.body.expires_on-tR())>7200&&(t=r/2),{status:e.status,access_token:e.body.access_token,expires_in:r,scope:e.body.resource,token_type:e.body.token_type,refresh_in:t,correlation_id:e.body.correlation_id||e.body.correlationId,error:"string"==typeof e.body.error?e.body.error:e.body.error?.code,error_description:e.body.message||("string"==typeof e.body.error?e.body.error_description:e.body.error?.message),error_codes:e.body.error_codes,timestamp:e.body.timestamp,trace_id:e.body.trace_id}}async acquireTokenWithManagedIdentity(e,t,r,n){let i;let o=this.createRequest(e.resource,t),s=o.headers;s[h.CONTENT_TYPE]=a.URL_FORM_CONTENT_TYPE;let l={headers:s};Object.keys(o.bodyParameters).length&&(l.body=o.computeParametersBodyString());let c=tR();try{i=o.httpMethod===L.POST?await this.networkClient.sendPostRequestAsync(o.computeUri(),l):await this.networkClient.sendGetRequestAsync(o.computeUri(),l)}catch(e){if(e instanceof z)throw e;throw tf(ex)}let u=new rC(t.id,this.nodeStorage,this.cryptoProvider,this.logger,null,null),d=await this.getServerTokenResponseAsync(i,this.networkClient,o,l);return u.validateTokenResponse(d,n),u.handleServerTokenResponse(d,r,c,e)}getManagedIdentityUserAssignedIdQueryParameterKey(e){switch(e){case M.USER_ASSIGNED_CLIENT_ID:return this.logger.info("[Managed Identity] Adding user assigned client id to the request."),nT.MANAGED_IDENTITY_CLIENT_ID;case M.USER_ASSIGNED_RESOURCE_ID:return this.logger.info("[Managed Identity] Adding user assigned resource id to the request."),nT.MANAGED_IDENTITY_RESOURCE_ID;case M.USER_ASSIGNED_OBJECT_ID:return this.logger.info("[Managed Identity] Adding user assigned object id to the request."),nT.MANAGED_IDENTITY_OBJECT_ID;default:throw new rW(rV)}}}nb.getValidatedEnvVariableUrlString=(e,t,r,n)=>{try{return new tm(t).urlString}catch(t){throw n.info(`[Managed Identity] ${r} managed identity is unavailable because the '${e}' environment variable is malformed.`),new rW(r$[e])}};var nw=r(57147),nv=r.n(nw),nS=r(71017),nA=r.n(nS);process.env.ProgramData,process.env.ProgramFiles;let nI=require("node:os"),nC=require("node:util"),nO=require("node:process"),nN="undefined"!=typeof process&&process.env&&process.env.DEBUG||void 0,nR=[],nD=[],nk=[];nN&&nM(nN);let nP=Object.assign(e=>nU(e),{enable:nM,enabled:nL,disable:function(){let e=n||"";return nM(""),e},log:function(e,...t){nO.stderr.write(`${nC.format(e,...t)}${nI.EOL}`)}});function nM(e){for(let t of(n=e,nR=[],nD=[],e.split(",").map(e=>e.trim())))t.startsWith("-")?nD.push(t.substring(1)):nR.push(t);for(let e of nk)e.enabled=nL(e.namespace)}function nL(e){if(e.endsWith("*"))return!0;for(let t of nD)if(nx(e,t))return!1;for(let t of nR)if(nx(e,t))return!0;return!1}function nx(e,t){if(-1===t.indexOf("*"))return e===t;let r=t;if(-1!==t.indexOf("**")){let e=[],n="";for(let r of t)("*"!==r||"*"!==n)&&(n=r,e.push(r));r=e.join("")}let n=0,i=0,o=r.length,s=e.length,a=-1,l=-1;for(;n<s&&i<o;){if("*"===r[i]){if(a=i,++i===o)return!0;for(;e[n]!==r[i];)if(++n===s)return!1;l=n,n++,i++;continue}if(r[i]===e[n])i++,n++;else{if(!(a>=0)||(i=a+1,(n=l+1)===s))return!1;for(;e[n]!==r[i];)if(++n===s)return!1;l=n,n++,i++;continue}}let c=n===e.length,u=i===r.length,h=i===r.length-1&&"*"===r[i];return c&&(u||h)}function nU(e){let t=Object.assign(function(...r){t.enabled&&(r.length>0&&(r[0]=`${e} ${r[0]}`),t.log(...r))},{enabled:nL(e),destroy:nF,log:nP.log,namespace:e,extend:nB});return nk.push(t),t}function nF(){let e=nk.indexOf(this);return e>=0&&(nk.splice(e,1),!0)}function nB(e){let t=nU(`${this.namespace}:${e}`);return t.log=this.log,t}let nq=["verbose","info","warning","error"],nj={verbose:400,info:300,warning:200,error:100};function nY(e,t){t.log=(...t)=>{e.log(...t)}}function nH(e){return nq.includes(e)}function nV(e){let t;let r=new Set,n="undefined"!=typeof process&&process.env&&process.env[e.logLevelEnvVarName]||void 0,i=nP(e.namespace);function o(e){if(e&&!nH(e))throw Error(`Unknown log level '${e}'. Acceptable values: ${nq.join(",")}`);t=e;let n=[];for(let e of r)s(e)&&n.push(e.namespace);nP.enable(n.join(","))}function s(e){return!!(t&&nj[e.level]<=nj[t])}function a(e,t){let n=Object.assign(e.extend(t),{level:t});if(nY(e,n),s(n)){let e=nP.disable();nP.enable(e+","+n.namespace)}return r.add(n),n}return i.log=(...e)=>{nP.log(...e)},n&&(nH(n)?o(n):console.error(`${e.logLevelEnvVarName} set to unknown log level '${n}'; logging is not enabled. Acceptable values: ${nq.join(", ")}.`)),{setLogLevel:o,getLogLevel:function(){return t},createClientLogger:function(e){let t=i.extend(e);return nY(i,t),{error:a(t,"error"),warning:a(t,"warning"),info:a(t,"info"),verbose:a(t,"verbose")}},logger:i}}let n$=nV({logLevelEnvVarName:"TYPESPEC_RUNTIME_LOG_LEVEL",namespace:"typeSpecRuntime"});function nz(e){return n$.createClientLogger(e)}n$.logger;let nW=nV({logLevelEnvVarName:"AZURE_LOG_LEVEL",namespace:"azure"});function nG(){return nW.getLogLevel()}function nK(e){return nW.createClientLogger(e)}nW.logger;let nZ="CredentialUnavailableError";class nQ extends Error{constructor(e){super(e),this.name=nZ}}let nX="AuthenticationError";class nJ extends Error{constructor(e,t){let r={error:"unknown",errorDescription:"An unknown error occurred and no additional details are available."};if(function(e){return e&&"string"==typeof e.error&&"string"==typeof e.error_description}(t))r=n2(t);else if("string"==typeof t)try{let e=JSON.parse(t);r=n2(e)}catch(n){r=400===e?{error:"authority_not_found",errorDescription:"The specified authority URL was not found."}:{error:"unknown_error",errorDescription:`An unknown error has occurred. Response body:

${t}`}}else r={error:"unknown_error",errorDescription:"An unknown error occurred and no additional details are available."};super(`${r.error} Status code: ${e}
More details:
${r.errorDescription}`),this.statusCode=e,this.errorResponse=r,this.name=nX}}let n0="AggregateAuthenticationError";class n1 extends Error{constructor(e,t){super(`${t}
${e.join("\n")}`),this.errors=e,this.name=n0}}function n2(e){return{error:e.error,errorDescription:e.error_description,correlationId:e.correlation_id,errorCodes:e.error_codes,timestamp:e.timestamp,traceId:e.trace_id}}class n5 extends Error{constructor(e){super(e.message),this.scopes=e.scopes,this.getTokenOptions=e.getTokenOptions,this.name="AuthenticationRequiredError"}}let n4=nK("identity");function n8(e){return e.reduce((e,t)=>(process.env[t]?e.assigned.push(t):e.missing.push(t),e),{missing:[],assigned:[]})}function n6(e){return`SUCCESS. Scopes: ${Array.isArray(e)?e.join(", "):e}.`}function n3(e,t){let r="ERROR.";return(null==e?void 0:e.length)&&(r+=` Scopes: ${Array.isArray(e)?e.join(", "):e}.`),`${r} Error message: ${"string"==typeof t?t:t.message}.`}function n9(e,t,r=n4){let n=t?`${t.fullTitle} ${e}`:e;return{title:e,fullTitle:n,info:function(e){r.info(`${n} =>`,e)},warning:function(e){r.warning(`${n} =>`,e)},verbose:function(e){r.verbose(`${n} =>`,e)}}}function n7(e,t=n4){let r=n9(e,void 0,t);return Object.assign(Object.assign({},r),{parent:t,getToken:n9("=> getToken()",r,t)})}let ie="3.4.2",it="04b07795-8ddb-461a-bbee-02f9e1bf7b46";!function(e){e.AzureChina="https://login.chinacloudapi.cn",e.AzureGermany="https://login.microsoftonline.de",e.AzureGovernment="https://login.microsoftonline.us",e.AzurePublicCloud="https://login.microsoftonline.com"}(rM||(rM={}));let ir=rM.AzurePublicCloud,ii=["*"],io=new WeakMap,is=new WeakMap;class ia{constructor(){this.onabort=null,io.set(this,[]),is.set(this,!1)}get aborted(){if(!is.has(this))throw TypeError("Expected `this` to be an instance of AbortSignal.");return is.get(this)}static get none(){return new ia}addEventListener(e,t){if(!io.has(this))throw TypeError("Expected `this` to be an instance of AbortSignal.");io.get(this).push(t)}removeEventListener(e,t){if(!io.has(this))throw TypeError("Expected `this` to be an instance of AbortSignal.");let r=io.get(this),n=r.indexOf(t);n>-1&&r.splice(n,1)}dispatchEvent(e){throw Error("This is a stub dispatchEvent implementation that should not be used.  It only exists for type-checking purposes.")}}function il(e){if(e.aborted)return;e.onabort&&e.onabort.call(e);let t=io.get(e);t&&t.slice().forEach(t=>{t.call(e,{type:"abort"})}),is.set(e,!0)}class ic extends Error{constructor(e){super(e),this.name="AbortError"}}class iu{constructor(e){if(this._signal=new ia,!e)return;for(let t of(Array.isArray(e)||(e=arguments),e))t.aborted?this.abort():t.addEventListener("abort",()=>{this.abort()})}get signal(){return this._signal}abort(){il(this._signal)}static timeout(e){let t=new ia,r=setTimeout(il,e,t);return"function"==typeof r.unref&&r.unref(),t}}function ih(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}function id(e){if(ih(e)){let t="string"==typeof e.name,r="string"==typeof e.message;return t&&r}return!1}let ip=require("node:crypto"),im="function"==typeof globalThis?.crypto?.randomUUID?globalThis.crypto.randomUUID.bind(globalThis.crypto):ip.randomUUID;"undefined"!=typeof window&&window.document,"object"==typeof self&&"function"==typeof self?.importScripts&&(self.constructor?.name==="DedicatedWorkerGlobalScope"||self.constructor?.name==="ServiceWorkerGlobalScope"||self.constructor?.name),"undefined"!=typeof Deno&&void 0!==Deno.version&&Deno.version.deno,"undefined"!=typeof Bun&&Bun.version;let ig=void 0!==globalThis.process&&!!globalThis.process.version&&!!globalThis.process.versions?.node;"undefined"!=typeof navigator&&navigator?.product;let iy="REDACTED",i_=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],iE=["api-version"];class iT{allowedHeaderNames;allowedQueryParameters;constructor({additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:t=[]}={}){e=i_.concat(e),t=iE.concat(t),this.allowedHeaderNames=new Set(e.map(e=>e.toLowerCase())),this.allowedQueryParameters=new Set(t.map(e=>e.toLowerCase()))}sanitize(e){let t=new Set;return JSON.stringify(e,(e,r)=>{if(r instanceof Error)return{...r,name:r.name,message:r.message};if("headers"===e)return this.sanitizeHeaders(r);if("url"===e)return this.sanitizeUrl(r);if("query"===e)return this.sanitizeQuery(r);if("body"!==e){if("response"===e)return;if("operationSpec"===e)return;else if(Array.isArray(r)||ih(r)){if(t.has(r))return"[Circular]";t.add(r)}return r}},2)}sanitizeUrl(e){if("string"!=typeof e||null===e||""===e)return e;let t=new URL(e);if(!t.search)return e;for(let[e]of t.searchParams)this.allowedQueryParameters.has(e.toLowerCase())||t.searchParams.set(e,iy);return t.toString()}sanitizeHeaders(e){let t={};for(let r of Object.keys(e))this.allowedHeaderNames.has(r.toLowerCase())?t[r]=e[r]:t[r]=iy;return t}sanitizeQuery(e){if("object"!=typeof e||null===e)return e;let t={};for(let r of Object.keys(e))this.allowedQueryParameters.has(r.toLowerCase())?t[r]=e[r]:t[r]=iy;return t}}class ib extends Error{constructor(e){super(e),this.name="AbortError"}}function iw(e,t){let r;let{abortSignal:n,abortErrorMsg:i}=t??{};return function(e,t){let{cleanupBeforeAbort:r,abortSignal:n,abortErrorMsg:i}=t??{};return new Promise((t,o)=>{function s(){o(new ib(i??"The operation was aborted."))}function a(){n?.removeEventListener("abort",l)}function l(){r?.(),a(),s()}if(n?.aborted)return s();try{e(e=>{a(),t(e)},e=>{a(),o(e)})}catch(e){o(e)}n?.addEventListener("abort",l)})}(t=>{r=setTimeout(t,e)},{cleanupBeforeAbort:()=>clearTimeout(r),abortSignal:n,abortErrorMsg:i??"The delay was aborted."})}function iv(e){if(id(e))return e.message;{let t;try{t="object"==typeof e&&e?JSON.stringify(e):String(e)}catch(e){t="[unable to stringify input]"}return`Unknown error ${t}`}}let iS=ig;function iA(e,t){return(t||(t=ir),RegExp(`${e}/?$`).test(t))?t:t.endsWith("/")?t+e:`${t}/${e}`}let iI=(e,t=iS?"Node":"Browser")=>(r,n,i)=>{if(!i)switch(r){case rP.Error:e.info(`MSAL ${t} V2 error: ${n}`);return;case rP.Info:e.info(`MSAL ${t} V2 info message: ${n}`);return;case rP.Verbose:e.info(`MSAL ${t} V2 verbose message: ${n}`);return;case rP.Warning:e.info(`MSAL ${t} V2 warning: ${n}`);return}};function iC(e){switch(e){case"error":return rP.Error;case"info":default:return rP.Info;case"verbose":return rP.Verbose;case"warning":return rP.Warning}}class iO{constructor(e){this.logger=e.logger,this.account=e.authenticationRecord}generateUuid(){return im()}handleResult(e,t,r,n){return(null==r?void 0:r.account)&&(this.account=iN(t,r.account)),function(e,t,r,n){let i=r=>(t.getToken.info(r),new n5({scopes:Array.isArray(e)?e:[e],getTokenOptions:n,message:r}));if(!r)throw i("No response");if(!r.expiresOn)throw i('Response had no "expiresOn" property.');if(!r.accessToken)throw i('Response had no "accessToken" property.')}(e,this.logger,r,n),this.logger.getToken.info(n6(e)),{token:r.accessToken,expiresOnTimestamp:r.expiresOn.getTime()}}handleError(e,t,r){if("AuthError"===t.name||"ClientAuthError"===t.name||"BrowserAuthError"===t.name)switch(t.errorCode){case"endpoints_resolution_error":return this.logger.info(n3(e,t.message)),new nQ(t.message);case"device_code_polling_cancelled":return new ic("The authentication has been aborted by the caller.");case"consent_required":case"interaction_required":case"login_required":this.logger.info(n3(e,`Authentication returned errorCode ${t.errorCode}`));break;default:this.logger.info(n3(e,`Failed to acquire token: ${t.message}`))}return"ClientConfigurationError"===t.name||"BrowserConfigurationAuthError"===t.name||"AbortError"===t.name?t:new n5({scopes:e,getTokenOptions:r,message:t.message})}}function iN(e,t){return{authority:iA(t.tenantId,t.environment),homeAccountId:t.homeAccountId,tenantId:t.tenantId||"common",username:t.username,clientId:e,version:"1.0"}}function iR(e){return JSON.stringify(e)}function iD(e){let t=JSON.parse(e);if(t.version&&"1.0"!==t.version)throw Error("Unsupported AuthenticationRecord version");return t}function ik(e,t){if(!t.match(/^[0-9a-zA-Z-.]+$/)){let t=Error("Invalid tenant id provided. You can locate your tenant id by following the instructions listed here: https://learn.microsoft.com/partner-center/find-ids-and-domain-names.");throw e.info(n3("",t)),t}}function iP(e,t,r){return t?(ik(e,t),t):(r||(r=it),r!==it)?"common":"organizations"}function iM(e){return e&&0!==e.length?e.includes("*")?ii:e:[]}function iL(e,t,r=[],n){var i;let o;if(process.env.AZURE_IDENTITY_DISABLE_MULTITENANTAUTH?o=e:o="adfs"===e?e:null!==(i=null==t?void 0:t.tenantId)&&void 0!==i?i:e,e&&o!==e&&!r.includes("*")&&!r.some(e=>0===e.localeCompare(o))){let t=`The current credential is not configured to acquire tokens for tenant ${e}. To enable acquiring tokens for this tenant add it to the AdditionallyAllowedTenants on the credential options, or add "*" to AdditionallyAllowedTenants to allow acquiring tokens for any tenant.`;throw null==n||n.info(t),new nQ(t)}return o}function ix(e,t){return t&&e.modelMappers[t]&&e.modelMappers[t].type.polymorphicDiscriminator}let iU={Sequence:"Sequence",String:"String",Stream:"Stream"};class iF extends Error{constructor(e){super(e),this.name="AbortError"}}function iB(e){return e.toLowerCase()}class iq{_headersMap;constructor(e){if(this._headersMap=new Map,e)for(let t of Object.keys(e))this.set(t,e[t])}set(e,t){this._headersMap.set(iB(e),{name:e,value:String(t).trim()})}get(e){return this._headersMap.get(iB(e))?.value}has(e){return this._headersMap.has(iB(e))}delete(e){this._headersMap.delete(iB(e))}toJSON(e={}){let t={};if(e.preserveCase)for(let e of this._headersMap.values())t[e.name]=e.value;else for(let[e,r]of this._headersMap)t[e]=r.value;return t}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return function*(e){for(let t of e.values())yield[t.name,t.value]}(this._headersMap)}}function ij(e){return new iq(e)}class iY{url;method;headers;timeout;withCredentials;body;multipartBody;formData;streamResponseStatusCodes;enableBrowserStreams;proxySettings;disableKeepAlive;abortSignal;requestId;allowInsecureConnection;onUploadProgress;onDownloadProgress;requestOverrides;authSchemes;constructor(e){this.url=e.url,this.body=e.body,this.headers=e.headers??ij(),this.method=e.method??"GET",this.timeout=e.timeout??0,this.multipartBody=e.multipartBody,this.formData=e.formData,this.disableKeepAlive=e.disableKeepAlive??!1,this.proxySettings=e.proxySettings,this.streamResponseStatusCodes=e.streamResponseStatusCodes,this.withCredentials=e.withCredentials??!1,this.abortSignal=e.abortSignal,this.onUploadProgress=e.onUploadProgress,this.onDownloadProgress=e.onDownloadProgress,this.requestId=e.requestId||im(),this.allowInsecureConnection=e.allowInsecureConnection??!1,this.enableBrowserStreams=e.enableBrowserStreams??!1,this.requestOverrides=e.requestOverrides,this.authSchemes=e.authSchemes}}let iH=new Set(["Deserialize","Serialize","Retry","Sign"]);class iV{_policies=[];_orderedPolicies;constructor(e){this._policies=e?.slice(0)??[],this._orderedPolicies=void 0}addPolicy(e,t={}){if(t.phase&&t.afterPhase)throw Error("Policies inside a phase cannot specify afterPhase.");if(t.phase&&!iH.has(t.phase))throw Error(`Invalid phase name: ${t.phase}`);if(t.afterPhase&&!iH.has(t.afterPhase))throw Error(`Invalid afterPhase name: ${t.afterPhase}`);this._policies.push({policy:e,options:t}),this._orderedPolicies=void 0}removePolicy(e){let t=[];return this._policies=this._policies.filter(r=>(!e.name||r.policy.name!==e.name)&&(!e.phase||r.options.phase!==e.phase)||(t.push(r.policy),!1)),this._orderedPolicies=void 0,t}sendRequest(e,t){return this.getOrderedPolicies().reduceRight((e,t)=>r=>t.sendRequest(r,e),t=>e.sendRequest(t))(t)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new iV(this._policies)}static create(){return new iV}orderPolicies(){let e=[],t=new Map;function r(e){return{name:e,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}let n=r("Serialize"),i=r("None"),o=r("Deserialize"),s=r("Retry"),a=r("Sign"),l=[n,i,o,s,a];function c(e){return"Retry"===e?s:"Serialize"===e?n:"Deserialize"===e?o:"Sign"===e?a:i}for(let e of this._policies){let r=e.policy,n=e.options,i=r.name;if(t.has(i))throw Error("Duplicate policy names not allowed in pipeline");let o={policy:r,dependsOn:new Set,dependants:new Set};n.afterPhase&&(o.afterPhase=c(n.afterPhase),o.afterPhase.hasAfterPolicies=!0),t.set(i,o),c(n.phase).policies.add(o)}for(let e of this._policies){let{policy:r,options:n}=e,i=r.name,o=t.get(i);if(!o)throw Error(`Missing node for policy ${i}`);if(n.afterPolicies)for(let e of n.afterPolicies){let r=t.get(e);r&&(o.dependsOn.add(r),r.dependants.add(o))}if(n.beforePolicies)for(let e of n.beforePolicies){let r=t.get(e);r&&(r.dependsOn.add(o),o.dependants.add(r))}}function u(r){for(let n of(r.hasRun=!0,r.policies))if((!n.afterPhase||n.afterPhase.hasRun&&!n.afterPhase.policies.size)&&0===n.dependsOn.size){for(let t of(e.push(n.policy),n.dependants))t.dependsOn.delete(n);t.delete(n.policy.name),r.policies.delete(n)}}let h=0;for(;t.size>0;){h++;let t=e.length;if(function(){for(let e of l){if(u(e),e.policies.size>0&&e!==i){i.hasRun||u(i);return}e.hasAfterPolicies&&u(i)}}(),e.length<=t&&h>1)throw Error("Cannot satisfy policy dependencies due to requirements cycle.")}return e}}let i$=nC.inspect.custom,iz=new iT;class iW extends Error{static REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";static PARSE_ERROR="PARSE_ERROR";code;statusCode;request;response;details;constructor(e,t={}){super(e),this.name="RestError",this.code=t.code,this.statusCode=t.statusCode,Object.defineProperty(this,"request",{value:t.request,enumerable:!1}),Object.defineProperty(this,"response",{value:t.response,enumerable:!1});let r=this.request?.agent?{maxFreeSockets:this.request.agent.maxFreeSockets,maxSockets:this.request.agent.maxSockets}:void 0;Object.defineProperty(this,i$,{value:()=>`RestError: ${this.message} 
 ${iz.sanitize({...this,request:{...this.request,agent:r},response:this.response})}`,enumerable:!1}),Object.setPrototypeOf(this,iW.prototype)}}let iG=require("node:http"),iK=require("node:https"),iZ=require("node:zlib");var iQ=r(84492);let iX=nz("ts-http-runtime"),iJ={};function i0(e){return e&&"function"==typeof e.pipe}function i1(e){return!1===e.readable?Promise.resolve():new Promise(t=>{let r=()=>{t(),e.removeListener("close",r),e.removeListener("end",r),e.removeListener("error",r)};e.on("close",r),e.on("end",r),e.on("error",r)})}function i2(e){return e&&"number"==typeof e.byteLength}class i5 extends iQ.Transform{loadedBytes=0;progressCallback;_transform(e,t,r){this.push(e),this.loadedBytes+=e.length;try{this.progressCallback({loadedBytes:this.loadedBytes}),r()}catch(e){r(e)}}constructor(e){super(),this.progressCallback=e}}class i4{cachedHttpAgent;cachedHttpsAgents=new WeakMap;async sendRequest(e){var t,r;let n,i,o;let s=new AbortController;if(e.abortSignal){if(e.abortSignal.aborted)throw new iF("The operation was aborted. Request has already been canceled.");n=e=>{"abort"===e.type&&s.abort()},e.abortSignal.addEventListener("abort",n)}e.timeout>0&&(i=setTimeout(()=>{let t=new iT;iX.info(`request to '${t.sanitizeUrl(e.url)}' timed out. canceling...`),s.abort()},e.timeout));let a=e.headers.get("Accept-Encoding"),l=a?.includes("gzip")||a?.includes("deflate"),c="function"==typeof e.body?e.body():e.body;if(c&&!e.headers.has("Content-Length")){let r=(t=c)?Buffer.isBuffer(t)?t.length:i0(t)?null:i2(t)?t.byteLength:"string"==typeof t?Buffer.from(t).length:null:0;null!==r&&e.headers.set("Content-Length",r)}try{if(c&&e.onUploadProgress){let t=e.onUploadProgress,r=new i5(t);r.on("error",e=>{iX.error("Error in upload progress",e)}),i0(c)?c.pipe(r):r.end(c),c=r}let t=await this.makeRequest(e,s,c);void 0!==i&&clearTimeout(i);let n=function(e){let t=ij();for(let r of Object.keys(e.headers)){let n=e.headers[r];Array.isArray(n)?n.length>0&&t.set(r,n[0]):n&&t.set(r,n)}return t}(t),a={status:t.statusCode??0,headers:n,request:e};if("HEAD"===e.method)return t.resume(),a;o=l?function(e,t){let r=t.get("Content-Encoding");if("gzip"===r){let t=iZ.createGunzip();return e.pipe(t),t}if("deflate"===r){let t=iZ.createInflate();return e.pipe(t),t}return e}(t,n):t;let u=e.onDownloadProgress;if(u){let e=new i5(u);e.on("error",e=>{iX.error("Error in download progress",e)}),o.pipe(e),o=e}return e.streamResponseStatusCodes?.has(Number.POSITIVE_INFINITY)||e.streamResponseStatusCodes?.has(a.status)?a.readableStreamBody=o:a.bodyAsText=await (r=o,new Promise((e,t)=>{let n=[];r.on("data",e=>{Buffer.isBuffer(e)?n.push(e):n.push(Buffer.from(e))}),r.on("end",()=>{e(Buffer.concat(n).toString("utf8"))}),r.on("error",e=>{e&&e?.name==="AbortError"?t(e):t(new iW(`Error reading response as text: ${e.message}`,{code:iW.PARSE_ERROR}))})})),a}finally{if(e.abortSignal&&n){let t=Promise.resolve();i0(c)&&(t=i1(c));let r=Promise.resolve();i0(o)&&(r=i1(o)),Promise.all([t,r]).then(()=>{n&&e.abortSignal?.removeEventListener("abort",n)}).catch(e=>{iX.warning("Error when cleaning up abortListener on httpRequest",e)})}}}makeRequest(e,t,r){let n=new URL(e.url),i="https:"!==n.protocol;if(i&&!e.allowInsecureConnection)throw Error(`Cannot connect to ${e.url} while allowInsecureConnection is false.`);let o={agent:e.agent??this.getOrCreateAgent(e,i),hostname:n.hostname,path:`${n.pathname}${n.search}`,port:n.port,method:e.method,headers:e.headers.toJSON({preserveCase:!0}),...e.requestOverrides};return new Promise((n,s)=>{let a=i?iG.request(o,n):iK.request(o,n);a.once("error",t=>{s(new iW(t.message,{code:t.code??iW.REQUEST_SEND_ERROR,request:e}))}),t.signal.addEventListener("abort",()=>{let e=new iF("The operation was aborted. Rejecting from abort signal callback while making request.");a.destroy(e),s(e)}),r&&i0(r)?r.pipe(a):r?"string"==typeof r||Buffer.isBuffer(r)?a.end(r):i2(r)?a.end(ArrayBuffer.isView(r)?Buffer.from(r.buffer):Buffer.from(r)):(iX.error("Unrecognized body type",r),s(new iW("Unrecognized body type"))):a.end()})}getOrCreateAgent(e,t){let r=e.disableKeepAlive;if(t)return r?iG.globalAgent:(this.cachedHttpAgent||(this.cachedHttpAgent=new iG.Agent({keepAlive:!0})),this.cachedHttpAgent);{if(r&&!e.tlsSettings)return iK.globalAgent;let t=e.tlsSettings??iJ,n=this.cachedHttpsAgents.get(t);return n&&!r===n.options.keepAlive||(iX.info("No cached TLS Agent exist, creating a new Agent"),n=new iK.Agent({keepAlive:!r,...t}),this.cachedHttpsAgents.set(t,n)),n}}}let i8="Retry-After",i6=["retry-after-ms","x-ms-retry-after-ms",i8];function i3(e){if(e&&[429,503].includes(e.status))try{for(let t of i6){let r=function(e,t){let r=e.headers.get(t);if(!r)return;let n=Number(r);if(!Number.isNaN(n))return n}(e,t);if(0===r||r){let e=t===i8?1e3:1;return r*e}}let t=e.headers.get(i8);if(!t)return;let r=Date.parse(t)-Date.now();return Number.isFinite(r)?Math.max(0,r):void 0}catch{return}}let i9=nz("ts-http-runtime retryPolicy");function i7(e,t){return Buffer.from(e,t)}async function oe(e,t){let r=t.headers.get("Content-Type");if(r&&!r.startsWith("multipart/form-data"))return;t.headers.set("Content-Type",r??"multipart/form-data");let n=[];for(let[t,r]of Object.entries(e))for(let e of Array.isArray(r)?r:[r])if("string"==typeof e)n.push({headers:ij({"Content-Disposition":`form-data; name="${t}"`}),body:i7(e,"utf-8")});else if(null==e||"object"!=typeof e)throw Error(`Unexpected value for key ${t}: ${e}. Value should be serialized to string first.`);else{let r=e.name||"blob",i=ij();i.set("Content-Disposition",`form-data; name="${t}"; filename="${r}"`),i.set("Content-Type",e.type||"application/octet-stream"),n.push({headers:i,body:e})}t.multipartBody={parts:n}}var ot=r(14649),or=r(43665);let on=[],oi=!1,oo=new Map;function os(e){return process.env[e]?process.env[e]:process.env[e.toLowerCase()]?process.env[e.toLowerCase()]:void 0}function oa(e){let t;try{t=new URL(e.host)}catch{throw Error(`Expecting a valid host string in proxy settings, but found "${e.host}".`)}return t.port=String(e.port),e.username&&(t.username=e.username),e.password&&(t.password=e.password),t}function ol(e,t,r){if(e.agent)return;let n="https:"!==new URL(e.url).protocol;e.tlsSettings&&iX.warning("TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.");let i=e.headers.toJSON();n?(t.httpProxyAgent||(t.httpProxyAgent=new or.HttpProxyAgent(r,{headers:i})),e.agent=t.httpProxyAgent):(t.httpsProxyAgent||(t.httpsProxyAgent=new ot.HttpsProxyAgent(r,{headers:i})),e.agent=t.httpsProxyAgent)}function oc(e){return"function"==typeof e.stream}var ou=r(12781);async function*oh(){let e=this.getReader();try{for(;;){let{done:t,value:r}=await e.read();if(t)return;yield r}}finally{e.releaseLock()}}function od(e){return e instanceof ReadableStream?(e[Symbol.asyncIterator]||(e[Symbol.asyncIterator]=oh.bind(e)),e.values||(e.values=oh.bind(e)),ou.Readable.fromWeb(e)):e}function of(e){return e instanceof Uint8Array?ou.Readable.from(Buffer.from(e)):oc(e)?od(e.stream()):od(e)}async function op(e){return function(){let t=e.map(e=>"function"==typeof e?e():e).map(of);return ou.Readable.from(async function*(){for(let e of t)for await(let t of e)yield t}())}}async function om(e,t,r){let n=[i7(`--${r}`,"utf-8"),...t.flatMap(e=>[i7("\r\n","utf-8"),i7(function(e){let t="";for(let[r,n]of e)t+=`${r}: ${n}\r
`;return t}(e.headers),"utf-8"),i7("\r\n","utf-8"),e.body,i7(`\r
--${r}`,"utf-8")]),i7("--\r\n\r\n","utf-8")],i=function(e){let t=0;for(let r of e){let e=r instanceof Uint8Array?r.byteLength:oc(r)?-1===r.size?void 0:r.size:void 0;if(void 0===e)return;t+=e}return t}(n);i&&e.headers.set("Content-Length",i),e.body=await op(n)}let og="multipartPolicy",oy=new Set("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'()+,-./:=?"),o_=nK("core-rest-pipeline"),oE=["GET","HEAD"];async function oT(e,t,r,n=0){let{request:i,status:o,headers:s}=t,a=s.get("location");if(a&&(300===o||301===o&&oE.includes(i.method)||302===o&&oE.includes(i.method)||303===o&&"POST"===i.method||307===o)&&n<r){let t=new URL(a,i.url);i.url=t.toString(),303===o&&(i.method="GET",i.headers.delete("Content-Length"),delete i.body),i.headers.delete("Authorization");let s=await e(i);return oT(e,s,r,n+1)}return t}async function ob(e){if(nO&&nO.versions){let t=nO.versions;t.bun?e.set("Bun",t.bun):t.deno?e.set("Deno",t.deno):t.node&&e.set("Node",t.node)}e.set("OS",`(${nI.arch()}-${nI.type()}-${nI.release()})`)}let ow="1.22.1";async function ov(e){let t=new Map;t.set("core-rest-pipeline",ow),await ob(t);let r=function(e){let t=[];for(let[r,n]of e){let e=n?`${r}/${n}`:r;t.push(e)}return t.join(" ")}(t);return e?`${e} ${r}`:r}let oS="User-Agent",oA=Symbol("rawContent");function oI(e){return"function"==typeof e[oA]}let oC={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};class oO{_contextMap;constructor(e){this._contextMap=e instanceof oO?new Map(e._contextMap):new Map}setValue(e,t){let r=new oO(this);return r._contextMap.set(e,t),r}getValue(e){return this._contextMap.get(e)}deleteValue(e){let t=new oO(this);return t._contextMap.delete(e),t}}let oN=r(92317).S;function oR(){return oN.instrumenterImplementation||(oN.instrumenterImplementation={createRequestHeaders:()=>({}),parseTraceparentHeader:()=>{},startSpan:(e,t)=>({span:{end:()=>{},isRecording:()=>!1,recordException:()=>{},setAttribute:()=>{},setStatus:()=>{},addEvent:()=>{}},tracingContext:function(e={}){let t=new oO(e.parentContext);return e.span&&(t=t.setValue(oC.span,e.span)),e.namespace&&(t=t.setValue(oC.namespace,e.namespace)),t}({parentContext:t.tracingContext})}),withContext:(e,t,...r)=>t(...r)}),oN.instrumenterImplementation}function oD(e){let{namespace:t,packageName:r,packageVersion:n}=e;function i(e,i,o){let s=oR().startSpan(e,{...o,packageName:r,packageVersion:n,tracingContext:i?.tracingOptions?.tracingContext}),a=s.tracingContext,l=s.span;return a.getValue(oC.namespace)||(a=a.setValue(oC.namespace,t)),l.setAttribute("az.namespace",a.getValue(oC.namespace)),{span:l,updatedOptions:Object.assign({},i,{tracingOptions:{...i?.tracingOptions,tracingContext:a}})}}async function o(e,t,r,n){let{span:o,updatedOptions:a}=i(e,t,n);try{let e=await s(a.tracingOptions.tracingContext,()=>Promise.resolve(r(a,o)));return o.setStatus({status:"success"}),e}catch(e){throw o.setStatus({status:"error",error:e}),e}finally{o.end()}}function s(e,t,...r){return oR().withContext(e,t,...r)}return{startSpan:i,withSpan:o,withContext:s,parseTraceparentHeader:function(e){return oR().parseTraceparentHeader(e)},createRequestHeaders:function(e){return oR().createRequestHeaders(e)}}}function ok(e){return e instanceof iW||id(e)&&"RestError"===e.name}function oP(e){if(e instanceof AbortSignal)return{abortSignal:e};if(e.aborted)return{abortSignal:AbortSignal.abort(e.reason)};let t=new AbortController,r=!0;function n(){r&&(e.removeEventListener("abort",i),r=!1)}function i(){t.abort(e.reason),n()}return e.addEventListener("abort",i),{abortSignal:t.signal,cleanup:n}}function oM(e){return new iY(e)}nK("core-rest-pipeline retryPolicy");let oL={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:12e4};async function ox(e,t,r){async function n(){if(Date.now()<r)try{return await e()}catch{return null}else{let t=await e();if(null===t)throw Error("Failed to refresh access token.");return t}}let i=await n();for(;null===i;)await iw(t),i=await n();return i}async function oU(e,t){try{return[await t(e),void 0]}catch(e){if(ok(e)&&e.response)return[e.response,e];throw e}}async function oF(e){let{scopes:t,getAccessToken:r,request:n}=e,i={abortSignal:n.abortSignal,tracingOptions:n.tracingOptions,enableCae:!0},o=await r(t,i);o&&e.request.headers.set("Authorization",`Bearer ${o.token}`)}function oB(e){return 401===e.status&&e.headers.has("WWW-Authenticate")}async function oq(e,t){let{scopes:r}=e,n=await e.getAccessToken(r,{enableCae:!0,claims:t});return!!n&&(e.request.headers.set("Authorization",`${n.tokenType??"Bearer"} ${n.token}`),!0)}function oj(e){if(!e)return;let t=function(e){let t;let r=/(\w+)\s+((?:\w+=(?:"[^"]*"|[^,]*),?\s*)+)/g,n=/(\w+)="([^"]*)"/g,i=[];for(;null!==(t=r.exec(e));){let e;let r=t[1],o=t[2],s={};for(;null!==(e=n.exec(o));)s[e[1]]=e[2];i.push({scheme:r,params:s})}return i}(e);return t.find(e=>"Bearer"===e.scheme&&e.params.claims&&"insufficient_claims"===e.params.error)?.params.claims}let oY=r(16502).S;function oH(e,t,r){let n,i=t.parameterPath,o=t.mapper;if("string"==typeof i&&(i=[i]),Array.isArray(i)){if(i.length>0){if(o.isConstant)n=o.defaultValue;else{let t=oV(e,i);!t.propertyFound&&r&&(t=oV(r,i));let s=!1;t.propertyFound||(s=o.required||"options"===i[0]&&2===i.length),n=s?o.defaultValue:t.propertyValue}}}else for(let t in o.required&&(n={}),i){let s=o.type.modelProperties[t],a=oH(e,{parameterPath:i[t],mapper:s},r);void 0!==a&&(n||(n={}),n[t]=a)}return n}function oV(e,t){let r={propertyFound:!1},n=0;for(;n<t.length;++n){let r=t[n];if(e&&r in e)e=e[r];else break}return n===t.length&&(r.propertyValue=e,r.propertyFound=!0),r}let o$=Symbol.for("@azure/core-client original request");function oz(e){if(o$ in e)return oz(e[o$]);let t=oY.operationRequestMap.get(e);return t||(t={},oY.operationRequestMap.set(e,t)),t}let oW=["application/json","text/json"],oG=["application/xml","application/atom+xml"];async function oK(e,t,r,n,i){let o=await oZ(e,t,r,n,i);if(!function(e){let t=oz(e.request),r=t?.shouldDeserialize;return void 0===r||("boolean"==typeof r?r:r(e))}(o))return o;let s=oz(o.request),a=s?.operationSpec;if(!a||!a.responses)return o;let l=function(e){let t;let r=oz(e.request),n=r?.operationSpec;return n&&(t=r?.operationResponseGetter?r?.operationResponseGetter(n,e):n.responses[e.status]),t}(o),{error:c,shouldReturnResponse:u}=function(e,t,r,n){let i=200<=e.status&&e.status<300;if((!function(e){let t=Object.keys(e.responses);return 0===t.length||1===t.length&&"default"===t[0]}(t)?!!r:i)&&(!r||!r.isError))return{error:null,shouldReturnResponse:!1};let o=r??t.responses.default,s=new iW(e.request.streamResponseStatusCodes?.has(e.status)?`Unexpected status code: ${e.status}`:e.bodyAsText,{statusCode:e.status,request:e.request,response:e});if(!o&&!(e.parsedBody?.error?.code&&e.parsedBody?.error?.message))throw s;let a=o?.bodyMapper,l=o?.headersMapper;try{if(e.parsedBody){let r;let i=e.parsedBody;if(a){let e=i;if(t.isXML&&a.type.name===iU.Sequence){e=[];let t=a.xmlElementName;"object"==typeof i&&t&&(e=i[t])}r=t.serializer.deserialize(a,e,"error.response.parsedBody",n)}let o=i.error||r||i;s.code=o.code,o.message&&(s.message=o.message),a&&(s.response.parsedBody=r)}e.headers&&l&&(s.response.parsedHeaders=t.serializer.deserialize(l,e.headers.toJSON(),"operationRes.parsedHeaders"))}catch(t){s.message=`Error "${t.message}" occurred in deserializing the responseBody - "${e.bodyAsText}" for the default response.`}return{error:s,shouldReturnResponse:!1}}(o,a,l,n);if(c)throw c;if(u)return o;if(l){if(l.bodyMapper){let e=o.parsedBody;a.isXML&&l.bodyMapper.type.name===iU.Sequence&&(e="object"==typeof e?e[l.bodyMapper.xmlElementName]:[]);try{o.parsedBody=a.serializer.deserialize(l.bodyMapper,e,"operationRes.parsedBody",n)}catch(e){throw new iW(`Error ${e} occurred in deserializing the responseBody - ${o.bodyAsText}`,{statusCode:o.status,request:o.request,response:o})}}else"HEAD"===a.httpMethod&&(o.parsedBody=r.status>=200&&r.status<300);l.headersMapper&&(o.parsedHeaders=a.serializer.deserialize(l.headersMapper,o.headers.toJSON(),"operationRes.parsedHeaders",{xml:{},ignoreUnknownProperties:!0}))}return o}async function oZ(e,t,r,n,i){if(!r.request.streamResponseStatusCodes?.has(r.status)&&r.bodyAsText){let o=r.bodyAsText,s=r.headers.get("Content-Type")||"",a=s?s.split(";").map(e=>e.toLowerCase()):[];try{if(0===a.length||a.some(t=>-1!==e.indexOf(t)))r.parsedBody=JSON.parse(o);else if(a.some(e=>-1!==t.indexOf(e))){if(!i)throw Error("Parsing XML not supported.");let e=await i(o,n.xml);r.parsedBody=e}}catch(n){let e=`Error "${n}" occurred while parsing the response body - ${r.bodyAsText}.`,t=n.code||iW.PARSE_ERROR;throw new iW(e,{code:t,statusCode:r.status,request:r.request,response:r})}}return r}function oQ(e){let{parameterPath:t,mapper:r}=e;return"string"==typeof t?t:Array.isArray(t)?t.join("."):r.serializedName}function oX(e,t){var r;let n=e.parsedHeaders;if("HEAD"===e.request.method)return{...n,body:e.parsedBody};let i=t&&t.bodyMapper,o=!!i?.nullable,s=i?.type.name;if("Stream"===s)return{...n,blobBody:e.blobBody,readableStreamBody:e.readableStreamBody};let a="Composite"===s&&i.type.modelProperties||{},l=Object.keys(a).some(e=>""===a[e].serializedName);if("Sequence"===s||l){let t=e.parsedBody??[];for(let r of Object.keys(a))a[r].serializedName&&(t[r]=e.parsedBody?.[r]);if(n)for(let e of Object.keys(n))t[e]=n[e];return!o||e.parsedBody||n||0!==Object.getOwnPropertyNames(a).length?t:null}return function(e){let t={...e.headers,...e.body};return e.hasNullableType&&0===Object.getOwnPropertyNames(t).length?e.shouldWrapBody?{body:null}:null:e.shouldWrapBody?{...e.headers,body:e.body}:t}({body:e.parsedBody,headers:n,hasNullableType:o,shouldWrapBody:(r=e.parsedBody,"Composite"!==s&&"Dictionary"!==s&&("string"==typeof r||"number"==typeof r||"boolean"==typeof r||s?.match(/^(Date|DateTime|DateTimeRfc1123|UnixTime|ByteArray|Base64Url)$/i)!==null||null==r))})}let oJ={CSV:",",SSV:" ",Multi:"Multi",TSV:"	",Pipes:"|"};function o0(e,t){let r=e;for(let[e,n]of t)r=r.split(e).join(n);return r}let o1=nK("core-client");class o2{_endpoint;_requestContentType;_allowInsecureConnection;_httpClient;pipeline;constructor(e={}){if(this._requestContentType=e.requestContentType,this._endpoint=e.endpoint??e.baseUri,e.baseUri&&o1.warning("The baseUri option for SDK Clients has been deprecated, please use endpoint instead."),this._allowInsecureConnection=e.allowInsecureConnection,this._httpClient=e.httpClient||(i||(i=function(){let e=new i4;return{async sendRequest(t){let{abortSignal:r,cleanup:n}=t.abortSignal?oP(t.abortSignal):{};try{return t.abortSignal=r,await e.sendRequest(t)}finally{n?.()}}}}()),i),this.pipeline=e.pipeline||function(e){let t=function(e){if(e.credentialScopes)return e.credentialScopes;if(e.endpoint)return`${e.endpoint}/.default`;if(e.baseUri)return`${e.baseUri}/.default`;if(e.credential&&!e.credentialScopes)throw Error("When using credentials, the ServiceClientOptions must contain either a endpoint or a credentialScopes. Unable to create a bearerTokenAuthenticationPolicy")}(e),r=e.credential&&t?{credentialScopes:t,credential:e.credential}:void 0;return function(e={}){let t=function(e){let t=iV.create();if(ig){var r,n;e.agent&&t.addPolicy((r=e.agent,{name:"agentPolicy",sendRequest:async(e,t)=>(e.agent||(e.agent=r),t(e))})),e.tlsOptions&&t.addPolicy((n=e.tlsOptions,{name:"tlsPolicy",sendRequest:async(e,t)=>(e.tlsSettings||(e.tlsSettings=n),t(e))})),t.addPolicy(function(e,t){oi||on.push(...function(){let e=os("NO_PROXY");return(oi=!0,e)?e.split(",").map(e=>e.trim()).filter(e=>e.length):[]}());let r=e?oa(e):function(){let e=function(){if(!process)return;let e=os("HTTPS_PROXY"),t=os("ALL_PROXY"),r=os("HTTP_PROXY");return e||t||r}();return e?new URL(e):void 0}(),n={};return{name:"proxyPolicy",sendRequest:async(e,i)=>(!e.proxySettings&&r&&!function(e,t,r){if(0===t.length)return!1;let n=new URL(e).hostname;if(r?.has(n))return r.get(n);let i=!1;for(let e of t)"."===e[0]?n.endsWith(e)?i=!0:n.length===e.length-1&&n===e.slice(1)&&(i=!0):n===e&&(i=!0);return r?.set(n,i),i}(e.url,t?.customNoProxyList??on,t?.customNoProxyList?void 0:oo)?ol(e,n,r):e.proxySettings&&ol(e,n,oa(e.proxySettings)),i(e))}}(e.proxyOptions,void 0)),t.addPolicy({name:"decompressResponsePolicy",sendRequest:async(e,t)=>("HEAD"!==e.method&&e.headers.set("Accept-Encoding","gzip,deflate"),t(e))})}return t.addPolicy({name:"wrapAbortSignalLikePolicy",sendRequest:async(e,t)=>{if(!e.abortSignal)return t(e);let{abortSignal:r,cleanup:n}=oP(e.abortSignal);e.abortSignal=r;try{return await t(e)}finally{n?.()}}}),t.addPolicy({name:"formDataPolicy",async sendRequest(e,t){if(ig&&"undefined"!=typeof FormData&&e.body instanceof FormData&&(e.formData=function(e){let t={};for(let[r,n]of e.entries())t[r]??=[],t[r].push(n);return t}(e.body),e.body=void 0),e.formData){let t=e.headers.get("Content-Type");t&&-1!==t.indexOf("application/x-www-form-urlencoded")?e.body=function(e){let t=new URLSearchParams;for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)t.append(r,e.toString());else t.append(r,n.toString());return t.toString()}(e.formData):await oe(e.formData,e),e.formData=void 0}return t(e)}},{beforePolicies:[og]}),t.addPolicy(function(e={}){let t=ov(e.userAgentPrefix);return{name:"userAgentPolicy",sendRequest:async(e,r)=>(e.headers.has(oS)||e.headers.set(oS,await t),r(e))}}(e.userAgentOptions)),t.addPolicy(function(e="x-ms-client-request-id"){return{name:"setClientRequestIdPolicy",sendRequest:async(t,r)=>(t.headers.has(e)||t.headers.set(e,t.requestId),r(t))}}(e.telemetryOptions?.clientRequestIdHeaderName)),t.addPolicy(function(){let e={name:og,async sendRequest(e,t){if(!e.multipartBody)return t(e);if(e.body)throw Error("multipartBody and regular body cannot be set at the same time");let r=e.multipartBody.boundary,n=e.headers.get("Content-Type")??"multipart/mixed",i=n.match(/^(multipart\/[^ ;]+)(?:; *boundary=(.+))?$/);if(!i)throw Error(`Got multipart request body, but content-type header was not multipart: ${n}`);let[,o,s]=i;if(s&&r&&s!==r)throw Error(`Multipart boundary was specified as ${s} in the header, but got ${r} in the request body`);return(r??=s)?function(e){if(e.length>70)throw Error(`Multipart boundary "${e}" exceeds maximum length of 70 characters`);if(Array.from(e).some(e=>!oy.has(e)))throw Error(`Multipart boundary "${e}" contains invalid characters`)}(r):r=`----AzSDKFormBoundary${im()}`,e.headers.set("Content-Type",`${o}; boundary=${r}`),await om(e,e.multipartBody.parts,r),e.multipartBody=void 0,t(e)}};return{name:og,sendRequest:async(t,r)=>{if(t.multipartBody){for(let e of t.multipartBody.parts)if(oI(e.body)){var n;e.body=oI(n=e.body)?n[oA]():n}}return e.sendRequest(t,r)}}}(),{afterPhase:"Deserialize"}),t.addPolicy(function(e={}){return function(e={}){return{name:"defaultRetryPolicy",sendRequest:function(e,t={maxRetries:3}){let r=t.logger||i9;return{name:"retryPolicy",async sendRequest(n,i){let o,s;let a=-1;e:for(;;){a+=1,o=void 0,s=void 0;try{r.info(`Retry ${a}: Attempting to send request`,n.requestId),o=await i(n),r.info(`Retry ${a}: Received a response from request`,n.requestId)}catch(e){if(r.error(`Retry ${a}: Received an error from request`,n.requestId),s=e,!e||"RestError"!==s.name)throw e;o=s.response}if(n.abortSignal?.aborted)throw r.error(`Retry ${a}: Request aborted.`),new iF;if(a>=(t.maxRetries??3)){if(r.info(`Retry ${a}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),s)throw s;if(o)return o;throw Error("Maximum retries reached with no response or error to throw")}for(let t of(r.info(`Retry ${a}: Processing ${e.length} retry strategies.`),e)){let e=t.logger||r;e.info(`Retry ${a}: Processing retry strategy ${t.name}.`);let i=t.retry({retryCount:a,response:o,responseError:s});if(i.skipStrategy){e.info(`Retry ${a}: Skipped.`);continue}let{errorToThrow:l,retryAfterInMs:c,redirectTo:u}=i;if(l)throw e.error(`Retry ${a}: Retry strategy ${t.name} throws error:`,l),l;if(c||0===c){e.info(`Retry ${a}: Retry strategy ${t.name} retries after ${c}`),await function(e,t,r){return new Promise((n,i)=>{let o,s;let a=()=>i(new iF(r?.abortErrorMsg?r?.abortErrorMsg:"The operation was aborted.")),l=()=>{r?.abortSignal&&s&&r.abortSignal.removeEventListener("abort",s)};if(s=()=>(o&&clearTimeout(o),l(),a()),r?.abortSignal&&r.abortSignal.aborted)return a();o=setTimeout(()=>{l(),n(t)},e),r?.abortSignal&&r.abortSignal.addEventListener("abort",s)})}(c,void 0,{abortSignal:n.abortSignal});continue e}if(u){e.info(`Retry ${a}: Retry strategy ${t.name} redirects to ${u}`),n.url=u;continue e}}if(s)throw r.info("None of the retry strategies could work with the received error. Throwing it."),s;if(o)return r.info("None of the retry strategies could work with the received response. Returning it."),o}}}}([{name:"throttlingRetryStrategy",retry({response:e}){let t=i3(e);return Number.isFinite(t)?{retryAfterInMs:t}:{skipStrategy:!0}}},function(e={}){let t=e.retryDelayInMs??1e3,r=e.maxRetryDelayInMs??64e3;return{name:"exponentialRetryStrategy",retry({retryCount:n,response:i,responseError:o}){let s=!!o&&("ETIMEDOUT"===o.code||"ESOCKETTIMEDOUT"===o.code||"ECONNREFUSED"===o.code||"ECONNRESET"===o.code||"ENOENT"===o.code||"ENOTFOUND"===o.code),a=s&&e.ignoreSystemErrors,l=!!(i&&void 0!==i.status&&(i.status>=500||408===i.status)&&501!==i.status&&505!==i.status),c=l&&e.ignoreHttpStatusCodes;return i&&(Number.isFinite(i3(i))||!l)||c||a?{skipStrategy:!0}:!o||s||l?function(e,t){var r,n;let i=t.retryDelayInMs*Math.pow(2,e),o=Math.min(t.maxRetryDelayInMs,i);return{retryAfterInMs:o/2+(r=0,n=o/2,r=Math.ceil(r),Math.floor(Math.random()*((n=Math.floor(n))-r+1))+r)}}(n,{retryDelayInMs:t,maxRetryDelayInMs:r}):{errorToThrow:o}}}}(e)],{maxRetries:e.maxRetries??3}).sendRequest}}(e)}(e.retryOptions),{phase:"Retry"}),t.addPolicy(function(e={}){let t=ov(e.userAgentPrefix),r=new iT({additionalAllowedQueryParameters:e.additionalAllowedQueryParameters}),n=function(){try{return oD({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:ow})}catch(e){o_.warning(`Error when creating the TracingClient: ${iv(e)}`);return}}();return{name:"tracingPolicy",async sendRequest(e,i){if(!n)return i(e);let o=await t,s={"http.url":r.sanitizeUrl(e.url),"http.method":e.method,"http.user_agent":o,requestId:e.requestId};o&&(s["http.user_agent"]=o);let{span:a,tracingContext:l}=function(e,t,r){try{let{span:n,updatedOptions:i}=e.startSpan(`HTTP ${t.method}`,{tracingOptions:t.tracingOptions},{spanKind:"client",spanAttributes:r});if(!n.isRecording()){n.end();return}let o=e.createRequestHeaders(i.tracingOptions.tracingContext);for(let[e,r]of Object.entries(o))t.headers.set(e,r);return{span:n,tracingContext:i.tracingOptions.tracingContext}}catch(e){o_.warning(`Skipping creating a tracing span due to an error: ${iv(e)}`);return}}(n,e,s)??{};if(!a||!l)return i(e);try{let t=await n.withContext(l,i,e);return function(e,t){try{e.setAttribute("http.status_code",t.status);let r=t.headers.get("x-ms-request-id");r&&e.setAttribute("serviceRequestId",r),t.status>=400&&e.setStatus({status:"error"}),e.end()}catch(e){o_.warning(`Skipping tracing span processing due to an error: ${iv(e)}`)}}(a,t),t}catch(e){throw function(e,t){try{e.setStatus({status:"error",error:id(t)?t:void 0}),ok(t)&&t.statusCode&&e.setAttribute("http.status_code",t.statusCode),e.end()}catch(e){o_.warning(`Skipping tracing span processing due to an error: ${iv(e)}`)}}(a,e),e}}}}({...e.userAgentOptions,...e.loggingOptions}),{afterPhase:"Retry"}),ig&&t.addPolicy(function(e={}){return function(e={}){let{maxRetries:t=20}=e;return{name:"redirectPolicy",async sendRequest(e,r){let n=await r(e);return oT(r,n,t)}}}(e)}(e.redirectOptions),{afterPhase:"Retry"}),t.addPolicy(function(e={}){return function(e={}){let t=e.logger??iX.info,r=new iT({additionalAllowedHeaderNames:e.additionalAllowedHeaderNames,additionalAllowedQueryParameters:e.additionalAllowedQueryParameters});return{name:"logPolicy",async sendRequest(e,n){if(!t.enabled)return n(e);t(`Request: ${r.sanitize(e)}`);let i=await n(e);return t(`Response status code: ${i.status}`),t(`Headers: ${r.sanitize(i.headers)}`),i}}}({logger:o_.info,...e})}(e.loggingOptions),{afterPhase:"Sign"}),t}(e??{});return e.credentialOptions&&t.addPolicy(function(e){let{credential:t,scopes:r,challengeCallbacks:n}=e,i=e.logger||o_,o={authorizeRequest:n?.authorizeRequest?.bind(n)??oF,authorizeRequestOnChallenge:n?.authorizeRequestOnChallenge?.bind(n)},s=t?function(e,t){let r,n=null,i=null,o={...oL},s={get isRefreshing(){return null!==n},get shouldRefresh(){if(s.isRefreshing)return!1;if(i?.refreshAfterTimestamp&&i.refreshAfterTimestamp<Date.now())return!0;return(i?.expiresOnTimestamp??0)-o.refreshWindowInMs<Date.now()},get mustRefresh(){return null===i||i.expiresOnTimestamp-o.forcedRefreshWindowInMs<Date.now()}};function a(t,a){return s.isRefreshing||(n=ox(()=>e.getToken(t,a),o.retryIntervalInMs,i?.expiresOnTimestamp??Date.now()).then(e=>(n=null,i=e,r=a.tenantId,i)).catch(e=>{throw n=null,i=null,r=void 0,e})),n}return async(e,t)=>{let n=!!t.claims,o=r!==t.tenantId;return(n&&(i=null),o||n||s.mustRefresh)?a(e,t):(s.shouldRefresh&&a(e,t),i)}}(t):()=>Promise.resolve(null);return{name:"bearerTokenAuthenticationPolicy",async sendRequest(e,t){let n,a;if(!e.url.toLowerCase().startsWith("https://"))throw Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");if(await o.authorizeRequest({scopes:Array.isArray(r)?r:[r],request:e,getAccessToken:s,logger:i}),[n,a]=await oU(e,t),oB(n)){let l=oj(n.headers.get("WWW-Authenticate"));if(l){let o;try{o=atob(l)}catch(e){return i.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${l}`),n}await oq({scopes:Array.isArray(r)?r:[r],response:n,request:e,getAccessToken:s,logger:i},o)&&([n,a]=await oU(e,t))}else if(o.authorizeRequestOnChallenge&&(await o.authorizeRequestOnChallenge({scopes:Array.isArray(r)?r:[r],request:e,response:n,getAccessToken:s,logger:i})&&([n,a]=await oU(e,t)),oB(n)&&(l=oj(n.headers.get("WWW-Authenticate"))))){let o;try{o=atob(l)}catch(e){return i.warning(`The WWW-Authenticate header contains "claims" that cannot be parsed. Unable to perform the Continuous Access Evaluation authentication flow. Unparsable claims: ${l}`),n}await oq({scopes:Array.isArray(r)?r:[r],response:n,request:e,getAccessToken:s,logger:i},o)&&([n,a]=await oU(e,t))}}if(!a)return n;throw a}}}({credential:e.credentialOptions.credential,scopes:e.credentialOptions.credentialScopes})),t.addPolicy(function(e={}){let t=e.stringifyXML;return{name:"serializationPolicy",async sendRequest(e,r){let n=oz(e),i=n?.operationSpec,o=n?.operationArguments;return i&&o&&(function(e,t,r){if(r.headerParameters)for(let n of r.headerParameters){let i=oH(t,n);if(null!=i||n.mapper.required){i=r.serializer.serialize(n.mapper,i,oQ(n));let t=n.mapper.headerCollectionPrefix;if(t)for(let r of Object.keys(i))e.headers.set(t+r,i[r]);else e.headers.set(n.mapper.serializedName||oQ(n),i)}}let n=t.options?.requestOptions?.customHeaders;if(n)for(let t of Object.keys(n))e.headers.set(t,n[t])}(e,o,i),function(e,t,r,n=function(){throw Error("XML serialization unsupported!")}){let i=t.options?.serializerOptions,o={xml:{rootName:i?.xml.rootName??"",includeRoot:i?.xml.includeRoot??!1,xmlCharKey:i?.xml.xmlCharKey??"_"}},s=o.xml.xmlCharKey;if(r.requestBody&&r.requestBody.mapper){e.body=oH(t,r.requestBody);let i=r.requestBody.mapper,{required:a,serializedName:l,xmlName:c,xmlElementName:u,xmlNamespace:h,xmlNamespacePrefix:d,nullable:f}=i,p=i.type.name;try{if(void 0!==e.body&&null!==e.body||f&&null===e.body||a){let t=oQ(r.requestBody);e.body=r.serializer.serialize(i,e.body,t,o);let a=p===iU.Stream;if(r.isXML){let t=d?`xmlns:${d}`:"xmlns",r=function(e,t,r,n,i){if(e&&!["Composite","Sequence","Dictionary"].includes(r)){let r={};return r[i.xml.xmlCharKey]=n,r.$={[t]:e},r}return n}(h,t,p,e.body,o);p===iU.Sequence?e.body=n(function(e,t,r,n){if(Array.isArray(e)||(e=[e]),!r||!n)return{[t]:e};let i={[t]:e};return i.$={[r]:n},i}(r,u||c||l,t,h),{rootName:c||l,xmlCharKey:s}):a||(e.body=n(r,{rootName:c||l,xmlCharKey:s}))}else{if(p===iU.String&&(r.contentType?.match("text/plain")||"text"===r.mediaType))return;a||(e.body=JSON.stringify(e.body))}}}catch(e){throw Error(`Error "${e.message}" occurred in serializing the payload - ${JSON.stringify(l,void 0,"  ")}.`)}}else if(r.formDataParameters&&r.formDataParameters.length>0)for(let n of(e.formData={},r.formDataParameters)){let i=oH(t,n);if(null!=i){let t=n.mapper.serializedName||oQ(n);e.formData[t]=r.serializer.serialize(n.mapper,i,oQ(n),o)}}}(e,o,i,t)),r(e)}}}(e.serializationOptions),{phase:"Serialize"}),t.addPolicy(function(e={}){let t=e.expectedContentTypes?.json??oW,r=e.expectedContentTypes?.xml??oG,n=e.parseXML,i=e.serializerOptions,o={xml:{rootName:i?.xml.rootName??"",includeRoot:i?.xml.includeRoot??!1,xmlCharKey:i?.xml.xmlCharKey??"_"}};return{name:"deserializationPolicy",sendRequest:async(e,i)=>oK(t,r,await i(e),o,n)}}(e.deserializationOptions),{phase:"Deserialize"}),t}({...e,credentialOptions:r})}(e),e.additionalPolicies?.length)for(let{policy:t,position:r}of e.additionalPolicies){let e="perRetry"===r?"Sign":void 0;this.pipeline.addPolicy(t,{afterPhase:e})}}async sendRequest(e){return this.pipeline.sendRequest(this._httpClient,e)}async sendOperationRequest(e,t){let r=t.baseUrl||this._endpoint;if(!r)throw Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a endpoint string property that contains the base URL to use.");let n=oM({url:function(e,t,r,n){let i=function(e,t,r){let n=new Map;if(e.urlParameters?.length)for(let i of e.urlParameters){let o=oH(t,i,r),s=oQ(i);o=e.serializer.serialize(i.mapper,o,s),i.skipEncoding||(o=encodeURIComponent(o)),n.set(`{${i.mapper.serializedName||s}}`,o)}return n}(t,r,n),o=!1,s=o0(e,i);if(t.path){let e=o0(t.path,i);"/{nextLink}"===t.path&&e.startsWith("/")&&(e=e.substring(1)),e.includes("://")?(s=e,o=!0):s=function(e,t){if(!t)return e;let r=new URL(e),n=r.pathname;n.endsWith("/")||(n=`${n}/`),t.startsWith("/")&&(t=t.substring(1));let i=t.indexOf("?");if(-1!==i){let e=t.substring(0,i),o=t.substring(i+1);n+=e,o&&(r.search=r.search?`${r.search}&${o}`:o)}else n+=t;return r.pathname=n,r.toString()}(s,e)}let{queryParams:a,sequenceParams:l}=function(e,t,r){let n=new Map,i=new Set;if(e.queryParameters?.length)for(let o of e.queryParameters){"Sequence"===o.mapper.type.name&&o.mapper.serializedName&&i.add(o.mapper.serializedName);let s=oH(t,o,r);if(null!=s||o.mapper.required){s=e.serializer.serialize(o.mapper,s,oQ(o));let t=o.collectionFormat?oJ[o.collectionFormat]:"";if(Array.isArray(s)&&(s=s.map(e=>null==e?"":e)),"Multi"===o.collectionFormat&&0===s.length)continue;Array.isArray(s)&&("SSV"===o.collectionFormat||"TSV"===o.collectionFormat)&&(s=s.join(t)),o.skipEncoding||(s=Array.isArray(s)?s.map(e=>encodeURIComponent(e)):encodeURIComponent(s)),Array.isArray(s)&&("CSV"===o.collectionFormat||"Pipes"===o.collectionFormat)&&(s=s.join(t)),n.set(o.mapper.serializedName||oQ(o),s)}}return{queryParams:n,sequenceParams:i}}(t,r,n);return function(e,t,r,n=!1){if(0===t.size)return e;let i=new URL(e),o=function(e){let t=new Map;if(!e||"?"!==e[0])return t;for(let r of(e=e.slice(1)).split("&")){let[e,n]=r.split("=",2),i=t.get(e);i?Array.isArray(i)?i.push(n):t.set(e,[i,n]):t.set(e,n)}return t}(i.search);for(let[e,i]of t){let t=o.get(e);if(Array.isArray(t)){if(Array.isArray(i)){t.push(...i);let r=new Set(t);o.set(e,Array.from(r))}else t.push(i)}else t?(Array.isArray(i)?i.unshift(t):r.has(e)&&o.set(e,[t,i]),n||o.set(e,i)):o.set(e,i)}let s=[];for(let[e,t]of o)if("string"==typeof t)s.push(`${e}=${t}`);else if(Array.isArray(t))for(let r of t)s.push(`${e}=${r}`);else s.push(`${e}=${t}`);return i.search=s.length?`?${s.join("&")}`:"",i.toString()}(s,a,l,o)}(r,t,e,this)});n.method=t.httpMethod;let i=oz(n);i.operationSpec=t,i.operationArguments=e;let o=t.contentType||this._requestContentType;o&&t.requestBody&&n.headers.set("Content-Type",o);let s=e.options;if(s){let e=s.requestOptions;e&&(e.timeout&&(n.timeout=e.timeout),e.onUploadProgress&&(n.onUploadProgress=e.onUploadProgress),e.onDownloadProgress&&(n.onDownloadProgress=e.onDownloadProgress),void 0!==e.shouldDeserialize&&(i.shouldDeserialize=e.shouldDeserialize),e.allowInsecureConnection&&(n.allowInsecureConnection=!0)),s.abortSignal&&(n.abortSignal=s.abortSignal),s.tracingOptions&&(n.tracingOptions=s.tracingOptions)}this._allowInsecureConnection&&(n.allowInsecureConnection=!0),void 0===n.streamResponseStatusCodes&&(n.streamResponseStatusCodes=function(e){let t=new Set;for(let r in e.responses){let n=e.responses[r];n.bodyMapper&&n.bodyMapper.type.name===iU.Stream&&t.add(Number(r))}return t}(t));try{let e=await this.sendRequest(n),r=oX(e,t.responses[e.status]);return s?.onResponse&&s.onResponse(e,r),r}catch(e){if("object"==typeof e&&e?.response){let r=e.response,n=oX(r,t.responses[e.statusCode]||t.responses.default);e.details=n,s?.onResponse&&s.onResponse(r,n,e)}throw e}}}let o5=oD({namespace:"Microsoft.AAD",packageName:"@azure/identity",packageVersion:ie}),o4="/.default",o8="http://169.254.169.254";function o6(e){let t="";if(Array.isArray(e)){if(1!==e.length)return;t=e[0]}else"string"==typeof e&&(t=e);return t.endsWith(o4)?t.substr(0,t.lastIndexOf(o4)):t}let o3="noCorrelationId";class o9 extends o2{constructor(e){var t,r;let n=`azsdk-js-identity/${ie}`,i=(null===(t=null==e?void 0:e.userAgentOptions)||void 0===t?void 0:t.userAgentPrefix)?`${e.userAgentOptions.userAgentPrefix} ${n}`:`${n}`,o=function(e){let t=null==e?void 0:e.authorityHost;return iS&&(t=null!=t?t:process.env.AZURE_AUTHORITY_HOST),null!=t?t:ir}(e);if(!o.startsWith("https:"))throw Error("The authorityHost address must use the 'https' protocol.");super(Object.assign(Object.assign({requestContentType:"application/json; charset=utf-8",retryOptions:{maxRetries:3}},e),{userAgentOptions:{userAgentPrefix:i},baseUri:o})),this.authorityHost=o,this.abortControllers=new Map,this.allowLoggingAccountIdentifiers=null===(r=null==e?void 0:e.loggingOptions)||void 0===r?void 0:r.allowLoggingAccountIdentifiers,this.tokenCredentialOptions=Object.assign({},e)}async sendTokenRequest(e){n4.info(`IdentityClient: sending token request to [${e.url}]`);let t=await this.sendRequest(e);if(t.bodyAsText&&(200===t.status||201===t.status)){let r=JSON.parse(t.bodyAsText);if(!r.access_token)return null;this.logIdentifiers(t);let n={accessToken:{token:r.access_token,expiresOnTimestamp:function(e){if("number"==typeof e.expires_on)return 1e3*e.expires_on;if("string"==typeof e.expires_on){let t=+e.expires_on;if(!isNaN(t))return 1e3*t;let r=Date.parse(e.expires_on);if(!isNaN(r))return r}if("number"==typeof e.expires_in)return Date.now()+1e3*e.expires_in;throw Error(`Failed to parse token expiration from body. expires_in="${e.expires_in}", expires_on="${e.expires_on}"`)}(r)},refreshToken:r.refresh_token};return n4.info(`IdentityClient: [${e.url}] token acquired, expires on ${n.accessToken.expiresOnTimestamp}`),n}{let e=new nJ(t.status,t.bodyAsText);throw n4.warning(`IdentityClient: authentication error. HTTP status: ${t.status}, ${e.errorResponse.errorDescription}`),e}}async refreshAccessToken(e,t,r,n,i,o={}){if(void 0===n)return null;n4.info(`IdentityClient: refreshing access token with client ID: ${t}, scopes: ${r} started`);let s={grant_type:"refresh_token",client_id:t,refresh_token:n,scope:r};void 0!==i&&(s.client_secret=i);let a=new URLSearchParams(s);return o5.withSpan("IdentityClient.refreshAccessToken",o,async r=>{try{var n;let i=oM({url:`${this.authorityHost}/${e}/${"adfs"===e?"oauth2/token":"oauth2/v2.0/token"}`,method:"POST",body:a.toString(),abortSignal:o.abortSignal,headers:(n={Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},ij(n)),tracingOptions:r.tracingOptions}),s=await this.sendTokenRequest(i);return n4.info(`IdentityClient: refreshed token for client ID: ${t}`),s}catch(e){if(e.name===nX&&"interaction_required"===e.errorResponse.error)return n4.info(`IdentityClient: interaction required for client ID: ${t}`),null;throw n4.warning(`IdentityClient: failed refreshing token for client ID: ${t}: ${e}`),e}})}generateAbortSignal(e){let t=new iu,r=this.abortControllers.get(e)||[];r.push(t),this.abortControllers.set(e,r);let n=t.signal.onabort;return t.signal.onabort=(...t)=>{this.abortControllers.set(e,void 0),n&&n(...t)},t.signal}abortRequests(e){let t=e||o3,r=[...this.abortControllers.get(t)||[],...this.abortControllers.get(o3)||[]];if(r.length){for(let e of r)e.abort();this.abortControllers.set(t,void 0)}}getCorrelationId(e){var t;let r=null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.split("&").map(e=>e.split("=")).find(([e])=>"client-request-id"===e);return r&&r.length&&r[1]||o3}async sendGetRequestAsync(e,t){let r=oM({url:e,method:"GET",body:null==t?void 0:t.body,headers:ij(null==t?void 0:t.headers),abortSignal:this.generateAbortSignal(o3)}),n=await this.sendRequest(r);return this.logIdentifiers(n),{body:n.bodyAsText?JSON.parse(n.bodyAsText):void 0,headers:n.headers.toJSON(),status:n.status}}async sendPostRequestAsync(e,t){let r=oM({url:e,method:"POST",body:null==t?void 0:t.body,headers:ij(null==t?void 0:t.headers),abortSignal:this.generateAbortSignal(this.getCorrelationId(t))}),n=await this.sendRequest(r);return this.logIdentifiers(n),{body:n.bodyAsText?JSON.parse(n.bodyAsText):void 0,headers:n.headers.toJSON(),status:n.status}}getTokenCredentialOptions(){return this.tokenCredentialOptions}logIdentifiers(e){if(this.allowLoggingAccountIdentifiers&&e.bodyAsText)try{let t=(e.parsedBody||JSON.parse(e.bodyAsText)).access_token;if(!t)return;let r=t.split(".")[1],{appid:n,upn:i,tid:o,oid:s}=JSON.parse(Buffer.from(r,"base64").toString("utf8"));n4.info(`[Authenticated account] Client ID: ${n}. Tenant ID: ${o}. User Principal Name: ${i||"No User Principal Name available"}. Object ID (user): ${s}`)}catch(e){n4.warning("allowLoggingAccountIdentifiers was set, but we couldn't log the account information. Error:",e.message)}}}!function(e){e.AutoDiscoverRegion="AutoDiscoverRegion",e.USWest="westus",e.USWest2="westus2",e.USCentral="centralus",e.USEast="eastus",e.USEast2="eastus2",e.USNorthCentral="northcentralus",e.USSouthCentral="southcentralus",e.USWestCentral="westcentralus",e.CanadaCentral="canadacentral",e.CanadaEast="canadaeast",e.BrazilSouth="brazilsouth",e.EuropeNorth="northeurope",e.EuropeWest="westeurope",e.UKSouth="uksouth",e.UKWest="ukwest",e.FranceCentral="francecentral",e.FranceSouth="francesouth",e.SwitzerlandNorth="switzerlandnorth",e.SwitzerlandWest="switzerlandwest",e.GermanyNorth="germanynorth",e.GermanyWestCentral="germanywestcentral",e.NorwayWest="norwaywest",e.NorwayEast="norwayeast",e.AsiaEast="eastasia",e.AsiaSouthEast="southeastasia",e.JapanEast="japaneast",e.JapanWest="japanwest",e.AustraliaEast="australiaeast",e.AustraliaSouthEast="australiasoutheast",e.AustraliaCentral="australiacentral",e.AustraliaCentral2="australiacentral2",e.IndiaCentral="centralindia",e.IndiaSouth="southindia",e.IndiaWest="westindia",e.KoreaSouth="koreasouth",e.KoreaCentral="koreacentral",e.UAECentral="uaecentral",e.UAENorth="uaenorth",e.SouthAfricaNorth="southafricanorth",e.SouthAfricaWest="southafricawest",e.ChinaNorth="chinanorth",e.ChinaEast="chinaeast",e.ChinaNorth2="chinanorth2",e.ChinaEast2="chinaeast2",e.GermanyCentral="germanycentral",e.GermanyNorthEast="germanynortheast",e.GovernmentUSVirginia="usgovvirginia",e.GovernmentUSIowa="usgoviowa",e.GovernmentUSArizona="usgovarizona",e.GovernmentUSTexas="usgovtexas",e.GovernmentUSDodEast="usdodeast",e.GovernmentUSDodCentral="usdodcentral"}(rL||(rL={}));class o7 extends iO{constructor(e){var t,r,n,i;if(super(e),this.app={},this.caeApp={},this.requiresConfidential=!1,this.msalConfig=this.defaultNodeMsalConfig(e),this.tenantId=iP(e.logger,e.tenantId,e.clientId),this.additionallyAllowedTenantIds=iM(null===(t=null==e?void 0:e.tokenCredentialOptions)||void 0===t?void 0:t.additionallyAllowedTenants),this.clientId=this.msalConfig.auth.clientId,(null==e?void 0:e.getAssertion)&&(this.getAssertion=e.getAssertion),void 0!==o&&(null===(r=e.tokenCachePersistenceOptions)||void 0===r?void 0:r.enabled)){let t=Object.assign({name:`${e.tokenCachePersistenceOptions.name}..nocae`},e.tokenCachePersistenceOptions),r=Object.assign({name:`${e.tokenCachePersistenceOptions.name}..cae`},e.tokenCachePersistenceOptions);this.createCachePlugin=()=>o(t),this.createCachePluginCae=()=>o(r)}else if(null===(n=e.tokenCachePersistenceOptions)||void 0===n?void 0:n.enabled)throw Error("Persistent token caching was requested, but no persistence provider was configured. You must install the identity-cache-persistence plugin package (`npm install --save @azure/identity-cache-persistence`) and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling `useIdentityPlugin(cachePersistencePlugin)` before using `tokenCachePersistenceOptions`.");this.azureRegion=null!==(i=e.regionalAuthority)&&void 0!==i?i:process.env.AZURE_REGIONAL_AUTHORITY_NAME,this.azureRegion===rL.AutoDiscoverRegion&&(this.azureRegion="AUTO_DISCOVER")}defaultNodeMsalConfig(e){var t,r;let n=e.clientId||it,i=iP(e.logger,e.tenantId,e.clientId);this.authorityHost=e.authorityHost||process.env.AZURE_AUTHORITY_HOST;let o=iA(i,this.authorityHost);return this.identityClient=new o9(Object.assign(Object.assign({},e.tokenCredentialOptions),{authorityHost:o,loggingOptions:e.loggingOptions})),{auth:{clientId:n,authority:o,knownAuthorities:(r=e.disableInstanceDiscovery,"adfs"===i&&o||r?[o]:[]),clientCapabilities:[]},system:{networkClient:this.identityClient,loggerOptions:{loggerCallback:iI(e.logger),logLevel:iC(nG()),piiLoggingEnabled:null===(t=e.loggingOptions)||void 0===t?void 0:t.enableUnsafeSupportLogging}}}}getApp(e,t){let r=t?this.caeApp:this.app;return"publicFirst"===e?r.public||r.confidential:"confidentialFirst"===e?r.confidential||r.public:"confidential"===e?r.confidential:r.public}async init(e){(null==e?void 0:e.abortSignal)&&e.abortSignal.addEventListener("abort",()=>{this.identityClient.abortRequests(e.correlationId)});let t=(null==e?void 0:e.enableCae)?this.caeApp:this.app;if((null==e?void 0:e.enableCae)&&(this.msalConfig.auth.clientCapabilities=["cp1"]),!t.public&&!t.confidential){if((null==e?void 0:e.enableCae)&&void 0!==this.createCachePluginCae&&(this.msalConfig.cache={cachePlugin:await this.createCachePluginCae()}),void 0!==this.createCachePlugin&&(this.msalConfig.cache={cachePlugin:await this.createCachePlugin()}),(null==e?void 0:e.enableCae)?this.caeApp.public=new ng(this.msalConfig):this.app.public=new ng(this.msalConfig),this.getAssertion&&(this.msalConfig.auth.clientAssertion=await this.getAssertion()),this.msalConfig.auth.clientSecret||this.msalConfig.auth.clientAssertion||this.msalConfig.auth.clientCertificate)(null==e?void 0:e.enableCae)?this.caeApp.confidential=new nE(this.msalConfig):this.app.confidential=new nE(this.msalConfig);else if(this.requiresConfidential)throw Error("Unable to generate the MSAL confidential client. Missing either the client's secret, certificate or assertion.")}}withCancellation(e,t,r){return new Promise((n,i)=>{e.then(e=>n(e)).catch(i),t&&t.addEventListener("abort",()=>{null==r||r()})})}async getActiveAccount(e=!1){if(this.account)return this.account;let t=this.getApp("confidentialFirst",e).getTokenCache(),r=await (null==t?void 0:t.getAllAccounts());if(r){if(1===r.length)this.account=iN(this.clientId,r[0]);else{this.logger.info(`More than one account was found authenticated for this Client ID and Tenant ID.
However, no "authenticationRecord" has been provided for this credential,
therefore we're unable to pick between these accounts.
A new login attempt will be requested, to ensure the correct account is picked.
To work with multiple accounts for the same Client ID and Tenant ID, please provide an "authenticationRecord" when initializing a credential to prevent this from happening.`);return}return this.account}}async getTokenSilent(e,t){var r,n,i;if(await this.getActiveAccount(null==t?void 0:t.enableCae),!this.account)throw new n5({scopes:e,getTokenOptions:t,message:"Silent authentication failed. We couldn't retrieve an active account from the cache."});let o={account:function(e){let[t]=e.authority.match(/([a-z]*\.[a-z]*\.[a-z]*)/)||[""];return Object.assign(Object.assign({},e),{localAccountId:e.homeAccountId,environment:t})}(this.account),correlationId:null==t?void 0:t.correlationId,scopes:e,authority:null==t?void 0:t.authority,claims:null==t?void 0:t.claims};try{this.logger.info("Attempting to acquire token silently"),await (null===(r=this.getApp("publicFirst",null==t?void 0:t.enableCae))||void 0===r?void 0:r.getTokenCache().getAllAccounts());let s=null!==(i=await (null===(n=this.getApp("confidential",null==t?void 0:t.enableCae))||void 0===n?void 0:n.acquireTokenSilent(o)))&&void 0!==i?i:await this.getApp("public",null==t?void 0:t.enableCae).acquireTokenSilent(o);return this.handleResult(e,this.clientId,s||void 0)}catch(r){throw this.handleError(e,r,t)}}async getToken(e,t={}){let r=iL(this.tenantId,t,this.additionallyAllowedTenantIds)||this.tenantId;t.authority=iA(r,this.authorityHost),t.correlationId=(null==t?void 0:t.correlationId)||this.generateUuid(),await this.init(t);try{let r=t.claims;return r&&(this.cachedClaims=r),this.cachedClaims&&!r&&(t.claims=this.cachedClaims),await this.getTokenSilent(e,t)}catch(r){if("AuthenticationRequiredError"!==r.name)throw r;if(null==t?void 0:t.disableAutomaticAuthentication)throw new n5({scopes:e,getTokenOptions:t,message:"Automatic authentication has been disabled. You may call the authentication() method."});return this.logger.info("Silent authentication failed, falling back to interactive method."),this.doGetToken(e,t)}}}var se=r(22037),st=r.n(se);let sr=n7("VisualStudioCodeCredential"),sn={adfs:"The VisualStudioCodeCredential does not support authentication with ADFS tenants."};function si(e){let t=sn[e];if(t)throw new nQ(t)}let so={AzureCloud:rM.AzurePublicCloud,AzureChina:rM.AzureChina,AzureGermanCloud:rM.AzureGermany,AzureUSGovernment:rM.AzureGovernment};function ss(e){let t=["User","settings.json"],r=st().homedir();function n(...r){let i=nA().join(...r,"Code",...t);return JSON.parse(nv().readFileSync(i,{encoding:"utf8"}))[e]}try{let e;switch(process.platform){case"win32":return(e=process.env.APPDATA)?n(e):void 0;case"darwin":return n(r,"Library","Application Support");case"linux":return n(r,".config");default:return}}catch(e){sr.info(`Failed to load the Visual Studio Code configuration file. Error: ${e.message}`);return}}class sa{constructor(e){this.cloudName=ss("azure.cloud")||"AzureCloud";let t=so[this.cloudName];this.identityClient=new o9(Object.assign({authorityHost:t},e)),e&&e.tenantId?(ik(sr,e.tenantId),this.tenantId=e.tenantId):this.tenantId="common",this.additionallyAllowedTenantIds=iM(null==e?void 0:e.additionallyAllowedTenants),si(this.tenantId)}async prepare(){let e=ss("azure.tenant");e&&(this.tenantId=e),si(this.tenantId)}prepareOnce(){return this.preparePromise||(this.preparePromise=this.prepare()),this.preparePromise}async getToken(e,t){var r,n;await this.prepareOnce();let i=iL(this.tenantId,t,this.additionallyAllowedTenantIds,sr)||this.tenantId;if(void 0===s)throw new nQ("No implementation of `VisualStudioCodeCredential` is available. You must install the identity-vscode plugin package (`npm install --save-dev @azure/identity-vscode`) and enable it by importing `useIdentityPlugin` from `@azure/identity` and calling `useIdentityPlugin(vsCodePlugin)` before creating a `VisualStudioCodeCredential`. To troubleshoot, visit https://aka.ms/azsdk/js/identity/vscodecredential/troubleshoot.");let o="string"==typeof e?e:e.join(" ");if(!o.match(/^[0-9a-zA-Z-.:/]+$/)){let t=Error("Invalid scope was specified by the user or calling client");throw sr.getToken.info(n3(e,t)),t}0>o.indexOf("offline_access")&&(o+=" offline_access");let a=await s(),{password:l}=null!==(n=null!==(r=a.find(({account:e})=>e===this.cloudName))&&void 0!==r?r:a[0])&&void 0!==n?n:{};if(l){let t=await this.identityClient.refreshAccessToken(i,"aebc6443-996d-45c2-90f0-388ff96faa56",o,l,void 0);if(t)return sr.getToken.info(n6(e)),t.accessToken;{let t=new nQ("Could not retrieve the token associated with Visual Studio Code. Have you connected using the 'Azure Account' extension recently? To troubleshoot, visit https://aka.ms/azsdk/js/identity/vscodecredential/troubleshoot.");throw sr.getToken.info(n3(e,t)),t}}{let t=new nQ("Could not retrieve the token associated with Visual Studio Code. Did you connect using the 'Azure Account' extension? To troubleshoot, visit https://aka.ms/azsdk/js/identity/vscodecredential/troubleshoot.");throw sr.getToken.info(n3(e,t)),t}}}let sl={cachePluginControl:{setPersistence(e){o=e}},vsCodeCredentialControl:{setVsCodeCredentialFinder(e){s=e}}};function sc(e){e(sl)}let su="ManagedIdentityCredential - AppServiceMSI 2017",sh=n7(su),sd={name:"appServiceMsi2017",async isAvailable({scopes:e}){if(!o6(e))return sh.info(`${su}: Unavailable. Multiple scopes are not supported.`),!1;let t=process.env,r=!!(t.MSI_ENDPOINT&&t.MSI_SECRET);return r||sh.info(`${su}: Unavailable. The environment variables needed are: MSI_ENDPOINT and MSI_SECRET.`),r},async getToken(e,t={}){let{identityClient:r,scopes:n,clientId:i,resourceId:o}=e;o&&sh.warning(`${su}: managed Identity by resource Id is not supported. Argument resourceId might be ignored by the service.`),sh.info(`${su}: Using the endpoint and the secret coming form the environment variables: MSI_ENDPOINT=${process.env.MSI_ENDPOINT} and MSI_SECRET=[REDACTED].`);let s=oM(Object.assign(Object.assign({abortSignal:t.abortSignal},function(e,t){let r=o6(e);if(!r)throw Error(`${su}: Multiple scopes are not supported.`);let n={resource:r,"api-version":"2017-09-01"};t&&(n.clientid=t);let i=new URLSearchParams(n);if(!process.env.MSI_ENDPOINT)throw Error(`${su}: Missing environment variable: MSI_ENDPOINT`);if(!process.env.MSI_SECRET)throw Error(`${su}: Missing environment variable: MSI_SECRET`);return{url:`${process.env.MSI_ENDPOINT}?${i.toString()}`,method:"GET",headers:ij({Accept:"application/json",secret:process.env.MSI_SECRET})}}(n,i)),{allowInsecureConnection:!0})),a=await r.sendTokenRequest(s);return a&&a.accessToken||null}},sf="ManagedIdentityCredential - CloudShellMSI",sp=n7(sf),sm={name:"cloudShellMsi",async isAvailable({scopes:e}){if(!o6(e))return sp.info(`${sf}: Unavailable. Multiple scopes are not supported.`),!1;let t=!!process.env.MSI_ENDPOINT;return t||sp.info(`${sf}: Unavailable. The environment variable MSI_ENDPOINT is needed.`),t},async getToken(e,t={}){let{identityClient:r,scopes:n,clientId:i,resourceId:o}=e;i&&sp.warning(`${sf}: user-assigned identities not supported. The argument clientId might be ignored by the service.`),o&&sp.warning(`${sf}: user defined managed Identity by resource Id not supported. The argument resourceId might be ignored by the service.`),sp.info(`${sf}: Using the endpoint coming form the environment variable MSI_ENDPOINT = ${process.env.MSI_ENDPOINT}.`);let s=oM(Object.assign(Object.assign({abortSignal:t.abortSignal},function(e,t,r){let n=o6(e);if(!n)throw Error(`${sf}: Multiple scopes are not supported.`);let i={resource:n};if(t&&(i.client_id=t),r&&(i.msi_res_id=r),!process.env.MSI_ENDPOINT)throw Error(`${sf}: Missing environment variable: MSI_ENDPOINT`);let o=new URLSearchParams(i);return{url:process.env.MSI_ENDPOINT,method:"POST",body:o.toString(),headers:ij({Accept:"application/json",Metadata:"true","Content-Type":"application/x-www-form-urlencoded"})}}(n,i,o)),{allowInsecureConnection:!0})),a=await r.sendTokenRequest(s);return a&&a.accessToken||null}},sg="ManagedIdentityCredential - IMDS",sy=n7(sg);function s_(e,t,r,n){var i;let o=o6(e);if(!o)throw Error(`${sg}: Multiple scopes are not supported.`);let{skipQuery:s,skipMetadataHeader:a}=n||{},l="";if(!s){let e={resource:o,"api-version":"2018-02-01"};t&&(e.client_id=t),r&&(e.msi_res_id=r);let n=new URLSearchParams(e);l=`?${n.toString()}`}let c=new URL("/metadata/identity/oauth2/token",null!==(i=process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST)&&void 0!==i?i:o8),u={Accept:"application/json",Metadata:"true"};return a&&delete u.Metadata,{url:`${c}${l}`,method:"GET",headers:ij(u)}}let sE={maxRetries:3,startDelayInMs:800,intervalIncrement:2},sT={name:"imdsMsi",async isAvailable({scopes:e,identityClient:t,clientId:r,resourceId:n,getTokenOptions:i={}}){let o=o6(e);if(!o)return sy.info(`${sg}: Unavailable. Multiple scopes are not supported.`),!1;if(process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST)return!0;if(!t)throw Error("Missing IdentityClient");let s=s_(o,r,n,{skipMetadataHeader:!0,skipQuery:!0});return o5.withSpan("ManagedIdentityCredential-pingImdsEndpoint",i,async e=>{var r,n;let i;s.tracingOptions=e.tracingOptions;let o=oM(s);o.timeout=(null===(r=e.requestOptions)||void 0===r?void 0:r.timeout)||1e3,o.allowInsecureConnection=!0;try{sy.info(`${sg}: Pinging the Azure IMDS endpoint`),i=await t.sendRequest(o)}catch(e){return id(e)&&sy.verbose(`${sg}: Caught error ${e.name}: ${e.message}`),sy.info(`${sg}: The Azure IMDS endpoint is unavailable`),!1}return 403===i.status&&(null===(n=i.bodyAsText)||void 0===n?void 0:n.includes("A socket operation was attempted to an unreachable network"))?(sy.info(`${sg}: The Azure IMDS endpoint is unavailable`),sy.info(`${sg}: ${i.bodyAsText}`),!1):(sy.info(`${sg}: The Azure IMDS endpoint is available`),!0)})},async getToken(e,t={}){let{identityClient:r,scopes:n,clientId:i,resourceId:o}=e;process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST?sy.info(`${sg}: Using the Azure IMDS endpoint coming from the environment variable AZURE_POD_IDENTITY_AUTHORITY_HOST=${process.env.AZURE_POD_IDENTITY_AUTHORITY_HOST}.`):sy.info(`${sg}: Using the default Azure IMDS endpoint ${o8}.`);let s=sE.startDelayInMs;for(let e=0;e<sE.maxRetries;e++)try{let e=oM(Object.assign(Object.assign({abortSignal:t.abortSignal},s_(n,i,o)),{allowInsecureConnection:!0})),s=await r.sendTokenRequest(e);return s&&s.accessToken||null}catch(e){if(404===e.statusCode){await iw(s),s*=sE.intervalIncrement;continue}throw e}throw new nJ(404,`${sg}: Failed to retrieve IMDS token after ${sE.maxRetries} retries.`)}},sb="ManagedIdentityCredential - Azure Arc MSI",sw=n7(sb);async function sv(e,t){let r=await e.sendRequest(oM(t));if(401!==r.status){let e="";throw r.bodyAsText&&(e=` Response: ${r.bodyAsText}`),new nJ(r.status,`${sb}: To authenticate with Azure Arc MSI, status code 401 is expected on the first request. ${e}`)}let n=r.headers.get("www-authenticate")||"";try{return n.split("=").slice(1)[0]}catch(e){throw Error(`Invalid www-authenticate header format: ${n}`)}}let sS={name:"arc",async isAvailable({scopes:e}){if(!o6(e))return sw.info(`${sb}: Unavailable. Multiple scopes are not supported.`),!1;let t=!!(process.env.IMDS_ENDPOINT&&process.env.IDENTITY_ENDPOINT);return t||sw.info(`${sb}: The environment variables needed are: IMDS_ENDPOINT and IDENTITY_ENDPOINT`),t},async getToken(e,t={}){var r,n;let{identityClient:i,scopes:o,clientId:s,resourceId:a}=e;s&&sw.warning(`${sb}: user-assigned identities not supported. The argument clientId might be ignored by the service.`),a&&sw.warning(`${sb}: user defined managed Identity by resource Id is not supported. Argument resourceId will be ignored.`),sw.info(`${sb}: Authenticating.`);let l=Object.assign(Object.assign({disableJsonStringifyOnBody:!0,deserializationMapper:void 0,abortSignal:t.abortSignal},function(e,t,r){let n=o6(e);if(!n)throw Error(`${sb}: Multiple scopes are not supported.`);let i={resource:n,"api-version":"2019-11-01"};if(t&&(i.client_id=t),r&&(i.msi_res_id=r),!process.env.IDENTITY_ENDPOINT)throw Error(`${sb}: Missing environment variable: IDENTITY_ENDPOINT`);let o=new URLSearchParams(i);return oM({url:`${process.env.IDENTITY_ENDPOINT}?${o.toString()}`,method:"GET",headers:ij({Accept:"application/json",Metadata:"true"})})}(o,s,a)),{allowInsecureConnection:!0}),c=await sv(i,l);if(!c)throw Error(`${sb}: Failed to find the token file.`);let u=await (n={encoding:"utf-8"},new Promise((e,t)=>(0,nw.readFile)(c,n,(r,n)=>{r&&t(r),e(n)})));null===(r=l.headers)||void 0===r||r.set("Authorization",`Basic ${u}`);let h=oM(Object.assign(Object.assign({},l),{allowInsecureConnection:!0})),d=await i.sendTokenRequest(h);return d&&d.accessToken||null}};class sA extends o7{constructor(e){super(e),this.requiresConfidential=!0,this.getAssertion=e.getAssertion}async doGetToken(e,t={}){try{let r=await this.getAssertion(),n=await this.getApp("confidential",t.enableCae).acquireTokenByClientCredential({scopes:e,correlationId:t.correlationId,azureRegion:this.azureRegion,authority:t.authority,claims:t.claims,clientAssertion:r});return this.handleResult(e,this.clientId,n||void 0)}catch(n){let r=n;throw r=null==n?Error(JSON.stringify(n)):id(n)?n:Error(String(n)),this.handleError(e,r,t)}}}let sI=n7("ClientAssertionCredential");class sC{constructor(e,t,r,n={}){if(!e||!t||!r)throw Error("ClientAssertionCredential: tenantId, clientId, and clientAssertion are required parameters.");this.tenantId=e,this.additionallyAllowedTenantIds=iM(null==n?void 0:n.additionallyAllowedTenants),this.clientId=t,this.options=n,this.msalFlow=new sA(Object.assign(Object.assign({},n),{logger:sI,clientId:this.clientId,tenantId:this.tenantId,tokenCredentialOptions:this.options,getAssertion:r}))}async getToken(e,t={}){return o5.withSpan(`${this.constructor.name}.getToken`,t,async t=>{t.tenantId=iL(this.tenantId,t,this.additionallyAllowedTenantIds,sI);let r=Array.isArray(e)?e:[e];return this.msalFlow.getToken(r,t)})}}let sO=require("fs/promises"),sN="WorkloadIdentityCredential",sR=["AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_FEDERATED_TOKEN_FILE"],sD=n7(sN);class sk{constructor(e){this.azureFederatedTokenFileContent=void 0,this.cacheDate=void 0;let t=n8(sR).assigned.join(", ");sD.info(`Found the following environment variables: ${t}`);let r=null!=e?e:{},n=r.tenantId||process.env.AZURE_TENANT_ID,i=r.clientId||process.env.AZURE_CLIENT_ID;this.federatedTokenFilePath=r.tokenFilePath||process.env.AZURE_FEDERATED_TOKEN_FILE,n&&ik(sD,n),i&&n&&this.federatedTokenFilePath&&(sD.info(`Invoking ClientAssertionCredential with tenant ID: ${n}, clientId: ${r.clientId} and federated token path: [REDACTED]`),this.client=new sC(n,i,this.readFileContents.bind(this),e))}async getToken(e,t){if(!this.client){let e=`${sN}: is unavailable. tenantId, clientId, and federatedTokenFilePath are required parameters. 
      In DefaultAzureCredential and ManagedIdentityCredential, these can be provided as environment variables - 
      "AZURE_TENANT_ID",
      "AZURE_CLIENT_ID",
      "AZURE_FEDERATED_TOKEN_FILE". See the troubleshooting guide for more information: https://aka.ms/azsdk/js/identity/workloadidentitycredential/troubleshoot  `;throw sD.info(e),new nQ(e)}return sD.info("Invoking getToken() of Client Assertion Credential"),this.client.getToken(e,t)}async readFileContents(){if(void 0!==this.cacheDate&&Date.now()-this.cacheDate>=3e5&&(this.azureFederatedTokenFileContent=void 0),!this.federatedTokenFilePath)throw new nQ(`${sN}: is unavailable. Invalid file path provided ${this.federatedTokenFilePath}.`);if(!this.azureFederatedTokenFileContent){let e=(await (0,sO.readFile)(this.federatedTokenFilePath,"utf8")).trim();if(e)this.azureFederatedTokenFileContent=e,this.cacheDate=Date.now();else throw new nQ(`${sN}: is unavailable. No content on the file ${this.federatedTokenFilePath}.`)}return this.azureFederatedTokenFileContent}}let sP="ManagedIdentityCredential - Token Exchange",sM=n7(sP),sL="ManagedIdentityCredential - Fabric MSI",sx=n7(sL),sU={name:"fabricMsi",async isAvailable({scopes:e}){if(!o6(e))return sx.info(`${sL}: Unavailable. Multiple scopes are not supported.`),!1;let t=process.env,r=!!(t.IDENTITY_ENDPOINT&&t.IDENTITY_HEADER&&t.IDENTITY_SERVER_THUMBPRINT);return r||sx.info(`${sL}: Unavailable. The environment variables needed are: IDENTITY_ENDPOINT, IDENTITY_HEADER and IDENTITY_SERVER_THUMBPRINT`),r},async getToken(e,t={}){let{scopes:r,identityClient:n,clientId:i,resourceId:o}=e;o&&sx.warning(`${sL}: user defined managed Identity by resource Id is not supported. Argument resourceId might be ignored by the service.`),sx.info(`${sL}: Using the endpoint and the secret coming from the environment variables: IDENTITY_ENDPOINT=${process.env.IDENTITY_ENDPOINT}, IDENTITY_HEADER=[REDACTED] and IDENTITY_SERVER_THUMBPRINT=[REDACTED].`);let s=oM(Object.assign({abortSignal:t.abortSignal},function(e,t,r){let n=o6(e);if(!n)throw Error(`${sL}: Multiple scopes are not supported.`);let i={resource:n,"api-version":"2019-07-01-preview"};t&&(i.client_id=t),r&&(i.msi_res_id=r);let o=new URLSearchParams(i);if(!process.env.IDENTITY_ENDPOINT)throw Error("Missing environment variable: IDENTITY_ENDPOINT");if(!process.env.IDENTITY_HEADER)throw Error("Missing environment variable: IDENTITY_HEADER");return{url:`${process.env.IDENTITY_ENDPOINT}?${o.toString()}`,method:"GET",headers:ij({Accept:"application/json",secret:process.env.IDENTITY_HEADER})}}(r,i,o)));s.agent=new(rB()).Agent({rejectUnauthorized:!1});let a=await n.sendTokenRequest(s);return a&&a.accessToken||null}},sF="ManagedIdentityCredential - AppServiceMSI 2019",sB=n7(sF),sq={name:"appServiceMsi2019",async isAvailable({scopes:e}){if(!o6(e))return sB.info(`${sF}: Unavailable. Multiple scopes are not supported.`),!1;let t=process.env,r=!!(t.IDENTITY_ENDPOINT&&t.IDENTITY_HEADER);return r||sB.info(`${sF}: Unavailable. The environment variables needed are: IDENTITY_ENDPOINT and IDENTITY_HEADER.`),r},async getToken(e,t={}){let{identityClient:r,scopes:n,clientId:i,resourceId:o}=e;sB.info(`${sF}: Using the endpoint and the secret coming form the environment variables: IDENTITY_ENDPOINT=${process.env.IDENTITY_ENDPOINT} and IDENTITY_HEADER=[REDACTED].`);let s=oM(Object.assign(Object.assign({abortSignal:t.abortSignal},function(e,t,r){let n=o6(e);if(!n)throw Error(`${sF}: Multiple scopes are not supported.`);let i={resource:n,"api-version":"2019-08-01"};t&&(i.client_id=t),r&&(i.mi_res_id=r);let o=new URLSearchParams(i);if(!process.env.IDENTITY_ENDPOINT)throw Error(`${sF}: Missing environment variable: IDENTITY_ENDPOINT`);if(!process.env.IDENTITY_HEADER)throw Error(`${sF}: Missing environment variable: IDENTITY_HEADER`);return{url:`${process.env.IDENTITY_ENDPOINT}?${o.toString()}`,method:"GET",headers:ij({Accept:"application/json","X-IDENTITY-HEADER":process.env.IDENTITY_HEADER})}}(n,i,o)),{allowInsecureConnection:!0})),a=await r.sendTokenRequest(s);return a&&a.accessToken||null}},sj=n7("ManagedIdentityCredential");class sY{constructor(e,t){var r;let n;if(this.isEndpointUnavailable=null,this.isAppTokenProviderInitialized=!1,"string"==typeof e?(this.clientId=e,n=t):(this.clientId=null==e?void 0:e.clientId,n=e),this.resourceId=null==n?void 0:n.resourceId,this.clientId&&this.resourceId)throw Error(`${sY.name} - Client Id and Resource Id can't be provided at the same time.`);this.identityClient=new o9(n),this.isAvailableIdentityClient=new o9(Object.assign(Object.assign({},n),{retryOptions:{maxRetries:0}})),this.confidentialApp=new nE({auth:{authority:"https://login.microsoftonline.com/managed_identity",clientId:null!==(r=this.clientId)&&void 0!==r?r:it,clientSecret:"dummy-secret",cloudDiscoveryMetadata:'{"tenant_discovery_endpoint":"https://login.microsoftonline.com/common/v2.0/.well-known/openid-configuration","api-version":"1.1","metadata":[{"preferred_network":"login.microsoftonline.com","preferred_cache":"login.windows.net","aliases":["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{"preferred_network":"login.partner.microsoftonline.cn","preferred_cache":"login.partner.microsoftonline.cn","aliases":["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{"preferred_network":"login.microsoftonline.de","preferred_cache":"login.microsoftonline.de","aliases":["login.microsoftonline.de"]},{"preferred_network":"login.microsoftonline.us","preferred_cache":"login.microsoftonline.us","aliases":["login.microsoftonline.us","login.usgovcloudapi.net"]},{"preferred_network":"login-us.microsoftonline.com","preferred_cache":"login-us.microsoftonline.com","aliases":["login-us.microsoftonline.com"]}]}',authorityMetadata:'{"token_endpoint":"https://login.microsoftonline.com/common/oauth2/v2.0/token","token_endpoint_auth_methods_supported":["client_secret_post","private_key_jwt","client_secret_basic"],"jwks_uri":"https://login.microsoftonline.com/common/discovery/v2.0/keys","response_modes_supported":["query","fragment","form_post"],"subject_types_supported":["pairwise"],"id_token_signing_alg_values_supported":["RS256"],"response_types_supported":["code","id_token","code id_token","id_token token"],"scopes_supported":["openid","profile","email","offline_access"],"issuer":"https://login.microsoftonline.com/{tenantid}/v2.0","request_uri_parameter_supported":false,"userinfo_endpoint":"https://graph.microsoft.com/oidc/userinfo","authorization_endpoint":"https://login.microsoftonline.com/common/oauth2/v2.0/authorize","device_authorization_endpoint":"https://login.microsoftonline.com/common/oauth2/v2.0/devicecode","http_logout_supported":true,"frontchannel_logout_supported":true,"end_session_endpoint":"https://login.microsoftonline.com/common/oauth2/v2.0/logout","claims_supported":["sub","iss","cloud_instance_name","cloud_instance_host_name","cloud_graph_host_name","msgraph_host","aud","exp","iat","auth_time","acr","nonce","preferred_username","name","tid","ver","at_hash","c_hash","email"],"kerberos_endpoint":"https://login.microsoftonline.com/common/kerberos","tenant_region_scope":null,"cloud_instance_name":"microsoftonline.com","cloud_graph_host_name":"graph.windows.net","msgraph_host":"graph.microsoft.com","rbac_url":"https://pas.windows.net"}',clientCapabilities:[]},system:{loggerOptions:{logLevel:iC(nG())}}})}async cachedAvailableMSI(e,t){if(this.cachedMSI)return this.cachedMSI;for(let r of[sS,sU,sq,sd,sm,{name:"tokenExchangeMsi",async isAvailable({clientId:e}){let t=process.env,r=!!((e||t.AZURE_CLIENT_ID)&&t.AZURE_TENANT_ID&&process.env.AZURE_FEDERATED_TOKEN_FILE);return r||sM.info(`${sP}: Unavailable. The environment variables needed are: AZURE_CLIENT_ID (or the client ID sent through the parameters), AZURE_TENANT_ID and AZURE_FEDERATED_TOKEN_FILE`),r},async getToken(e,t={}){let{scopes:r,clientId:n}=e,i=new sk(Object.assign(Object.assign({clientId:n,tenantId:process.env.AZURE_TENANT_ID,tokenFilePath:process.env.AZURE_FEDERATED_TOKEN_FILE},{}),{disableInstanceDiscovery:!0}));return await i.getToken(r,t)}},sT])if(await r.isAvailable({scopes:e,identityClient:this.isAvailableIdentityClient,clientId:this.clientId,resourceId:this.resourceId,getTokenOptions:t}))return this.cachedMSI=r,r;throw new nQ(`${sY.name} - No MSI credential available`)}async authenticateManagedIdentity(e,t){let{span:r,updatedOptions:n}=o5.startSpan(`${sY.name}.authenticateManagedIdentity`,t);try{return(await this.cachedAvailableMSI(e,n)).getToken({identityClient:this.identityClient,scopes:e,clientId:this.clientId,resourceId:this.resourceId},n)}catch(e){throw r.setStatus({status:"error",error:e}),e}finally{r.end()}}async getToken(e,t){let r=null,{span:n,updatedOptions:i}=o5.startSpan(`${sY.name}.getToken`,t);try{if(!0!==this.isEndpointUnavailable){let n=await this.cachedAvailableMSI(e,i);if("tokenExchangeMsi"===n.name)r=await this.authenticateManagedIdentity(e,i);else{let n={correlationId:this.identityClient.getCorrelationId(),tenantId:(null==t?void 0:t.tenantId)||"managed_identity",scopes:Array.isArray(e)?e:[e],claims:null==t?void 0:t.claims};this.initializeSetAppTokenProvider();let i=await this.confidentialApp.acquireTokenByClientCredential(Object.assign({},n));r=this.handleResult(e,i||void 0)}if(null===r){this.isEndpointUnavailable=!0;let t=new nQ("The managed identity endpoint was reached, yet no tokens were received.");throw sj.getToken.info(n3(e,t)),t}this.isEndpointUnavailable=!1}else{let t=new nQ("The managed identity endpoint is not currently available");throw sj.getToken.info(n3(e,t)),t}return sj.getToken.info(n6(e)),r}catch(t){if("AuthenticationRequiredError"===t.name)throw t;if(n.setStatus({status:"error",error:t}),"ENETUNREACH"===t.code){let r=new nQ(`${sY.name}: Unavailable. Network unreachable. Message: ${t.message}`);throw sj.getToken.info(n3(e,r)),r}if("EHOSTUNREACH"===t.code){let r=new nQ(`${sY.name}: Unavailable. No managed identity endpoint found. Message: ${t.message}`);throw sj.getToken.info(n3(e,r)),r}if(400===t.statusCode)throw new nQ(`${sY.name}: The managed identity endpoint is indicating there's no available identity. Message: ${t.message}`);if((403===t.statusCode||403===t.code)&&t.message.includes("A socket operation was attempted to an unreachable network")){let r=new nQ(`${sY.name}: Unavailable. Network unreachable. Message: ${t.message}`);throw sj.getToken.info(n3(e,r)),r}if(void 0===t.statusCode)throw new nQ(`${sY.name}: Authentication failed. Message ${t.message}`);throw new nJ(t.statusCode,{error:`${sY.name} authentication failed.`,error_description:t.message})}finally{n.end()}}handleResult(e,t,r){return this.ensureValidMsalToken(e,t,r),sj.getToken.info(n6(e)),{token:t.accessToken,expiresOnTimestamp:t.expiresOn.getTime()}}ensureValidMsalToken(e,t,r){let n=t=>(sj.getToken.info(t),new n5({scopes:Array.isArray(e)?e:[e],getTokenOptions:r,message:t}));if(!t)throw n("No response");if(!t.expiresOn)throw n('Response had no "expiresOn" property.');if(!t.accessToken)throw n('Response had no "accessToken" property.')}initializeSetAppTokenProvider(){this.isAppTokenProviderInitialized||(this.confidentialApp.SetAppTokenProvider(async e=>{sj.info(`SetAppTokenProvider invoked with parameters- ${JSON.stringify(e)}`);let t=Object.assign({},e);sj.info(`authenticateManagedIdentity invoked with scopes- ${JSON.stringify(e.scopes)} and getTokenOptions - ${JSON.stringify(t)}`);let r=await this.authenticateManagedIdentity(e.scopes,t);if(!r)return sj.info('SetAppTokenProvider token has "no_access_token_returned" as the saved token'),{accessToken:"no_access_token_returned",expiresInSeconds:0};{sj.info("SetAppTokenProvider will save the token in cache");let e=(null==r?void 0:r.expiresOnTimestamp)?Math.floor((r.expiresOnTimestamp-Date.now())/1e3):0;return{accessToken:null==r?void 0:r.token,expiresInSeconds:e}}}),this.isAppTokenProviderInitialized=!0)}}function sH(e){return Array.isArray(e)?e:[e]}function sV(e,t){if(!e.match(/^[0-9a-zA-Z-_.:/]+$/)){let r=Error("Invalid scope was specified by the user or calling client");throw t.getToken.info(n3(e,r)),r}}function s$(e){return e.replace(/\/.default$/,"")}var sz=r(32081),sW=r.n(sz);let sG={getSafeWorkingDir(){if("win32"!==process.platform)return"/bin";if(!process.env.SystemRoot)throw Error("Azure CLI credential expects a 'SystemRoot' environment variable");return process.env.SystemRoot},async getAzureCliAccessToken(e,t,r){let n=[];return t&&(n=["--tenant",t]),new Promise((t,i)=>{try{sW().execFile("az",["account","get-access-token","--output","json","--resource",e,...n],{cwd:sG.getSafeWorkingDir(),shell:!0,timeout:r},(e,r,n)=>{t({stdout:r,stderr:n,error:e})})}catch(e){i(e)}})}},sK=n7("AzureCliCredential");class sZ{constructor(e){(null==e?void 0:e.tenantId)&&(ik(sK,null==e?void 0:e.tenantId),this.tenantId=null==e?void 0:e.tenantId),this.additionallyAllowedTenantIds=iM(null==e?void 0:e.additionallyAllowedTenants),this.timeout=null==e?void 0:e.processTimeoutInMs}async getToken(e,t={}){let r=iL(this.tenantId,t,this.additionallyAllowedTenantIds);r&&ik(sK,r);let n="string"==typeof e?e:e[0];return sK.getToken.info(`Using the scope ${n}`),o5.withSpan(`${this.constructor.name}.getToken`,t,async()=>{var t,i,o,s;try{sV(n,sK);let a=s$(n),l=await sG.getAzureCliAccessToken(a,r,this.timeout),c=null===(t=l.stderr)||void 0===t?void 0:t.match("(.*)az login --scope(.*)"),u=(null===(i=l.stderr)||void 0===i?void 0:i.match("(.*)az login(.*)"))&&!c;if((null===(o=l.stderr)||void 0===o?void 0:o.match("az:(.*)not found"))||(null===(s=l.stderr)||void 0===s?void 0:s.startsWith("'az' is not recognized"))){let t=new nQ("Azure CLI could not be found. Please visit https://aka.ms/azure-cli for installation instructions and then, once installed, authenticate to your Azure account using 'az login'.");throw sK.getToken.info(n3(e,t)),t}if(u){let t=new nQ("Please run 'az login' from a command prompt to authenticate before using this credential.");throw sK.getToken.info(n3(e,t)),t}try{let t=l.stdout,r=JSON.parse(t);return sK.getToken.info(n6(e)),{token:r.accessToken,expiresOnTimestamp:new Date(r.expiresOn).getTime()}}catch(e){if(l.stderr)throw new nQ(l.stderr);throw e}}catch(r){let t="CredentialUnavailableError"===r.name?r:new nQ(r.message||"Unknown error while trying to retrieve the access token");throw sK.getToken.info(n3(e,t)),t}})}}let sQ={execFile:(e,t,r)=>new Promise((n,i)=>{sz.execFile(e,t,r,(e,t,r)=>{Buffer.isBuffer(t)&&(t=t.toString("utf8")),Buffer.isBuffer(r)&&(r=r.toString("utf8")),r||e?i(r?Error(r):e):n(t)})})},sX=n7("AzurePowerShellCredential"),sJ="win32"===process.platform;function s0(e){return sJ?`${e}.exe`:e}async function s1(e,t){let r=[];for(let n of e){let[e,...i]=n,o=await sQ.execFile(e,i,{encoding:"utf8",timeout:t});r.push(o)}return r}let s2={login:"Run Connect-AzAccount to login",installed:"The specified module 'Az.Accounts' with version '2.2.0' was not loaded because no valid module file was found in any module directory"},s5={login:"Please run 'Connect-AzAccount' from PowerShell to authenticate before using this credential.",installed:"The 'Az.Account' module >= 2.2.0 is not installed. Install the Azure Az PowerShell module with: \"Install-Module -Name Az -Scope CurrentUser -Repository PSGallery -Force\".",troubleshoot:"To troubleshoot, visit https://aka.ms/azsdk/js/identity/powershellcredential/troubleshoot."},s4=e=>e.message.match(`(.*)${s2.login}(.*)`),s8=e=>e.message.match(s2.installed),s6=[s0("pwsh")];sJ&&s6.push(s0("powershell"));class s3{constructor(e){(null==e?void 0:e.tenantId)&&(ik(sX,null==e?void 0:e.tenantId),this.tenantId=null==e?void 0:e.tenantId),this.additionallyAllowedTenantIds=iM(null==e?void 0:e.additionallyAllowedTenants),this.timeout=null==e?void 0:e.processTimeoutInMs}async getAzurePowerShellAccessToken(e,t,r){for(let n of[...s6]){try{await s1([[n,"/?"]],r)}catch(e){s6.shift();continue}let i="";t&&(i=`-TenantId "${t}"`);let o=(await s1([[n,"-NoProfile","-NonInteractive","-Command","Import-Module Az.Accounts -MinimumVersion 2.2.0 -PassThru"],[n,"-NoProfile","-NonInteractive","-Command",`Get-AzAccessToken ${i} -ResourceUrl "${e}" | ConvertTo-Json`]]))[1];try{return JSON.parse(o)}catch(e){throw Error(`Unable to parse the output of PowerShell. Received output: ${o}`)}}throw Error("Unable to execute PowerShell. Ensure that it is installed in your system")}async getToken(e,t={}){return o5.withSpan(`${this.constructor.name}.getToken`,t,async()=>{let r=iL(this.tenantId,t,this.additionallyAllowedTenantIds),n="string"==typeof e?e:e[0];r&&ik(sX,r);try{sV(n,sX),sX.getToken.info(`Using the scope ${n}`);let t=s$(n),i=await this.getAzurePowerShellAccessToken(t,r,this.timeout);return sX.getToken.info(n6(e)),{token:i.Token,expiresOnTimestamp:new Date(i.ExpiresOn).getTime()}}catch(t){if(s8(t)){let e=new nQ(s5.installed);throw sX.getToken.info(n3(n,e)),e}if(s4(t)){let e=new nQ(s5.login);throw sX.getToken.info(n3(n,e)),e}let e=new nQ(`${t}. ${s5.troubleshoot}`);throw sX.getToken.info(n3(n,e)),e}})}}let s9=n7("ChainedTokenCredential");class s7{constructor(...e){this._sources=[],this._sources=e}async getToken(e,t={}){let{token:r}=await this.getTokenInternal(e,t);return r}async getTokenInternal(e,t={}){let r,n=null,i=[];return o5.withSpan("ChainedTokenCredential.getToken",t,async t=>{for(let o=0;o<this._sources.length&&null===n;o++)try{n=await this._sources[o].getToken(e,t),r=this._sources[o]}catch(t){if("CredentialUnavailableError"===t.name||"AuthenticationRequiredError"===t.name)i.push(t);else throw s9.getToken.info(n3(e,t)),t}if(!n&&i.length>0){let t=new n1(i,"ChainedTokenCredential authentication failed.");throw s9.getToken.info(n3(e,t)),t}if(s9.getToken.info(`Result for ${r.constructor.name}: ${n6(e)}`),null===n)throw new nQ("Failed to retrieve a valid token");return{token:n,successfulCredential:r}})}}let ae=(0,r(73837).promisify)(nw.readFile);async function at(e,t){let r;let n={},i=e.certificate,o=e.certificatePath;n.certificateContents=i||await ae(o,"utf8"),t&&(n.x5c=n.certificateContents);let s=/(-+BEGIN CERTIFICATE-+)(\n\r?|\r\n?)([A-Za-z0-9+/\n\r]+=*)(\n\r?|\r\n?)(-+END CERTIFICATE-+)/g,a=[];do(r=s.exec(n.certificateContents))&&a.push(r[3]);while(r);if(0===a.length)throw Error("The file at the specified path does not contain a PEM-encoded certificate.");return n.thumbprint=(0,r1.createHash)("sha1").update(Buffer.from(a[0],"base64")).digest("hex").toUpperCase(),n}class ar extends o7{constructor(e){super(e),this.requiresConfidential=!0,this.configuration=e.configuration,this.sendCertificateChain=e.sendCertificateChain}async init(e){try{let e;let t=await at(this.configuration,this.sendCertificateChain);e=void 0!==this.configuration.certificatePassword?(0,r1.createPrivateKey)({key:t.certificateContents,passphrase:this.configuration.certificatePassword,format:"pem"}).export({format:"pem",type:"pkcs8"}).toString():t.certificateContents,this.msalConfig.auth.clientCertificate={thumbprint:t.thumbprint,privateKey:e,x5c:t.x5c}}catch(e){throw this.logger.info(n3("",e)),e}return super.init(e)}async doGetToken(e,t={}){try{let r={scopes:e,correlationId:t.correlationId,azureRegion:this.azureRegion,authority:t.authority,claims:t.claims},n=await this.getApp("confidential",t.enableCae).acquireTokenByClientCredential(r);return this.handleResult(e,this.clientId,n||void 0)}catch(r){throw this.handleError(e,r,t)}}}let an="ClientCertificateCredential",ai=n7(an);class ao{constructor(e,t,r,n={}){if(!e||!t)throw Error(`${an}: tenantId and clientId are required parameters.`);this.tenantId=e,this.additionallyAllowedTenantIds=iM(null==n?void 0:n.additionallyAllowedTenants);let i=Object.assign({},"string"==typeof r?{certificatePath:r}:r),o=i.certificate,s=i.certificatePath;if(!i||!(o||s))throw Error(`${an}: Provide either a PEM certificate in string form, or the path to that certificate in the filesystem. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);if(o&&s)throw Error(`${an}: To avoid unexpected behaviors, providing both the contents of a PEM certificate and the path to a PEM certificate is forbidden. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.`);this.msalFlow=new ar(Object.assign(Object.assign({},n),{configuration:i,logger:ai,clientId:t,tenantId:e,sendCertificateChain:n.sendCertificateChain,tokenCredentialOptions:n}))}async getToken(e,t={}){return o5.withSpan(`${an}.getToken`,t,async t=>{t.tenantId=iL(this.tenantId,t,this.additionallyAllowedTenantIds,ai);let r=Array.isArray(e)?e:[e];return this.msalFlow.getToken(r,t)})}}class as extends o7{constructor(e){super(e),this.requiresConfidential=!0,this.msalConfig.auth.clientSecret=e.clientSecret}async doGetToken(e,t={}){try{let r=await this.getApp("confidential",t.enableCae).acquireTokenByClientCredential({scopes:e,correlationId:t.correlationId,azureRegion:this.azureRegion,authority:t.authority,claims:t.claims});return this.handleResult(e,this.clientId,r||void 0)}catch(r){throw this.handleError(e,r,t)}}}let aa=n7("ClientSecretCredential");class al{constructor(e,t,r,n={}){if(!e||!t||!r)throw Error("ClientSecretCredential: tenantId, clientId, and clientSecret are required parameters. To troubleshoot, visit https://aka.ms/azsdk/js/identity/serviceprincipalauthentication/troubleshoot.");this.tenantId=e,this.additionallyAllowedTenantIds=iM(null==n?void 0:n.additionallyAllowedTenants),this.msalFlow=new as(Object.assign(Object.assign({},n),{logger:aa,clientId:t,tenantId:e,clientSecret:r,tokenCredentialOptions:n}))}async getToken(e,t={}){return o5.withSpan(`${this.constructor.name}.getToken`,t,async t=>{t.tenantId=iL(this.tenantId,t,this.additionallyAllowedTenantIds,aa);let r=sH(e);return this.msalFlow.getToken(r,t)})}}class ac extends o7{constructor(e){super(e),this.username=e.username,this.password=e.password}async doGetToken(e,t){try{let r={scopes:e,username:this.username,password:this.password,correlationId:null==t?void 0:t.correlationId,authority:null==t?void 0:t.authority,claims:null==t?void 0:t.claims},n=await this.getApp("public",null==t?void 0:t.enableCae).acquireTokenByUsernamePassword(r);return this.handleResult(e,this.clientId,n||void 0)}catch(r){throw this.handleError(e,r,t)}}}let au=n7("UsernamePasswordCredential");class ah{constructor(e,t,r,n,i={}){if(!e||!t||!r||!n)throw Error("UsernamePasswordCredential: tenantId, clientId, username and password are required parameters. To troubleshoot, visit https://aka.ms/azsdk/js/identity/usernamepasswordcredential/troubleshoot.");this.tenantId=e,this.additionallyAllowedTenantIds=iM(null==i?void 0:i.additionallyAllowedTenants),this.msalFlow=new ac(Object.assign(Object.assign({},i),{logger:au,clientId:t,tenantId:e,username:r,password:n,tokenCredentialOptions:i||{}}))}async getToken(e,t={}){return o5.withSpan(`${this.constructor.name}.getToken`,t,async t=>{t.tenantId=iL(this.tenantId,t,this.additionallyAllowedTenantIds,au);let r=sH(e);return this.msalFlow.getToken(r,t)})}}let ad=["AZURE_TENANT_ID","AZURE_CLIENT_ID","AZURE_CLIENT_SECRET","AZURE_CLIENT_CERTIFICATE_PATH","AZURE_CLIENT_CERTIFICATE_PASSWORD","AZURE_USERNAME","AZURE_PASSWORD","AZURE_ADDITIONALLY_ALLOWED_TENANTS"],af="EnvironmentCredential",ap=n7(af);class am{constructor(e){this._credential=void 0;let t=n8(ad).assigned.join(", ");ap.info(`Found the following environment variables: ${t}`);let r=process.env.AZURE_TENANT_ID,n=process.env.AZURE_CLIENT_ID,i=process.env.AZURE_CLIENT_SECRET,o=function(){var e;return(null!==(e=process.env.AZURE_ADDITIONALLY_ALLOWED_TENANTS)&&void 0!==e?e:"").split(";")}(),s=Object.assign(Object.assign({},e),{additionallyAllowedTenantIds:o});if(r&&ik(ap,r),r&&n&&i){ap.info(`Invoking ClientSecretCredential with tenant ID: ${r}, clientId: ${n} and clientSecret: [REDACTED]`),this._credential=new al(r,n,i,s);return}let a=process.env.AZURE_CLIENT_CERTIFICATE_PATH,l=process.env.AZURE_CLIENT_CERTIFICATE_PASSWORD;if(r&&n&&a){ap.info(`Invoking ClientCertificateCredential with tenant ID: ${r}, clientId: ${n} and certificatePath: ${a}`),this._credential=new ao(r,n,{certificatePath:a,certificatePassword:l},s);return}let c=process.env.AZURE_USERNAME,u=process.env.AZURE_PASSWORD;r&&n&&c&&u&&(ap.info(`Invoking UsernamePasswordCredential with tenant ID: ${r}, clientId: ${n} and username: ${c}`),this._credential=new ah(r,n,c,u,s))}async getToken(e,t={}){return o5.withSpan(`${af}.getToken`,t,async t=>{if(this._credential)try{let r=await this._credential.getToken(e,t);return ap.getToken.info(n6(e)),r}catch(r){let t=new nJ(400,{error:`${af} authentication failed. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`,error_description:r.message.toString().split("More details:").join("")});throw ap.getToken.info(n3(e,t)),t}throw new nQ(`${af} is unavailable. No underlying credential could be used. To troubleshoot, visit https://aka.ms/azsdk/js/identity/environmentcredential/troubleshoot.`)})}}let ag={getSafeWorkingDir(){if("win32"!==process.platform)return"/bin";if(!process.env.SystemRoot)throw Error("Azure Developer CLI credential expects a 'SystemRoot' environment variable");return process.env.SystemRoot},async getAzdAccessToken(e,t,r){let n=[];return t&&(n=["--tenant-id",t]),new Promise((t,i)=>{try{sW().execFile("azd",["auth","token","--output","json",...e.reduce((e,t)=>e.concat("--scope",t),[]),...n],{cwd:ag.getSafeWorkingDir(),timeout:r},(e,r,n)=>{t({stdout:r,stderr:n,error:e})})}catch(e){i(e)}})}},ay=n7("AzureDeveloperCliCredential");class a_{constructor(e){(null==e?void 0:e.tenantId)&&(ik(ay,null==e?void 0:e.tenantId),this.tenantId=null==e?void 0:e.tenantId),this.additionallyAllowedTenantIds=iM(null==e?void 0:e.additionallyAllowedTenants),this.timeout=null==e?void 0:e.processTimeoutInMs}async getToken(e,t={}){let r;let n=iL(this.tenantId,t,this.additionallyAllowedTenantIds);return n&&ik(ay,n),r="string"==typeof e?[e]:e,ay.getToken.info(`Using the scopes ${e}`),o5.withSpan(`${this.constructor.name}.getToken`,t,async()=>{var t,i,o,s;try{r.forEach(e=>{sV(e,ay)});let a=await ag.getAzdAccessToken(r,n,this.timeout),l=(null===(t=a.stderr)||void 0===t?void 0:t.match("not logged in, run `azd login` to login"))||(null===(i=a.stderr)||void 0===i?void 0:i.match("not logged in, run `azd auth login` to login"));if((null===(o=a.stderr)||void 0===o?void 0:o.match("azd:(.*)not found"))||(null===(s=a.stderr)||void 0===s?void 0:s.startsWith("'azd' is not recognized"))||a.error&&"ENOENT"===a.error.code){let t=new nQ("Azure Developer CLI couldn't be found. To mitigate this issue, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.");throw ay.getToken.info(n3(e,t)),t}if(l){let t=new nQ("Please run 'azd auth login' from a command prompt to authenticate before using this credential. For more information, see the troubleshooting guidelines at https://aka.ms/azsdk/js/identity/azdevclicredential/troubleshoot.");throw ay.getToken.info(n3(e,t)),t}try{let t=JSON.parse(a.stdout);return ay.getToken.info(n6(e)),{token:t.token,expiresOnTimestamp:new Date(t.expiresOn).getTime()}}catch(e){if(a.stderr)throw new nQ(a.stderr);throw e}}catch(r){let t="CredentialUnavailableError"===r.name?r:new nQ(r.message||"Unknown error while trying to retrieve the access token");throw ay.getToken.info(n3(e,t)),t}})}}class aE extends sY{constructor(e){var t,r,n;let i=null!==(t=null==e?void 0:e.managedIdentityClientId)&&void 0!==t?t:process.env.AZURE_CLIENT_ID,o=null!==(r=null==e?void 0:e.workloadIdentityClientId)&&void 0!==r?r:i,s=null==e?void 0:e.managedIdentityResourceId,a=process.env.AZURE_FEDERATED_TOKEN_FILE,l=null!==(n=null==e?void 0:e.tenantId)&&void 0!==n?n:process.env.AZURE_TENANT_ID;s?super(Object.assign(Object.assign({},e),{resourceId:s})):a&&o?super(o,Object.assign(Object.assign({},e),{tenantId:l})):i?super(Object.assign(Object.assign({},e),{clientId:i})):super(e)}}class aT extends sk{constructor(e){var t,r,n;let i=null!==(t=null==e?void 0:e.managedIdentityClientId)&&void 0!==t?t:process.env.AZURE_CLIENT_ID,o=null!==(r=null==e?void 0:e.workloadIdentityClientId)&&void 0!==r?r:i,s=process.env.AZURE_FEDERATED_TOKEN_FILE,a=null!==(n=null==e?void 0:e.tenantId)&&void 0!==n?n:process.env.AZURE_TENANT_ID;s&&o?super(Object.assign(Object.assign({},e),{tenantId:a,clientId:o,tokenFilePath:s})):a?super(Object.assign(Object.assign({},e),{tenantId:a})):super(e)}}class ab extends a_{constructor(e){super(Object.assign({processTimeoutInMs:null==e?void 0:e.processTimeoutInMs},e))}}class aw extends sZ{constructor(e){super(Object.assign({processTimeoutInMs:null==e?void 0:e.processTimeoutInMs},e))}}class av extends s3{constructor(e){super(Object.assign({processTimeoutInMs:null==e?void 0:e.processTimeoutInMs},e))}}let aS=[am,aT,aE,aw,av,ab];class aA extends s7{constructor(e){super(...aS.map(t=>new t(e)))}}var aI=r(21437),aC=r.n(aI),aO=r(82924),aN=r.n(aO);let aR={open:aC()};class aD extends o7{constructor(e){super(e),this.logger=n7("Node.js MSAL Open Browser"),this.redirectUri=e.redirectUri,this.loginHint=e.loginHint;let t=new URL(this.redirectUri);this.port=parseInt(t.port),isNaN(this.port)&&(this.port=80),this.hostname=t.hostname}async acquireTokenByCode(e,t){return this.getApp("public",t).acquireTokenByCode(e)}doGetToken(e,t){return new Promise((r,n)=>{let i=[],o=rU().createServer((i,o)=>{var s;let a;if(!i.url){n(Error('Interactive Browser Authentication Error "Did not receive token with a valid expiration"'));return}try{a=new URL(i.url,this.redirectUri)}catch(e){n(Error('Interactive Browser Authentication Error "Did not receive token with a valid expiration"'));return}let c={code:a.searchParams.get("code"),redirectUri:this.redirectUri,scopes:e,authority:null==t?void 0:t.authority,codeVerifier:null===(s=this.pkceCodes)||void 0===s?void 0:s.verifier};this.acquireTokenByCode(c,null==t?void 0:t.enableCae).then(t=>{if((null==t?void 0:t.account)&&(this.account=iN(this.clientId,t.account)),t&&t.expiresOn){let n=null==t?void 0:t.expiresOn.valueOf();o.writeHead(200),o.end("Authentication Complete. You can close the browser and return to the application."),this.logger.getToken.info(n6(e)),r({expiresOnTimestamp:n,token:t.accessToken})}else{let t=n3(e,`${a.searchParams.get("error")}. ${a.searchParams.get("error_description")}`);o.writeHead(500),o.end(t),this.logger.getToken.info(t),n(Error('Interactive Browser Authentication Error "Did not receive token with a valid expiration"'))}l()}).catch(()=>{let t=n3(e,`${a.searchParams.get("error")}. ${a.searchParams.get("error_description")}`);o.writeHead(500),o.end(t),this.logger.getToken.info(t),n(Error('Interactive Browser Authentication Error "Did not receive token with a valid expiration"')),l()})}),s=aN()(o),a=o.listen(this.port,this.hostname,()=>this.logger.info(`InteractiveBrowserCredential listening on port ${this.port}!`));function l(){for(let e of(a&&a.close(),i))e.destroy();s&&(s.close(),s.stop())}o.on("connection",e=>i.push(e)),o.on("error",e=>{l();let t=e.code;"EACCES"===t||"EADDRINUSE"===t?n(new nQ(`InteractiveBrowserCredential: Access denied to port ${this.port}. Try sending a redirect URI with a different port, as follows: \`new InteractiveBrowserCredential({ redirectUri: "http://localhost:1337" })\``)):n(new nQ(`InteractiveBrowserCredential: Failed to start the necessary web server. Error: ${e.message}`))}),o.on("listening",()=>{let r=this.openAuthCodeUrl(e,t),i=null==t?void 0:t.abortSignal;i&&i.addEventListener("abort",()=>{l(),n(Error("Aborted"))}),r.catch(e=>{l(),n(e)})})})}async openAuthCodeUrl(e,t){let r=new nn;this.pkceCodes=await r.generatePkceCodes();let n={scopes:e,correlationId:null==t?void 0:t.correlationId,redirectUri:this.redirectUri,authority:null==t?void 0:t.authority,claims:null==t?void 0:t.claims,loginHint:this.loginHint,codeChallenge:this.pkceCodes.challenge,codeChallengeMethod:"S256"},i=await this.getApp("public",null==t?void 0:t.enableCae).getAuthCodeUrl(n);try{await aR.open(i,{wait:!0,newInstance:!0})}catch(e){throw new nQ(`InteractiveBrowserCredential: Could not open a browser window. Error: ${e.message}`)}}}let ak=n7("InteractiveBrowserCredential");class aP{constructor(e={}){let t="function"==typeof e.redirectUri?e.redirectUri():e.redirectUri||"http://localhost";this.tenantId=null==e?void 0:e.tenantId,this.additionallyAllowedTenantIds=iM(null==e?void 0:e.additionallyAllowedTenants),this.msalFlow=new aD(Object.assign(Object.assign({},e),{tokenCredentialOptions:e,logger:ak,redirectUri:t})),this.disableAutomaticAuthentication=null==e?void 0:e.disableAutomaticAuthentication}async getToken(e,t={}){return o5.withSpan(`${this.constructor.name}.getToken`,t,async t=>{t.tenantId=iL(this.tenantId,t,this.additionallyAllowedTenantIds,ak);let r=sH(e);return this.msalFlow.getToken(r,Object.assign(Object.assign({},t),{disableAutomaticAuthentication:this.disableAutomaticAuthentication}))})}async authenticate(e,t={}){return o5.withSpan(`${this.constructor.name}.authenticate`,t,async t=>{let r=sH(e);return await this.msalFlow.getToken(r,t),this.msalFlow.getActiveAccount()})}}class aM extends o7{constructor(e){super(e),this.userPromptCallback=e.userPromptCallback}async doGetToken(e,t){try{let r={deviceCodeCallback:this.userPromptCallback,scopes:e,cancel:!1,correlationId:null==t?void 0:t.correlationId,authority:null==t?void 0:t.authority,claims:null==t?void 0:t.claims},n=this.getApp("public",null==t?void 0:t.enableCae).acquireTokenByDeviceCode(r),i=await this.withCancellation(n,null==t?void 0:t.abortSignal,()=>{r.cancel=!0});return this.handleResult(e,this.clientId,i||void 0)}catch(r){throw this.handleError(e,r,t)}}}let aL=n7("DeviceCodeCredential");function ax(e){console.log(e.message)}class aU{constructor(e){this.tenantId=null==e?void 0:e.tenantId,this.additionallyAllowedTenantIds=iM(null==e?void 0:e.additionallyAllowedTenants),this.msalFlow=new aM(Object.assign(Object.assign({},e),{logger:aL,userPromptCallback:(null==e?void 0:e.userPromptCallback)||ax,tokenCredentialOptions:e||{}})),this.disableAutomaticAuthentication=null==e?void 0:e.disableAutomaticAuthentication}async getToken(e,t={}){return o5.withSpan(`${this.constructor.name}.getToken`,t,async t=>{t.tenantId=iL(this.tenantId,t,this.additionallyAllowedTenantIds,aL);let r=sH(e);return this.msalFlow.getToken(r,Object.assign(Object.assign({},t),{disableAutomaticAuthentication:this.disableAutomaticAuthentication}))})}async authenticate(e,t={}){return o5.withSpan(`${this.constructor.name}.authenticate`,t,async t=>{let r=Array.isArray(e)?e:[e];return await this.msalFlow.getToken(r,t),this.msalFlow.getActiveAccount()})}}class aF extends o7{constructor(e){super(e),this.logger=n7("Node.js MSAL Authorization Code"),this.redirectUri=e.redirectUri,this.authorizationCode=e.authorizationCode,e.clientSecret&&(this.msalConfig.auth.clientSecret=e.clientSecret)}async getAuthCodeUrl(e){return await this.init(),this.getApp("confidentialFirst",e.enableCae).getAuthCodeUrl({scopes:e.scopes,redirectUri:e.redirectUri})}async doGetToken(e,t){try{let r=await this.getApp("confidentialFirst",null==t?void 0:t.enableCae).acquireTokenByCode({scopes:e,redirectUri:this.redirectUri,code:this.authorizationCode,correlationId:null==t?void 0:t.correlationId,authority:null==t?void 0:t.authority,claims:null==t?void 0:t.claims});return this.handleResult(e,this.clientId,r||void 0)}catch(r){throw this.handleError(e,r,t)}}}let aB=n7("AuthorizationCodeCredential");class aq{constructor(e,t,r,n,i,o){ik(aB,e);let s=r;"string"==typeof i?(this.authorizationCode=n,this.redirectUri=i):(this.authorizationCode=r,this.redirectUri=n,s=void 0,o=i),this.tenantId=e,this.additionallyAllowedTenantIds=iM(null==o?void 0:o.additionallyAllowedTenants),this.msalFlow=new aF(Object.assign(Object.assign({},o),{clientSecret:s,clientId:t,tenantId:e,tokenCredentialOptions:o||{},logger:aB,redirectUri:this.redirectUri,authorizationCode:this.authorizationCode}))}async getToken(e,t={}){return o5.withSpan(`${this.constructor.name}.getToken`,t,async t=>{let r=iL(this.tenantId,t,this.additionallyAllowedTenantIds);t.tenantId=r;let n=sH(e);return this.msalFlow.getToken(n,Object.assign(Object.assign({},t),{disableAutomaticAuthentication:this.disableAutomaticAuthentication}))})}}class aj extends o7{constructor(e){super(e),this.logger.info("Initialized MSAL's On-Behalf-Of flow"),this.requiresConfidential=!0,this.userAssertionToken=e.userAssertionToken,this.certificatePath=e.certificatePath,this.sendCertificateChain=e.sendCertificateChain,this.clientSecret=e.clientSecret}async init(e){if(this.certificatePath)try{let e=await at({certificatePath:this.certificatePath},this.sendCertificateChain);this.msalConfig.auth.clientCertificate={thumbprint:e.thumbprint,privateKey:e.certificateContents,x5c:e.x5c}}catch(e){throw this.logger.info(n3("",e)),e}else this.msalConfig.auth.clientSecret=this.clientSecret;return super.init(e)}async doGetToken(e,t={}){try{let r=await this.getApp("confidential",t.enableCae).acquireTokenOnBehalfOf({scopes:e,correlationId:t.correlationId,authority:t.authority,claims:t.claims,oboAssertion:this.userAssertionToken});return this.handleResult(e,this.clientId,r||void 0)}catch(r){throw this.handleError(e,r,t)}}}let aY="OnBehalfOfCredential",aH=n7(aY);class aV{constructor(e){this.options=e;let{clientSecret:t}=e,{certificatePath:r}=e,{tenantId:n,clientId:i,userAssertionToken:o,additionallyAllowedTenants:s}=e;if(!n||!i||!(t||r)||!o)throw Error(`${aY}: tenantId, clientId, clientSecret (or certificatePath) and userAssertionToken are required parameters.`);this.tenantId=n,this.additionallyAllowedTenantIds=iM(s),this.msalFlow=new aj(Object.assign(Object.assign({},this.options),{logger:aH,tokenCredentialOptions:this.options}))}async getToken(e,t={}){return o5.withSpan(`${aY}.getToken`,t,async t=>{t.tenantId=iL(this.tenantId,t,this.additionallyAllowedTenantIds,aH);let r=sH(e);return this.msalFlow.getToken(r,t)})}}function a$(){return new aA}},92509:e=>{"use strict";e.exports=(e,t,r)=>{let n=r=>Object.defineProperty(e,t,{value:r,enumerable:!0,writable:!0});return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let e=r();return n(e),e},set(e){n(e)}}),e}},21437:(e,t,r)=>{let n;let i=r(71017),o=r(32081),{promises:s,constants:a}=r(57147),l=r(7223),c=r(17897),u=r(92509),h=i.join(__dirname,"xdg-open"),{platform:d,arch:f}=process,p=()=>{try{return s.statSync("/run/.containerenv"),!0}catch{return!1}},m=(()=>{let e;let t="/mnt/";return async function(){if(e)return e;let r="/etc/wsl.conf",n=!1;try{await s.access(r,a.F_OK),n=!0}catch{}if(!n)return t;let i=await s.readFile(r,{encoding:"utf8"}),o=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(i);return o?e=(e=o.groups.mountPoint.trim()).endsWith("/")?e:`${e}/`:t}})(),g=async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(e){r=e}throw r},y=async e=>{let t;if(Array.isArray((e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e}).app))return g(e.app,t=>y({...e,app:t}));let{name:r,arguments:i=[]}=e.app||{};if(i=[...i],Array.isArray(r))return g(r,t=>y({...e,app:{name:t,arguments:i}}));let u=[],f={};if("darwin"===d)t="open",e.wait&&u.push("--wait-apps"),e.background&&u.push("--background"),e.newInstance&&u.push("--new"),r&&u.push("-a",r);else if("win32"!==d&&(!l||(void 0===n&&(n=p()||c()),n)||r)){if(r)t=r;else{let e="/"===__dirname,r=!1;try{await s.access(h,a.X_OK),r=!0}catch{}t=process.versions.electron||"android"===d||e||!r?"xdg-open":h}i.length>0&&u.push(...i),e.wait||(f.stdio="ignore",f.detached=!0)}else{let n=await m();t=l?`${n}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,u.push("-NoProfile","-NonInteractive","ExecutionPolicy","Bypass","-EncodedCommand"),l||(f.windowsVerbatimArguments=!0);let o=["Start"];e.wait&&o.push("-Wait"),r?(o.push(`"\`"${r}\`""`,"-ArgumentList"),e.target&&i.unshift(e.target)):e.target&&o.push(`"${e.target}"`),i.length>0&&o.push((i=i.map(e=>`"\`"${e}\`""`)).join(",")),e.target=Buffer.from(o.join(" "),"utf16le").toString("base64")}e.target&&u.push(e.target),"darwin"===d&&i.length>0&&u.push("--args",...i);let _=o.spawn(t,u,f);return e.wait?new Promise((t,r)=>{_.once("error",r),_.once("close",n=>{if(!e.allowNonzeroExitCode&&n>0){r(Error(`Exited with code ${n}`));return}t(_)})}):(_.unref(),_)},_=(e,t)=>{if("string"!=typeof e)throw TypeError("Expected a `target`");return y({...t,target:e})};function E(e){if("string"==typeof e||Array.isArray(e))return e;let{[f]:t}=e;if(!t)throw Error(`${f} is not supported`);return t}function T({[d]:e},{wsl:t}){if(t&&l)return E(t);if(!e)throw Error(`${d} is not supported`);return E(e)}let b={};u(b,"chrome",()=>T({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}})),u(b,"firefox",()=>T({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"})),u(b,"edge",()=>T({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"})),_.apps=b,_.openApp=(e,t)=>{if("string"!=typeof e)throw TypeError("Expected a `name`");let{arguments:r=[]}=t||{};if(null!=r&&!Array.isArray(r))throw TypeError("Expected `appArguments` as Array type");return y({...t,app:{name:e,arguments:r}})},e.exports=_},82646:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.writeToTrackingBuffer=function(e,t,i){e.writeUInt32LE(0),e.writeUInt32LE(n),e.writeUInt16LE(r.TXN_DESCRIPTOR),e.writeBuffer(t),e.writeUInt32LE(i);let o=e.data;return o.writeUInt32LE(o.length,0),e};let r={TXN_DESCRIPTOR:2},n=18},28176:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SQLServerStatementColumnEncryptionSetting=t.SQLServerEncryptionType=t.DescribeParameterEncryptionResultSet2=t.DescribeParameterEncryptionResultSet1=void 0;let r=function(e){return e[e.Deterministic=1]="Deterministic",e[e.Randomized=2]="Randomized",e[e.PlainText=0]="PlainText",e}({});t.SQLServerEncryptionType=r;let n=function(e){return e[e.KeyOrdinal=0]="KeyOrdinal",e[e.DbId=1]="DbId",e[e.KeyId=2]="KeyId",e[e.KeyVersion=3]="KeyVersion",e[e.KeyMdVersion=4]="KeyMdVersion",e[e.EncryptedKey=5]="EncryptedKey",e[e.ProviderName=6]="ProviderName",e[e.KeyPath=7]="KeyPath",e[e.KeyEncryptionAlgorithm=8]="KeyEncryptionAlgorithm",e}({});t.DescribeParameterEncryptionResultSet1=n;let i=function(e){return e[e.ParameterOrdinal=0]="ParameterOrdinal",e[e.ParameterName=1]="ParameterName",e[e.ColumnEncryptionAlgorithm=2]="ColumnEncryptionAlgorithm",e[e.ColumnEncrytionType=3]="ColumnEncrytionType",e[e.ColumnEncryptionKeyOrdinal=4]="ColumnEncryptionKeyOrdinal",e[e.NormalizationRuleVersion=5]="NormalizationRuleVersion",e}({});t.DescribeParameterEncryptionResultSet2=i;let o=function(e){return e[e.UseConnectionSetting=0]="UseConnectionSetting",e[e.Enabled=1]="Enabled",e[e.ResultSetOnly=2]="ResultSetOnly",e[e.Disabled=3]="Disabled",e}({});t.SQLServerStatementColumnEncryptionSetting=o},7345:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BulkLoadPayload=void 0;class r{constructor(e){this.bulkLoad=e,this.iterator=this.bulkLoad.rowToPacketTransform[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterator}toString(e=""){return e+"BulkLoad"}}t.BulkLoadPayload=r},769:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(82361),i=function(e){return e&&e.__esModule?e:{default:e}}(r(24927)),o=r(12781),s=r(37902);let a={nullable:1,updateableReadWrite:4,nullableUnknown:32768},l={FINAL:0},c=Buffer.from([s.TYPE.ROW]),u=Buffer.from([16,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),h=Buffer.from([0]);class d extends o.Transform{constructor(e){super({writableObjectMode:!0}),this.bulkLoad=e,this.mainOptions=e.options,this.columns=e.columns,this.columnMetadataWritten=!1}_transform(e,t,r){this.columnMetadataWritten||(this.push(this.bulkLoad.getColMetaData()),this.columnMetadataWritten=!0),this.push(c);for(let t=0;t<this.columns.length;t++){let n=this.columns[t],i=Array.isArray(e)?e[t]:e[n.objName];if(!this.bulkLoad.firstRowWritten)try{i=n.type.validate(i,n.collation)}catch(e){return r(e)}let o={length:n.length,scale:n.scale,precision:n.precision,value:i};if("Text"===n.type.name||"Image"===n.type.name||"NText"===n.type.name){if(null==i){this.push(h);continue}this.push(u)}for(let e of(this.push(n.type.generateParameterLength(o,this.mainOptions)),n.type.generateParameterData(o,this.mainOptions)))this.push(e)}process.nextTick(r)}_flush(e){this.push(this.bulkLoad.createDoneToken()),process.nextTick(e)}}class f extends n.EventEmitter{constructor(e,t,r,{checkConstraints:n=!1,fireTriggers:i=!1,keepNulls:o=!1,lockTable:s=!1,order:a={}},l){if("boolean"!=typeof n)throw TypeError('The "options.checkConstraints" property must be of type boolean.');if("boolean"!=typeof i)throw TypeError('The "options.fireTriggers" property must be of type boolean.');if("boolean"!=typeof o)throw TypeError('The "options.keepNulls" property must be of type boolean.');if("boolean"!=typeof s)throw TypeError('The "options.lockTable" property must be of type boolean.');if("object"!=typeof a||null===a)throw TypeError('The "options.order" property must be of type object.');for(let[e,t]of Object.entries(a))if("ASC"!==t&&"DESC"!==t)throw TypeError('The value of the "'+e+'" key in the "options.order" object must be either "ASC" or "DESC".');super(),this.error=void 0,this.canceled=!1,this.executionStarted=!1,this.collation=t,this.table=e,this.options=r,this.callback=l,this.columns=[],this.columnsByName={},this.firstRowWritten=!1,this.streamingMode=!1,this.rowToPacketTransform=new d(this),this.bulkOptions={checkConstraints:n,fireTriggers:i,keepNulls:o,lockTable:s,order:a}}addColumn(e,t,{output:r=!1,length:n,precision:i,scale:o,objName:s=e,nullable:a=!0}){if(this.firstRowWritten)throw Error("Columns cannot be added to bulk insert after the first row has been written.");if(this.executionStarted)throw Error("Columns cannot be added to bulk insert after execution has started.");let l={type:t,name:e,value:null,output:r,length:n,precision:i,scale:o,objName:s,nullable:a,collation:this.collation};(48&t.id)==32&&null==l.length&&t.resolveLength&&(l.length=t.resolveLength(l)),t.resolvePrecision&&null==l.precision&&(l.precision=t.resolvePrecision(l)),t.resolveScale&&null==l.scale&&(l.scale=t.resolveScale(l)),this.columns.push(l),this.columnsByName[e]=l}getOptionsSql(){let e=[];if(this.bulkOptions.checkConstraints&&e.push("CHECK_CONSTRAINTS"),this.bulkOptions.fireTriggers&&e.push("FIRE_TRIGGERS"),this.bulkOptions.keepNulls&&e.push("KEEP_NULLS"),this.bulkOptions.lockTable&&e.push("TABLOCK"),this.bulkOptions.order){let t=[];for(let[e,r]of Object.entries(this.bulkOptions.order))t.push(`${e} ${r}`);t.length&&e.push(`ORDER (${t.join(", ")})`)}return e.length>0?` WITH (${e.join(",")})`:""}getBulkInsertSql(){let e="insert bulk "+this.table+"(";for(let t=0,r=this.columns.length;t<r;t++){let r=this.columns[t];0!==t&&(e+=", "),e+="["+r.name+"] "+r.type.declaration(r)}return e+")"+this.getOptionsSql()}getTableCreationSql(){let e="CREATE TABLE "+this.table+"(\n";for(let t=0,r=this.columns.length;t<r;t++){let r=this.columns[t];0!==t&&(e+=",\n"),e+="["+r.name+"] "+r.type.declaration(r),void 0!==r.nullable&&(e+=" "+(r.nullable?"NULL":"NOT NULL"))}return e+"\n)"}getColMetaData(){let e=new i.default(100,null,!0);e.writeUInt8(s.TYPE.COLMETADATA),e.writeUInt16LE(this.columns.length);for(let t=0,r=this.columns.length;t<r;t++){let r=this.columns[t];this.options.tdsVersion<"7_2"?e.writeUInt16LE(0):e.writeUInt32LE(0);let n=a.updateableReadWrite;r.nullable?n|=a.nullable:void 0===r.nullable&&this.options.tdsVersion>="7_2"&&(n|=a.nullableUnknown),e.writeUInt16LE(n),e.writeBuffer(r.type.generateTypeInfo(r,this.options)),r.type.hasTableName&&e.writeUsVarchar(this.table,"ucs2"),e.writeBVarchar(r.name,"ucs2")}return e.data}setTimeout(e){this.timeout=e}createDoneToken(){let e=new i.default(this.options.tdsVersion<"7_2"?9:13);e.writeUInt8(s.TYPE.DONE);let t=l.FINAL;return e.writeUInt16LE(t),e.writeUInt16LE(0),e.writeUInt32LE(0),this.options.tdsVersion>="7_2"&&e.writeUInt32LE(0),e.data}cancel(){this.canceled||(this.canceled=!0,this.emit("cancel"))}}t.default=f,e.exports=f},34132:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.codepageBySortId=t.codepageByLanguageId=t.Flags=t.Collation=void 0;let r={1025:"CP1256",1028:"CP950",1029:"CP1250",1030:"CP1252",1032:"CP1253",1033:"CP1252",1034:"CP1252",1035:"CP1252",1036:"CP1252",1037:"CP1255",1038:"CP1250",1039:"CP1252",1041:"CP932",1042:"CP949",1044:"CP1252",1045:"CP1250",1047:"CP1252",1048:"CP1250",1049:"CP1251",1050:"CP1250",1051:"CP1250",1052:"CP1250",1054:"CP874",1055:"CP1254",1056:"CP1256",1058:"CP1251",1060:"CP1250",1061:"CP1257",1062:"CP1257",1063:"CP1257",1065:"CP1256",1066:"CP1258",1068:"CP1254",1070:"CP1252",1071:"CP1251",1083:"CP1252",1087:"CP1251",1090:"CP1250",1091:"CP1254",1092:"CP1251",1106:"CP1252",1122:"CP1252",1133:"CP1251",1146:"CP1252",1148:"CP1252",1150:"CP1252",1152:"CP1256",1155:"CP1252",1157:"CP1251",1164:"CP1256",2052:"CP936",2074:"CP1250",2092:"CP1251",2107:"CP1252",2143:"CP1252",3076:"CP950",3082:"CP1252",3098:"CP1251",5124:"CP950",5146:"CP1250",8218:"CP1251",1031:"CP1252",1079:"CP1252"};t.codepageByLanguageId=r;let n={30:"CP437",31:"CP437",32:"CP437",33:"CP437",34:"CP437",40:"CP850",41:"CP850",42:"CP850",43:"CP850",44:"CP850",49:"CP850",51:"CP1252",52:"CP1252",53:"CP1252",54:"CP1252",55:"CP850",56:"CP850",57:"CP850",58:"CP850",59:"CP850",60:"CP850",61:"CP850",80:"CP1250",81:"CP1250",82:"CP1250",83:"CP1250",84:"CP1250",85:"CP1250",86:"CP1250",87:"CP1250",88:"CP1250",89:"CP1250",90:"CP1250",91:"CP1250",92:"CP1250",93:"CP1250",94:"CP1250",95:"CP1250",96:"CP1250",104:"CP1251",105:"CP1251",106:"CP1251",107:"CP1251",108:"CP1251",112:"CP1253",113:"CP1253",114:"CP1253",120:"CP1253",121:"CP1253",122:"CP1253",124:"CP1253",128:"CP1254",129:"CP1254",130:"CP1254",136:"CP1255",137:"CP1255",138:"CP1255",144:"CP1256",145:"CP1256",146:"CP1256",152:"CP1257",153:"CP1257",154:"CP1257",155:"CP1257",156:"CP1257",157:"CP1257",158:"CP1257",159:"CP1257",160:"CP1257",183:"CP1252",184:"CP1252",185:"CP1252",186:"CP1252"};t.codepageBySortId=n;let i={IGNORE_CASE:1,IGNORE_ACCENT:2,IGNORE_KANA:4,IGNORE_WIDTH:8,BINARY:16,BINARY2:32,UTF8:64};t.Flags=i;class o{static fromBuffer(e,t=0){let r=(15&e[t+2])<<16;r|=e[t+1]<<8,r|=e[t+0];let n=(15&e[t+3])<<4;return new this(r,n|=(240&e[t+2])>>>4,(240&e[t+3])>>>4,e[t+4])}constructor(e,t,o,s){if(this.buffer=void 0,this.lcid=e,this.flags=t,this.version=o,this.sortId=s,this.flags&i.UTF8)this.codepage="utf-8";else if(this.sortId)this.codepage=n[this.sortId];else{let e=65535&this.lcid;this.codepage=r[e]}}toBuffer(){return this.buffer||(this.buffer=Buffer.alloc(5),this.buffer[0]=255&this.lcid,this.buffer[1]=this.lcid>>>8&255,this.buffer[2]=this.lcid>>>16&15|(15&this.flags)<<4,this.buffer[3]=(240&this.flags)>>>4|(15&this.version)<<4,this.buffer[4]=255&this.sortId),this.buffer}}t.Collation=o},43276:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=Y(r(6113)),i=Y(r(22037)),o=j(r(24404)),s=j(r(41808)),a=Y(r(9523)),l=Y(r(22057)),c=r(12781),u=r(60052),h=Y(r(769)),d=Y(r(32005)),f=r(82361),p=r(60876),m=r(4274),g=r(88897),y=Y(r(14166)),_=Y(r(79409)),E=Y(r(49489)),T=Y(r(91920)),b=Y(r(51532)),w=Y(r(55276)),v=Y(r(29070)),S=r(59889),A=r(43539),I=r(71790),C=r(35245),O=r(93624),N=r(27577),R=Y(r(63640)),D=r(20704),k=r(79408),P=r(47258),M=r(7345),L=Y(r(14941)),x=Y(r(13857)),U=r(19337),F=r(57310),B=r(79302);function q(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(q=function(e){return e?r:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=q(t);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function Y(e){return e&&e.__esModule?e:{default:e}}let H={NORMAL:0,REDIRECT:1,RETRY:2};class V extends f.EventEmitter{_cancelAfterRequestSent;constructor(e){let t;if(super(),"object"!=typeof e||null===e)throw TypeError('The "config" argument is required and must be of type Object.');if("string"!=typeof e.server)throw TypeError('The "config.server" property is required and must be of type string.');if(this.fedAuthRequired=!1,void 0!==e.authentication){if("object"!=typeof e.authentication||null===e.authentication)throw TypeError('The "config.authentication" property must be of type Object.');let r=e.authentication.type,n=void 0===e.authentication.options?{}:e.authentication.options;if("string"!=typeof r)throw TypeError('The "config.authentication.type" property must be of type string.');if("default"!==r&&"ntlm"!==r&&"azure-active-directory-password"!==r&&"azure-active-directory-access-token"!==r&&"azure-active-directory-msi-vm"!==r&&"azure-active-directory-msi-app-service"!==r&&"azure-active-directory-service-principal-secret"!==r&&"azure-active-directory-default"!==r)throw TypeError('The "type" property must one of "default", "ntlm", "azure-active-directory-password", "azure-active-directory-access-token", "azure-active-directory-default", "azure-active-directory-msi-vm" or "azure-active-directory-msi-app-service" or "azure-active-directory-service-principal-secret".');if("object"!=typeof n||null===n)throw TypeError('The "config.authentication.options" property must be of type object.');if("ntlm"===r){if("string"!=typeof n.domain)throw TypeError('The "config.authentication.options.domain" property must be of type string.');if(void 0!==n.userName&&"string"!=typeof n.userName)throw TypeError('The "config.authentication.options.userName" property must be of type string.');if(void 0!==n.password&&"string"!=typeof n.password)throw TypeError('The "config.authentication.options.password" property must be of type string.');t={type:"ntlm",options:{userName:n.userName,password:n.password,domain:n.domain&&n.domain.toUpperCase()}}}else if("azure-active-directory-password"===r){if("string"!=typeof n.clientId)throw TypeError('The "config.authentication.options.clientId" property must be of type string.');if(void 0!==n.userName&&"string"!=typeof n.userName)throw TypeError('The "config.authentication.options.userName" property must be of type string.');if(void 0!==n.password&&"string"!=typeof n.password)throw TypeError('The "config.authentication.options.password" property must be of type string.');if(void 0!==n.tenantId&&"string"!=typeof n.tenantId)throw TypeError('The "config.authentication.options.tenantId" property must be of type string.');t={type:"azure-active-directory-password",options:{userName:n.userName,password:n.password,tenantId:n.tenantId,clientId:n.clientId}}}else if("azure-active-directory-access-token"===r){if("string"!=typeof n.token)throw TypeError('The "config.authentication.options.token" property must be of type string.');t={type:"azure-active-directory-access-token",options:{token:n.token}}}else if("azure-active-directory-msi-vm"===r){if(void 0!==n.clientId&&"string"!=typeof n.clientId)throw TypeError('The "config.authentication.options.clientId" property must be of type string.');t={type:"azure-active-directory-msi-vm",options:{clientId:n.clientId}}}else if("azure-active-directory-default"===r){if(void 0!==n.clientId&&"string"!=typeof n.clientId)throw TypeError('The "config.authentication.options.clientId" property must be of type string.');t={type:"azure-active-directory-default",options:{clientId:n.clientId}}}else if("azure-active-directory-msi-app-service"===r){if(void 0!==n.clientId&&"string"!=typeof n.clientId)throw TypeError('The "config.authentication.options.clientId" property must be of type string.');t={type:"azure-active-directory-msi-app-service",options:{clientId:n.clientId}}}else if("azure-active-directory-service-principal-secret"===r){if("string"!=typeof n.clientId)throw TypeError('The "config.authentication.options.clientId" property must be of type string.');if("string"!=typeof n.clientSecret)throw TypeError('The "config.authentication.options.clientSecret" property must be of type string.');if("string"!=typeof n.tenantId)throw TypeError('The "config.authentication.options.tenantId" property must be of type string.');t={type:"azure-active-directory-service-principal-secret",options:{clientId:n.clientId,clientSecret:n.clientSecret,tenantId:n.tenantId}}}else{if(void 0!==n.userName&&"string"!=typeof n.userName)throw TypeError('The "config.authentication.options.userName" property must be of type string.');if(void 0!==n.password&&"string"!=typeof n.password)throw TypeError('The "config.authentication.options.password" property must be of type string.');t={type:"default",options:{userName:n.userName,password:n.password}}}}else t={type:"default",options:{userName:void 0,password:void 0}};if(this.config={server:e.server,authentication:t,options:{abortTransactionOnError:!1,appName:void 0,camelCaseColumns:!1,cancelTimeout:5e3,columnEncryptionKeyCacheTTL:72e5,columnEncryptionSetting:!1,columnNameReplacer:void 0,connectionRetryInterval:500,connectTimeout:15e3,connector:void 0,connectionIsolationLevel:A.ISOLATION_LEVEL.READ_COMMITTED,cryptoCredentialsDetails:{},database:void 0,datefirst:7,dateFormat:"mdy",debug:{data:!1,packet:!1,payload:!1,token:!1},enableAnsiNull:!0,enableAnsiNullDefault:!0,enableAnsiPadding:!0,enableAnsiWarnings:!0,enableArithAbort:!0,enableConcatNullYieldsNull:!0,enableCursorCloseOnCommit:null,enableImplicitTransactions:!1,enableNumericRoundabort:!1,enableQuotedIdentifier:!0,encrypt:!0,fallbackToDefaultDb:!1,encryptionKeyStoreProviders:void 0,instanceName:void 0,isolationLevel:A.ISOLATION_LEVEL.READ_COMMITTED,language:"us_english",localAddress:void 0,maxRetriesOnTransientErrors:3,multiSubnetFailover:!1,packetSize:4096,port:1433,readOnlyIntent:!1,requestTimeout:15e3,rowCollectionOnDone:!1,rowCollectionOnRequestCompletion:!1,serverName:void 0,serverSupportsColumnEncryption:!1,tdsVersion:"7_4",textsize:2147483647,trustedServerNameAE:void 0,trustServerCertificate:!1,useColumnNames:!1,useUTC:!0,workstationId:void 0,lowerCaseGuids:!1}},e.options){if(e.options.port&&e.options.instanceName)throw Error("Port and instanceName are mutually exclusive, but "+e.options.port+" and "+e.options.instanceName+" provided");if(void 0!==e.options.abortTransactionOnError){if("boolean"!=typeof e.options.abortTransactionOnError&&null!==e.options.abortTransactionOnError)throw TypeError('The "config.options.abortTransactionOnError" property must be of type string or null.');this.config.options.abortTransactionOnError=e.options.abortTransactionOnError}if(void 0!==e.options.appName){if("string"!=typeof e.options.appName)throw TypeError('The "config.options.appName" property must be of type string.');this.config.options.appName=e.options.appName}if(void 0!==e.options.camelCaseColumns){if("boolean"!=typeof e.options.camelCaseColumns)throw TypeError('The "config.options.camelCaseColumns" property must be of type boolean.');this.config.options.camelCaseColumns=e.options.camelCaseColumns}if(void 0!==e.options.cancelTimeout){if("number"!=typeof e.options.cancelTimeout)throw TypeError('The "config.options.cancelTimeout" property must be of type number.');this.config.options.cancelTimeout=e.options.cancelTimeout}if(e.options.columnNameReplacer){if("function"!=typeof e.options.columnNameReplacer)throw TypeError('The "config.options.cancelTimeout" property must be of type function.');this.config.options.columnNameReplacer=e.options.columnNameReplacer}if(void 0!==e.options.connectionIsolationLevel&&((0,A.assertValidIsolationLevel)(e.options.connectionIsolationLevel,"config.options.connectionIsolationLevel"),this.config.options.connectionIsolationLevel=e.options.connectionIsolationLevel),void 0!==e.options.connectTimeout){if("number"!=typeof e.options.connectTimeout)throw TypeError('The "config.options.connectTimeout" property must be of type number.');this.config.options.connectTimeout=e.options.connectTimeout}if(void 0!==e.options.connector){if("function"!=typeof e.options.connector)throw TypeError('The "config.options.connector" property must be a function.');this.config.options.connector=e.options.connector}if(void 0!==e.options.cryptoCredentialsDetails){if("object"!=typeof e.options.cryptoCredentialsDetails||null===e.options.cryptoCredentialsDetails)throw TypeError('The "config.options.cryptoCredentialsDetails" property must be of type Object.');this.config.options.cryptoCredentialsDetails=e.options.cryptoCredentialsDetails}if(void 0!==e.options.database){if("string"!=typeof e.options.database)throw TypeError('The "config.options.database" property must be of type string.');this.config.options.database=e.options.database}if(void 0!==e.options.datefirst){if("number"!=typeof e.options.datefirst&&null!==e.options.datefirst)throw TypeError('The "config.options.datefirst" property must be of type number.');if(null!==e.options.datefirst&&(e.options.datefirst<1||e.options.datefirst>7))throw RangeError('The "config.options.datefirst" property must be >= 1 and <= 7');this.config.options.datefirst=e.options.datefirst}if(void 0!==e.options.dateFormat){if("string"!=typeof e.options.dateFormat&&null!==e.options.dateFormat)throw TypeError('The "config.options.dateFormat" property must be of type string or null.');this.config.options.dateFormat=e.options.dateFormat}if(e.options.debug){if(void 0!==e.options.debug.data){if("boolean"!=typeof e.options.debug.data)throw TypeError('The "config.options.debug.data" property must be of type boolean.');this.config.options.debug.data=e.options.debug.data}if(void 0!==e.options.debug.packet){if("boolean"!=typeof e.options.debug.packet)throw TypeError('The "config.options.debug.packet" property must be of type boolean.');this.config.options.debug.packet=e.options.debug.packet}if(void 0!==e.options.debug.payload){if("boolean"!=typeof e.options.debug.payload)throw TypeError('The "config.options.debug.payload" property must be of type boolean.');this.config.options.debug.payload=e.options.debug.payload}if(void 0!==e.options.debug.token){if("boolean"!=typeof e.options.debug.token)throw TypeError('The "config.options.debug.token" property must be of type boolean.');this.config.options.debug.token=e.options.debug.token}}if(void 0!==e.options.enableAnsiNull){if("boolean"!=typeof e.options.enableAnsiNull&&null!==e.options.enableAnsiNull)throw TypeError('The "config.options.enableAnsiNull" property must be of type boolean or null.');this.config.options.enableAnsiNull=e.options.enableAnsiNull}if(void 0!==e.options.enableAnsiNullDefault){if("boolean"!=typeof e.options.enableAnsiNullDefault&&null!==e.options.enableAnsiNullDefault)throw TypeError('The "config.options.enableAnsiNullDefault" property must be of type boolean or null.');this.config.options.enableAnsiNullDefault=e.options.enableAnsiNullDefault}if(void 0!==e.options.enableAnsiPadding){if("boolean"!=typeof e.options.enableAnsiPadding&&null!==e.options.enableAnsiPadding)throw TypeError('The "config.options.enableAnsiPadding" property must be of type boolean or null.');this.config.options.enableAnsiPadding=e.options.enableAnsiPadding}if(void 0!==e.options.enableAnsiWarnings){if("boolean"!=typeof e.options.enableAnsiWarnings&&null!==e.options.enableAnsiWarnings)throw TypeError('The "config.options.enableAnsiWarnings" property must be of type boolean or null.');this.config.options.enableAnsiWarnings=e.options.enableAnsiWarnings}if(void 0!==e.options.enableArithAbort){if("boolean"!=typeof e.options.enableArithAbort&&null!==e.options.enableArithAbort)throw TypeError('The "config.options.enableArithAbort" property must be of type boolean or null.');this.config.options.enableArithAbort=e.options.enableArithAbort}if(void 0!==e.options.enableConcatNullYieldsNull){if("boolean"!=typeof e.options.enableConcatNullYieldsNull&&null!==e.options.enableConcatNullYieldsNull)throw TypeError('The "config.options.enableConcatNullYieldsNull" property must be of type boolean or null.');this.config.options.enableConcatNullYieldsNull=e.options.enableConcatNullYieldsNull}if(void 0!==e.options.enableCursorCloseOnCommit){if("boolean"!=typeof e.options.enableCursorCloseOnCommit&&null!==e.options.enableCursorCloseOnCommit)throw TypeError('The "config.options.enableCursorCloseOnCommit" property must be of type boolean or null.');this.config.options.enableCursorCloseOnCommit=e.options.enableCursorCloseOnCommit}if(void 0!==e.options.enableImplicitTransactions){if("boolean"!=typeof e.options.enableImplicitTransactions&&null!==e.options.enableImplicitTransactions)throw TypeError('The "config.options.enableImplicitTransactions" property must be of type boolean or null.');this.config.options.enableImplicitTransactions=e.options.enableImplicitTransactions}if(void 0!==e.options.enableNumericRoundabort){if("boolean"!=typeof e.options.enableNumericRoundabort&&null!==e.options.enableNumericRoundabort)throw TypeError('The "config.options.enableNumericRoundabort" property must be of type boolean or null.');this.config.options.enableNumericRoundabort=e.options.enableNumericRoundabort}if(void 0!==e.options.enableQuotedIdentifier){if("boolean"!=typeof e.options.enableQuotedIdentifier&&null!==e.options.enableQuotedIdentifier)throw TypeError('The "config.options.enableQuotedIdentifier" property must be of type boolean or null.');this.config.options.enableQuotedIdentifier=e.options.enableQuotedIdentifier}if(void 0!==e.options.encrypt){if("boolean"!=typeof e.options.encrypt&&"strict"!==e.options.encrypt)throw TypeError('The "encrypt" property must be set to "strict", or of type boolean.');this.config.options.encrypt=e.options.encrypt}if(void 0!==e.options.fallbackToDefaultDb){if("boolean"!=typeof e.options.fallbackToDefaultDb)throw TypeError('The "config.options.fallbackToDefaultDb" property must be of type boolean.');this.config.options.fallbackToDefaultDb=e.options.fallbackToDefaultDb}if(void 0!==e.options.instanceName){if("string"!=typeof e.options.instanceName)throw TypeError('The "config.options.instanceName" property must be of type string.');this.config.options.instanceName=e.options.instanceName,this.config.options.port=void 0}if(void 0!==e.options.isolationLevel&&((0,A.assertValidIsolationLevel)(e.options.isolationLevel,"config.options.isolationLevel"),this.config.options.isolationLevel=e.options.isolationLevel),void 0!==e.options.language){if("string"!=typeof e.options.language&&null!==e.options.language)throw TypeError('The "config.options.language" property must be of type string or null.');this.config.options.language=e.options.language}if(void 0!==e.options.localAddress){if("string"!=typeof e.options.localAddress)throw TypeError('The "config.options.localAddress" property must be of type string.');this.config.options.localAddress=e.options.localAddress}if(void 0!==e.options.multiSubnetFailover){if("boolean"!=typeof e.options.multiSubnetFailover)throw TypeError('The "config.options.multiSubnetFailover" property must be of type boolean.');this.config.options.multiSubnetFailover=e.options.multiSubnetFailover}if(void 0!==e.options.packetSize){if("number"!=typeof e.options.packetSize)throw TypeError('The "config.options.packetSize" property must be of type number.');this.config.options.packetSize=e.options.packetSize}if(void 0!==e.options.port){if("number"!=typeof e.options.port)throw TypeError('The "config.options.port" property must be of type number.');if(e.options.port<=0||e.options.port>=65536)throw RangeError('The "config.options.port" property must be > 0 and < 65536');this.config.options.port=e.options.port,this.config.options.instanceName=void 0}if(void 0!==e.options.readOnlyIntent){if("boolean"!=typeof e.options.readOnlyIntent)throw TypeError('The "config.options.readOnlyIntent" property must be of type boolean.');this.config.options.readOnlyIntent=e.options.readOnlyIntent}if(void 0!==e.options.requestTimeout){if("number"!=typeof e.options.requestTimeout)throw TypeError('The "config.options.requestTimeout" property must be of type number.');this.config.options.requestTimeout=e.options.requestTimeout}if(void 0!==e.options.maxRetriesOnTransientErrors){if("number"!=typeof e.options.maxRetriesOnTransientErrors)throw TypeError('The "config.options.maxRetriesOnTransientErrors" property must be of type number.');if(e.options.maxRetriesOnTransientErrors<0)throw TypeError('The "config.options.maxRetriesOnTransientErrors" property must be equal or greater than 0.');this.config.options.maxRetriesOnTransientErrors=e.options.maxRetriesOnTransientErrors}if(void 0!==e.options.connectionRetryInterval){if("number"!=typeof e.options.connectionRetryInterval)throw TypeError('The "config.options.connectionRetryInterval" property must be of type number.');if(e.options.connectionRetryInterval<=0)throw TypeError('The "config.options.connectionRetryInterval" property must be greater than 0.');this.config.options.connectionRetryInterval=e.options.connectionRetryInterval}if(void 0!==e.options.rowCollectionOnDone){if("boolean"!=typeof e.options.rowCollectionOnDone)throw TypeError('The "config.options.rowCollectionOnDone" property must be of type boolean.');this.config.options.rowCollectionOnDone=e.options.rowCollectionOnDone}if(void 0!==e.options.rowCollectionOnRequestCompletion){if("boolean"!=typeof e.options.rowCollectionOnRequestCompletion)throw TypeError('The "config.options.rowCollectionOnRequestCompletion" property must be of type boolean.');this.config.options.rowCollectionOnRequestCompletion=e.options.rowCollectionOnRequestCompletion}if(void 0!==e.options.tdsVersion){if("string"!=typeof e.options.tdsVersion)throw TypeError('The "config.options.tdsVersion" property must be of type string.');this.config.options.tdsVersion=e.options.tdsVersion}if(void 0!==e.options.textsize){if("number"!=typeof e.options.textsize&&null!==e.options.textsize)throw TypeError('The "config.options.textsize" property must be of type number or null.');if(e.options.textsize>2147483647)throw TypeError('The "config.options.textsize" can\'t be greater than 2147483647.');if(e.options.textsize<-1)throw TypeError('The "config.options.textsize" can\'t be smaller than -1.');this.config.options.textsize=0|e.options.textsize}if(void 0!==e.options.trustServerCertificate){if("boolean"!=typeof e.options.trustServerCertificate)throw TypeError('The "config.options.trustServerCertificate" property must be of type boolean.');this.config.options.trustServerCertificate=e.options.trustServerCertificate}if(void 0!==e.options.serverName){if("string"!=typeof e.options.serverName)throw TypeError('The "config.options.serverName" property must be of type string.');this.config.options.serverName=e.options.serverName}if(void 0!==e.options.useColumnNames){if("boolean"!=typeof e.options.useColumnNames)throw TypeError('The "config.options.useColumnNames" property must be of type boolean.');this.config.options.useColumnNames=e.options.useColumnNames}if(void 0!==e.options.useUTC){if("boolean"!=typeof e.options.useUTC)throw TypeError('The "config.options.useUTC" property must be of type boolean.');this.config.options.useUTC=e.options.useUTC}if(void 0!==e.options.workstationId){if("string"!=typeof e.options.workstationId)throw TypeError('The "config.options.workstationId" property must be of type string.');this.config.options.workstationId=e.options.workstationId}if(void 0!==e.options.lowerCaseGuids){if("boolean"!=typeof e.options.lowerCaseGuids)throw TypeError('The "config.options.lowerCaseGuids" property must be of type boolean.');this.config.options.lowerCaseGuids=e.options.lowerCaseGuids}}this.secureContextOptions=this.config.options.cryptoCredentialsDetails,void 0===this.secureContextOptions.secureOptions&&(this.secureContextOptions=Object.create(this.secureContextOptions,{secureOptions:{value:l.default.SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS}})),this.debug=this.createDebug(),this.inTransaction=!1,this.transactionDescriptors=[Buffer.from([0,0,0,0,0,0,0,0])],this.transactionDepth=0,this.isSqlBatch=!1,this.closed=!1,this.messageBuffer=Buffer.alloc(0),this.curTransientRetryCount=0,this.transientErrorLookup=new m.TransientErrorLookup,this.state=this.STATE.INITIALIZED,this._cancelAfterRequestSent=()=>{this.messageIo.sendMessage(g.TYPE.ATTENTION),this.createCancelTimer()}}connect(e){if(this.state!==this.STATE.INITIALIZED)throw new I.ConnectionError("`.connect` can not be called on a Connection in `"+this.state.name+"` state.");if(e){let t=t=>{this.removeListener("error",r),e(t)},r=r=>{this.removeListener("connect",t),e(r)};this.once("connect",t),this.once("error",r)}this.transitionTo(this.STATE.CONNECTING)}on(e,t){return super.on(e,t)}emit(e,...t){return super.emit(e,...t)}close(){this.transitionTo(this.STATE.FINAL)}initialiseConnection(){let e=this.createConnectTimer();return this.config.options.port?this.connectOnPort(this.config.options.port,this.config.options.multiSubnetFailover,e,this.config.options.connector):(0,p.instanceLookup)({server:this.config.server,instanceName:this.config.options.instanceName,timeout:this.config.options.connectTimeout,signal:e}).then(t=>{process.nextTick(()=>{this.connectOnPort(t,this.config.options.multiSubnetFailover,e,this.config.options.connector)})},t=>{this.clearConnectTimer(),e.aborted||process.nextTick(()=>{this.emit("connect",new I.ConnectionError(t.message,"EINSTLOOKUP"))})})}cleanupConnection(e){if(!this.closed){this.clearConnectTimer(),this.clearRequestTimer(),this.clearRetryTimer(),this.closeConnection(),e===H.REDIRECT?this.emit("rerouting"):e!==H.RETRY&&process.nextTick(()=>{this.emit("end")});let t=this.request;if(t){let e=new I.RequestError("Connection closed before request completed.","ECLOSE");t.callback(e),this.request=void 0}this.closed=!0,this.loginError=void 0}}createDebug(){let e=new d.default(this.config.options.debug);return e.on("debug",e=>{this.emit("debug",e)}),e}createTokenStreamParser(e,t){return new S.Parser(e,this.debug,t,this.config.options)}socketHandlingForSendPreLogin(e){e.on("error",e=>{this.socketError(e)}),e.on("close",()=>{this.socketClose()}),e.on("end",()=>{this.socketEnd()}),e.setKeepAlive(!0,3e4),this.messageIo=new v.default(e,this.config.options.packetSize,this.debug),this.messageIo.on("secure",e=>{this.emit("secure",e)}),this.socket=e,this.closed=!1,this.debug.log("connected to "+this.config.server+":"+this.config.options.port),this.sendPreLogin(),this.transitionTo(this.STATE.SENT_PRELOGIN)}wrapWithTls(e,t){return t.throwIfAborted(),new Promise((r,n)=>{let i=o.createSecureContext(this.secureContextOptions),a=s.isIP(this.config.server)?"":this.config.server,l={host:this.config.server,socket:e,ALPNProtocols:["tds/8.0"],secureContext:i,servername:this.config.options.serverName?this.config.options.serverName:a},c=o.connect(l),u=()=>{c.removeListener("error",h),c.removeListener("connect",d),c.destroy(),n(t.reason)},h=e=>{t.removeEventListener("abort",u),c.removeListener("error",h),c.removeListener("connect",d),c.destroy(),n(e)},d=()=>{t.removeEventListener("abort",u),c.removeListener("error",h),c.removeListener("connect",d),r(c)};t.addEventListener("abort",u,{once:!0}),c.on("error",h),c.on("secureConnect",d)})}connectOnPort(e,t,r,n){let i={host:this.routingData?this.routingData.server:this.config.server,port:this.routingData?this.routingData.port:e,localAddress:this.config.options.localAddress},o=n||(t?C.connectInParallel:C.connectInSequence);(async()=>{let e=await o(i,a.default.lookup,r);if("strict"===this.config.options.encrypt)try{e=await this.wrapWithTls(e,r)}catch(t){throw e.end(),t}this.socketHandlingForSendPreLogin(e)})().catch(e=>{this.clearConnectTimer(),r.aborted||process.nextTick(()=>{this.socketError(e)})})}closeConnection(){this.socket&&this.socket.destroy()}createConnectTimer(){let e=new k.AbortController;return this.connectTimer=setTimeout(()=>{e.abort(),this.connectTimeout()},this.config.options.connectTimeout),e.signal}createCancelTimer(){this.clearCancelTimer();let e=this.config.options.cancelTimeout;e>0&&(this.cancelTimer=setTimeout(()=>{this.cancelTimeout()},e))}createRequestTimer(){this.clearRequestTimer();let e=this.request,t=void 0!==e.timeout?e.timeout:this.config.options.requestTimeout;t&&(this.requestTimer=setTimeout(()=>{this.requestTimeout()},t))}createRetryTimer(){this.clearRetryTimer(),this.retryTimer=setTimeout(()=>{this.retryTimeout()},this.config.options.connectionRetryInterval)}connectTimeout(){let e=this.config.options.port?`:${this.config.options.port}`:`\\${this.config.options.instanceName}`,t=this.routingData?this.routingData.server:this.config.server,r=this.routingData?`:${this.routingData.port}`:e,n=this.routingData?` (redirected from ${this.config.server}${e})`:"",i=`Failed to connect to ${t}${r}${n} in ${this.config.options.connectTimeout}ms`;this.debug.log(i),this.emit("connect",new I.ConnectionError(i,"ETIMEOUT")),this.connectTimer=void 0,this.dispatchEvent("connectTimeout")}cancelTimeout(){let e=`Failed to cancel request in ${this.config.options.cancelTimeout}ms`;this.debug.log(e),this.dispatchEvent("socketError",new I.ConnectionError(e,"ETIMEOUT"))}requestTimeout(){this.requestTimer=void 0;let e=this.request;e.cancel();let t=void 0!==e.timeout?e.timeout:this.config.options.requestTimeout;e.error=new I.RequestError("Timeout: Request failed to complete in "+t+"ms","ETIMEOUT")}retryTimeout(){this.retryTimer=void 0,this.emit("retry"),this.transitionTo(this.STATE.CONNECTING)}clearConnectTimer(){this.connectTimer&&(clearTimeout(this.connectTimer),this.connectTimer=void 0)}clearCancelTimer(){this.cancelTimer&&(clearTimeout(this.cancelTimer),this.cancelTimer=void 0)}clearRequestTimer(){this.requestTimer&&(clearTimeout(this.requestTimer),this.requestTimer=void 0)}clearRetryTimer(){this.retryTimer&&(clearTimeout(this.retryTimer),this.retryTimer=void 0)}transitionTo(e){if(this.state===e){this.debug.log("State is already "+e.name);return}this.state&&this.state.exit&&this.state.exit.call(this,e),this.debug.log("State change: "+(this.state?this.state.name:"undefined")+" -> "+e.name),this.state=e,this.state.enter&&this.state.enter.apply(this)}getEventHandler(e){let t=this.state.events[e];if(!t)throw Error(`No event '${e}' in state '${this.state.name}'`);return t}dispatchEvent(e,...t){let r=this.state.events[e];r?r.apply(this,t):(this.emit("error",Error(`No event '${e}' in state '${this.state.name}'`)),this.close())}socketError(e){if(this.state===this.STATE.CONNECTING||this.state===this.STATE.SENT_TLSSSLNEGOTIATION){let t=this.config.options.port?`:${this.config.options.port}`:`\\${this.config.options.instanceName}`,r=this.routingData?this.routingData.server:this.config.server,n=this.routingData?`:${this.routingData.port}`:t,i=this.routingData?` (redirected from ${this.config.server}${t})`:"",o=`Failed to connect to ${r}${n}${i} - ${e.message}`;this.debug.log(o),this.emit("connect",new I.ConnectionError(o,"ESOCKET"))}else{let t=`Connection lost - ${e.message}`;this.debug.log(t),this.emit("error",new I.ConnectionError(t,"ESOCKET"))}this.dispatchEvent("socketError",e)}socketEnd(){if(this.debug.log("socket ended"),this.state!==this.STATE.FINAL){let e=Error("socket hang up");e.code="ECONNRESET",this.socketError(e)}}socketClose(){if(this.debug.log("connection to "+this.config.server+":"+this.config.options.port+" closed"),this.state===this.STATE.REROUTING)this.debug.log("Rerouting to "+this.routingData.server+":"+this.routingData.port),this.dispatchEvent("reconnect");else if(this.state===this.STATE.TRANSIENT_FAILURE_RETRY){let e=this.routingData?this.routingData.server:this.config.server,t=this.routingData?this.routingData.port:this.config.options.port;this.debug.log("Retry after transient failure connecting to "+e+":"+t),this.dispatchEvent("retry")}else this.transitionTo(this.STATE.FINAL)}sendPreLogin(){let[,e,t,r]=/^(\d+)\.(\d+)\.(\d+)/.exec(U.version)??["0.0.0","0","0","0"],n=new y.default({encrypt:"boolean"==typeof this.config.options.encrypt&&this.config.options.encrypt,version:{major:Number(e),minor:Number(t),build:Number(r),subbuild:0}});this.messageIo.sendMessage(g.TYPE.PRELOGIN,n.data),this.debug.payload(function(){return n.toString("  ")})}sendLogin7Packet(){let e=new _.default({tdsVersion:N.versions[this.config.options.tdsVersion],packetSize:this.config.options.packetSize,clientProgVer:0,clientPid:process.pid,connectionId:0,clientTimeZone:new Date().getTimezoneOffset(),clientLcid:1033}),{authentication:t}=this.config;switch(t.type){case"azure-active-directory-password":e.fedAuth={type:"ADAL",echo:this.fedAuthRequired,workflow:"default"};break;case"azure-active-directory-access-token":e.fedAuth={type:"SECURITYTOKEN",echo:this.fedAuthRequired,fedAuthToken:t.options.token};break;case"azure-active-directory-msi-vm":case"azure-active-directory-default":case"azure-active-directory-msi-app-service":case"azure-active-directory-service-principal-secret":e.fedAuth={type:"ADAL",echo:this.fedAuthRequired,workflow:"integrated"};break;case"ntlm":e.sspi=(0,D.createNTLMRequest)({domain:t.options.domain});break;default:e.userName=t.options.userName,e.password=t.options.password}e.hostname=this.config.options.workstationId||i.default.hostname(),e.serverName=this.routingData?this.routingData.server:this.config.server,e.appName=this.config.options.appName||"Tedious",e.libraryName=O.name,e.language=this.config.options.language,e.database=this.config.options.database,e.clientId=Buffer.from([1,2,3,4,5,6]),e.readOnlyIntent=this.config.options.readOnlyIntent,e.initDbFatal=!this.config.options.fallbackToDefaultDb,this.routingData=void 0,this.messageIo.sendMessage(g.TYPE.LOGIN7,e.toBuffer()),this.debug.payload(function(){return e.toString("  ")})}sendFedAuthTokenMessage(e){let t=Buffer.byteLength(e,"ucs2"),r=Buffer.alloc(8+t),n=0;n=r.writeUInt32LE(t+4,n),n=r.writeUInt32LE(t,n),r.write(e,n,"ucs2"),this.messageIo.sendMessage(g.TYPE.FEDAUTH_TOKEN,r),this.transitionTo(this.STATE.SENT_LOGIN7_WITH_STANDARD_LOGIN)}sendInitialSql(){let e=new w.default(this.getInitialSql(),this.currentTransactionDescriptor(),this.config.options),t=new R.default({type:g.TYPE.SQL_BATCH});this.messageIo.outgoingMessageStream.write(t),c.Readable.from(e).pipe(t)}getInitialSql(){let e=[];return!0===this.config.options.enableAnsiNull?e.push("set ansi_nulls on"):!1===this.config.options.enableAnsiNull&&e.push("set ansi_nulls off"),!0===this.config.options.enableAnsiNullDefault?e.push("set ansi_null_dflt_on on"):!1===this.config.options.enableAnsiNullDefault&&e.push("set ansi_null_dflt_on off"),!0===this.config.options.enableAnsiPadding?e.push("set ansi_padding on"):!1===this.config.options.enableAnsiPadding&&e.push("set ansi_padding off"),!0===this.config.options.enableAnsiWarnings?e.push("set ansi_warnings on"):!1===this.config.options.enableAnsiWarnings&&e.push("set ansi_warnings off"),!0===this.config.options.enableArithAbort?e.push("set arithabort on"):!1===this.config.options.enableArithAbort&&e.push("set arithabort off"),!0===this.config.options.enableConcatNullYieldsNull?e.push("set concat_null_yields_null on"):!1===this.config.options.enableConcatNullYieldsNull&&e.push("set concat_null_yields_null off"),!0===this.config.options.enableCursorCloseOnCommit?e.push("set cursor_close_on_commit on"):!1===this.config.options.enableCursorCloseOnCommit&&e.push("set cursor_close_on_commit off"),null!==this.config.options.datefirst&&e.push(`set datefirst ${this.config.options.datefirst}`),null!==this.config.options.dateFormat&&e.push(`set dateformat ${this.config.options.dateFormat}`),!0===this.config.options.enableImplicitTransactions?e.push("set implicit_transactions on"):!1===this.config.options.enableImplicitTransactions&&e.push("set implicit_transactions off"),null!==this.config.options.language&&e.push(`set language ${this.config.options.language}`),!0===this.config.options.enableNumericRoundabort?e.push("set numeric_roundabort on"):!1===this.config.options.enableNumericRoundabort&&e.push("set numeric_roundabort off"),!0===this.config.options.enableQuotedIdentifier?e.push("set quoted_identifier on"):!1===this.config.options.enableQuotedIdentifier&&e.push("set quoted_identifier off"),null!==this.config.options.textsize&&e.push(`set textsize ${this.config.options.textsize}`),null!==this.config.options.connectionIsolationLevel&&e.push(`set transaction isolation level ${this.getIsolationLevelText(this.config.options.connectionIsolationLevel)}`),!0===this.config.options.abortTransactionOnError?e.push("set xact_abort on"):!1===this.config.options.abortTransactionOnError&&e.push("set xact_abort off"),e.join("\n")}processedInitialSql(){this.clearConnectTimer(),this.emit("connect")}execSqlBatch(e){this.makeRequest(e,g.TYPE.SQL_BATCH,new w.default(e.sqlTextOrProcedure,this.currentTransactionDescriptor(),this.config.options))}execSql(e){try{e.validateParameters(this.databaseCollation)}catch(t){e.error=t,process.nextTick(()=>{this.debug.log(t.message),e.callback(t)});return}let t=[];t.push({type:P.TYPES.NVarChar,name:"statement",value:e.sqlTextOrProcedure,output:!1,length:void 0,precision:void 0,scale:void 0}),e.parameters.length&&(t.push({type:P.TYPES.NVarChar,name:"params",value:e.makeParamsParameter(e.parameters),output:!1,length:void 0,precision:void 0,scale:void 0}),t.push(...e.parameters)),this.makeRequest(e,g.TYPE.RPC_REQUEST,new b.default(L.default.Sp_ExecuteSql,t,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}newBulkLoad(e,t,r){let n;if(void 0===r?(r=t,n={}):n=t,"object"!=typeof n)throw TypeError('"options" argument must be an object');return new h.default(e,this.databaseCollation,this.config.options,n,r)}execBulkLoad(e,t){if(e.executionStarted=!0,t){if(e.streamingMode)throw Error("Connection.execBulkLoad can't be called with a BulkLoad that was put in streaming mode.");if(e.firstRowWritten)throw Error("Connection.execBulkLoad can't be called with a BulkLoad that already has rows written to it.");let r=c.Readable.from(t);r.on("error",t=>{e.rowToPacketTransform.destroy(t)}),e.rowToPacketTransform.on("error",e=>{r.destroy(e)}),r.pipe(e.rowToPacketTransform)}else e.streamingMode||e.rowToPacketTransform.end();let r=()=>{i.cancel()},n=new M.BulkLoadPayload(e),i=new T.default(e.getBulkInsertSql(),t=>{if(e.removeListener("cancel",r),t){"UNKNOWN"===t.code&&(t.message+=" This is likely because the schema of the BulkLoad does not match the schema of the table you are attempting to insert into."),e.error=t,e.callback(t);return}this.makeRequest(e,g.TYPE.BULK_LOAD,n)});e.once("cancel",r),this.execSqlBatch(i)}prepare(e){let t=[];t.push({type:P.TYPES.Int,name:"handle",value:void 0,output:!0,length:void 0,precision:void 0,scale:void 0}),t.push({type:P.TYPES.NVarChar,name:"params",value:e.parameters.length?e.makeParamsParameter(e.parameters):null,output:!1,length:void 0,precision:void 0,scale:void 0}),t.push({type:P.TYPES.NVarChar,name:"stmt",value:e.sqlTextOrProcedure,output:!1,length:void 0,precision:void 0,scale:void 0}),e.preparing=!0,e.on("returnValue",(t,r)=>{"handle"===t?e.handle=r:e.error=new I.RequestError(`Tedious > Unexpected output parameter ${t} from sp_prepare`)}),this.makeRequest(e,g.TYPE.RPC_REQUEST,new b.default(L.default.Sp_Prepare,t,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}unprepare(e){let t=[];t.push({type:P.TYPES.Int,name:"handle",value:e.handle,output:!1,length:void 0,precision:void 0,scale:void 0}),this.makeRequest(e,g.TYPE.RPC_REQUEST,new b.default(L.default.Sp_Unprepare,t,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}execute(e,t){let r=[];r.push({type:P.TYPES.Int,name:"",value:e.handle,output:!1,length:void 0,precision:void 0,scale:void 0});try{for(let n=0,i=e.parameters.length;n<i;n++){let i=e.parameters[n];r.push({...i,value:i.type.validate(t?t[i.name]:null,this.databaseCollation)})}}catch(t){e.error=t,process.nextTick(()=>{this.debug.log(t.message),e.callback(t)});return}this.makeRequest(e,g.TYPE.RPC_REQUEST,new b.default(L.default.Sp_Execute,r,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}callProcedure(e){try{e.validateParameters(this.databaseCollation)}catch(t){e.error=t,process.nextTick(()=>{this.debug.log(t.message),e.callback(t)});return}this.makeRequest(e,g.TYPE.RPC_REQUEST,new b.default(e.sqlTextOrProcedure,e.parameters,this.currentTransactionDescriptor(),this.config.options,this.databaseCollation))}beginTransaction(e,t="",r=this.config.options.isolationLevel){(0,A.assertValidIsolationLevel)(r,"isolationLevel");let n=new A.Transaction(t,r);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new T.default("SET TRANSACTION ISOLATION LEVEL "+n.isolationLevelToTSQL()+";BEGIN TRAN "+n.name,t=>{this.transactionDepth++,1===this.transactionDepth&&(this.inTransaction=!0),e(t)}));let i=new T.default(void 0,t=>e(t,this.currentTransactionDescriptor()));return this.makeRequest(i,g.TYPE.TRANSACTION_MANAGER,n.beginPayload(this.currentTransactionDescriptor()))}commitTransaction(e,t=""){let r=new A.Transaction(t);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new T.default("COMMIT TRAN "+r.name,t=>{this.transactionDepth--,0===this.transactionDepth&&(this.inTransaction=!1),e(t)}));let n=new T.default(void 0,e);return this.makeRequest(n,g.TYPE.TRANSACTION_MANAGER,r.commitPayload(this.currentTransactionDescriptor()))}rollbackTransaction(e,t=""){let r=new A.Transaction(t);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new T.default("ROLLBACK TRAN "+r.name,t=>{this.transactionDepth--,0===this.transactionDepth&&(this.inTransaction=!1),e(t)}));let n=new T.default(void 0,e);return this.makeRequest(n,g.TYPE.TRANSACTION_MANAGER,r.rollbackPayload(this.currentTransactionDescriptor()))}saveTransaction(e,t){let r=new A.Transaction(t);if(this.config.options.tdsVersion<"7_2")return this.execSqlBatch(new T.default("SAVE TRAN "+r.name,t=>{this.transactionDepth++,e(t)}));let n=new T.default(void 0,e);return this.makeRequest(n,g.TYPE.TRANSACTION_MANAGER,r.savePayload(this.currentTransactionDescriptor()))}transaction(e,t){if("function"!=typeof e)throw TypeError("`cb` must be a function");let r=this.inTransaction,i="_tedious_"+n.default.randomBytes(10).toString("hex"),o=(e,t,...n)=>{e?this.inTransaction&&this.state===this.STATE.LOGGED_IN?this.rollbackTransaction(r=>{t(r||e,...n)},i):t(e,...n):r?(this.config.options.tdsVersion<"7_2"&&this.transactionDepth--,t(null,...n)):this.commitTransaction(e=>{t(e,...n)},i)};return r?this.saveTransaction(r=>r?e(r):t?this.execSqlBatch(new T.default("SET transaction isolation level "+this.getIsolationLevelText(t),t=>e(t,o))):e(null,o),i):this.beginTransaction(t=>t?e(t):e(null,o),i,t)}makeRequest(e,t,r){if(this.state!==this.STATE.LOGGED_IN){let t="Requests can only be made in the "+this.STATE.LOGGED_IN.name+" state, not the "+this.state.name+" state";this.debug.log(t),e.callback(new I.RequestError(t,"EINVALIDSTATE"))}else if(e.canceled)process.nextTick(()=>{e.callback(new I.RequestError("Canceled.","ECANCEL"))});else{t===g.TYPE.SQL_BATCH?this.isSqlBatch=!0:this.isSqlBatch=!1,this.request=e,e.connection=this,e.rowCount=0,e.rows=[],e.rst=[];let n=()=>{o.unpipe(i),o.destroy(new I.RequestError("Canceled.","ECANCEL")),i.ignore=!0,i.end(),e instanceof T.default&&e.paused&&e.resume()};e.once("cancel",n),this.createRequestTimer();let i=new R.default({type:t,resetConnection:this.resetConnectionOnNextRequest});this.messageIo.outgoingMessageStream.write(i),this.transitionTo(this.STATE.SENT_CLIENT_REQUEST),i.once("finish",()=>{e.removeListener("cancel",n),e.once("cancel",this._cancelAfterRequestSent),this.resetConnectionOnNextRequest=!1,this.debug.payload(function(){return r.toString("  ")})});let o=c.Readable.from(r);o.once("error",t=>{o.unpipe(i),e.error??=t,i.ignore=!0,i.end()}),o.pipe(i)}}cancel(){return!!this.request&&!this.request.canceled&&(this.request.cancel(),!0)}reset(e){let t=new T.default(this.getInitialSql(),t=>{this.config.options.tdsVersion<"7_2"&&(this.inTransaction=!1),e(t)});this.resetConnectionOnNextRequest=!0,this.execSqlBatch(t)}currentTransactionDescriptor(){return this.transactionDescriptors[this.transactionDescriptors.length-1]}getIsolationLevelText(e){switch(e){case A.ISOLATION_LEVEL.READ_UNCOMMITTED:return"read uncommitted";case A.ISOLATION_LEVEL.REPEATABLE_READ:return"repeatable read";case A.ISOLATION_LEVEL.SERIALIZABLE:return"serializable";case A.ISOLATION_LEVEL.SNAPSHOT:return"snapshot";default:return"read committed"}}}function $(e){return e instanceof x.default&&(e=e.errors[0]),e instanceof I.ConnectionError&&!!e.isTransient}t.default=V,e.exports=V,V.prototype.STATE={INITIALIZED:{name:"Initialized",events:{}},CONNECTING:{name:"Connecting",enter:function(){this.initialiseConnection()},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_PRELOGIN:{name:"SentPrelogin",enter:function(){(async()=>{let e,t=Buffer.alloc(0);try{e=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}for await(let r of e)t=Buffer.concat([t,r]);let r=new y.default(t);if(this.debug.payload(function(){return r.toString("  ")}),1===r.fedAuthRequired&&(this.fedAuthRequired=!0),"strict"!==this.config.options.encrypt&&("ON"===r.encryptionString||"REQ"===r.encryptionString)){if(!this.config.options.encrypt)return this.emit("connect",new I.ConnectionError("Server requires encryption, set 'encrypt' config option to true.","EENCRYPT")),this.close();try{var n;this.transitionTo(this.STATE.SENT_TLSSSLNEGOTIATION),await this.messageIo.startTls(this.secureContextOptions,this.config.options.serverName?this.config.options.serverName:(null===(n=this.routingData)||void 0===n?void 0:n.server)??this.config.server,this.config.options.trustServerCertificate)}catch(e){return this.socketError(e)}}this.sendLogin7Packet();let{authentication:i}=this.config;switch(i.type){case"azure-active-directory-password":case"azure-active-directory-msi-vm":case"azure-active-directory-msi-app-service":case"azure-active-directory-service-principal-secret":case"azure-active-directory-default":this.transitionTo(this.STATE.SENT_LOGIN7_WITH_FEDAUTH);break;case"ntlm":this.transitionTo(this.STATE.SENT_LOGIN7_WITH_NTLM);break;default:this.transitionTo(this.STATE.SENT_LOGIN7_WITH_STANDARD_LOGIN)}})().catch(e=>{process.nextTick(()=>{throw e})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},REROUTING:{name:"ReRouting",enter:function(){this.cleanupConnection(H.REDIRECT)},events:{message:function(){},socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)},reconnect:function(){this.transitionTo(this.STATE.CONNECTING)}}},TRANSIENT_FAILURE_RETRY:{name:"TRANSIENT_FAILURE_RETRY",enter:function(){this.curTransientRetryCount++,this.cleanupConnection(H.RETRY)},events:{message:function(){},socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)},retry:function(){this.createRetryTimer()}}},SENT_TLSSSLNEGOTIATION:{name:"SentTLSSSLNegotiation",events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_LOGIN7_WITH_STANDARD_LOGIN:{name:"SentLogin7WithStandardLogin",enter:function(){(async()=>{let e;try{e=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}let t=new B.Login7TokenHandler(this),r=this.createTokenStreamParser(e,t);await (0,f.once)(r,"end"),t.loginAckReceived?t.routingData?(this.routingData=t.routingData,this.transitionTo(this.STATE.REROUTING)):this.transitionTo(this.STATE.LOGGED_IN_SENDING_INITIAL_SQL):this.loginError?$(this.loginError)?(this.debug.log("Initiating retry on transient error"),this.transitionTo(this.STATE.TRANSIENT_FAILURE_RETRY)):(this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL)):(this.emit("connect",new I.ConnectionError("Login failed.","ELOGIN")),this.transitionTo(this.STATE.FINAL))})().catch(e=>{process.nextTick(()=>{throw e})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_LOGIN7_WITH_NTLM:{name:"SentLogin7WithNTLMLogin",enter:function(){(async()=>{for(;;){let e;try{e=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}let t=new B.Login7TokenHandler(this),r=this.createTokenStreamParser(e,t);if(await (0,f.once)(r,"end"),t.loginAckReceived){if(t.routingData)return this.routingData=t.routingData,this.transitionTo(this.STATE.REROUTING);return this.transitionTo(this.STATE.LOGGED_IN_SENDING_INITIAL_SQL)}if(this.ntlmpacket){let e=this.config.authentication,t=new E.default({domain:e.options.domain,userName:e.options.userName,password:e.options.password,ntlmpacket:this.ntlmpacket});this.messageIo.sendMessage(g.TYPE.NTLMAUTH_PKT,t.data),this.debug.payload(function(){return t.toString("  ")}),this.ntlmpacket=void 0}else{if(!this.loginError)return this.emit("connect",new I.ConnectionError("Login failed.","ELOGIN")),this.transitionTo(this.STATE.FINAL);if($(this.loginError))return this.debug.log("Initiating retry on transient error"),this.transitionTo(this.STATE.TRANSIENT_FAILURE_RETRY);return this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL)}}})().catch(e=>{process.nextTick(()=>{throw e})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_LOGIN7_WITH_FEDAUTH:{name:"SentLogin7Withfedauth",enter:function(){(async()=>{let e;try{e=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}let t=new B.Login7TokenHandler(this),r=this.createTokenStreamParser(e,t);if(await (0,f.once)(r,"end"),t.loginAckReceived){t.routingData?(this.routingData=t.routingData,this.transitionTo(this.STATE.REROUTING)):this.transitionTo(this.STATE.LOGGED_IN_SENDING_INITIAL_SQL);return}let n=t.fedAuthInfoToken;if(n&&n.stsurl&&n.spn){let e,t;let r=this.config.authentication,i=new F.URL("/.default",n.spn).toString();switch(r.type){case"azure-active-directory-password":e=new u.UsernamePasswordCredential(r.options.tenantId??"common",r.options.clientId,r.options.userName,r.options.password);break;case"azure-active-directory-msi-vm":case"azure-active-directory-msi-app-service":let o=r.options.clientId?[r.options.clientId,{}]:[{}];e=new u.ManagedIdentityCredential(...o);break;case"azure-active-directory-default":let s=r.options.clientId?{managedIdentityClientId:r.options.clientId}:{};e=new u.DefaultAzureCredential(s);break;case"azure-active-directory-service-principal-secret":e=new u.ClientSecretCredential(r.options.tenantId,r.options.clientId,r.options.clientSecret)}try{t=await e.getToken(i)}catch(e){this.loginError=new x.default([new I.ConnectionError("Security token could not be authenticated or authorized.","EFEDAUTH"),e]),this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL);return}let a=t.token;this.sendFedAuthTokenMessage(a)}else this.loginError?$(this.loginError)?(this.debug.log("Initiating retry on transient error"),this.transitionTo(this.STATE.TRANSIENT_FAILURE_RETRY)):(this.emit("connect",this.loginError),this.transitionTo(this.STATE.FINAL)):(this.emit("connect",new I.ConnectionError("Login failed.","ELOGIN")),this.transitionTo(this.STATE.FINAL))})().catch(e=>{process.nextTick(()=>{throw e})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},LOGGED_IN_SENDING_INITIAL_SQL:{name:"LoggedInSendingInitialSql",enter:function(){(async()=>{let e;this.sendInitialSql();try{e=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}let t=this.createTokenStreamParser(e,new B.InitialSqlTokenHandler(this));await (0,f.once)(t,"end"),this.transitionTo(this.STATE.LOGGED_IN),this.processedInitialSql()})().catch(e=>{process.nextTick(()=>{throw e})})},events:{socketError:function(){this.transitionTo(this.STATE.FINAL)},connectTimeout:function(){this.transitionTo(this.STATE.FINAL)}}},LOGGED_IN:{name:"LoggedIn",events:{socketError:function(){this.transitionTo(this.STATE.FINAL)}}},SENT_CLIENT_REQUEST:{name:"SentClientRequest",enter:function(){(async(e,t,r)=>{let n;try{n=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}this.clearRequestTimer();let i=this.createTokenStreamParser(n,new B.RequestTokenHandler(this,this.request));if(null!==(e=this.request)&&void 0!==e&&e.canceled&&this.cancelTimer)return this.transitionTo(this.STATE.SENT_ATTENTION);let o=()=>{i.resume()},s=()=>{var e;i.pause(),null===(e=this.request)||void 0===e||e.once("resume",o)};null===(t=this.request)||void 0===t||t.on("pause",s),this.request instanceof T.default&&this.request.paused&&s();let a=()=>{var e,t;i.removeListener("end",l),this.request instanceof T.default&&this.request.paused&&this.request.resume(),null===(e=this.request)||void 0===e||e.removeListener("pause",s),null===(t=this.request)||void 0===t||t.removeListener("resume",o),this.transitionTo(this.STATE.SENT_ATTENTION)},l=()=>{var e,t,r,n;null===(e=this.request)||void 0===e||e.removeListener("cancel",this._cancelAfterRequestSent),null===(t=this.request)||void 0===t||t.removeListener("cancel",a),null===(r=this.request)||void 0===r||r.removeListener("pause",s),null===(n=this.request)||void 0===n||n.removeListener("resume",o),this.transitionTo(this.STATE.LOGGED_IN);let i=this.request;this.request=void 0,this.config.options.tdsVersion<"7_2"&&i.error&&this.isSqlBatch&&(this.inTransaction=!1),i.callback(i.error,i.rowCount,i.rows)};i.once("end",l),null===(r=this.request)||void 0===r||r.once("cancel",a)})()},exit:function(e){this.clearRequestTimer()},events:{socketError:function(e){let t=this.request;this.request=void 0,this.transitionTo(this.STATE.FINAL),t.callback(e)}}},SENT_ATTENTION:{name:"SentAttention",enter:function(){(async()=>{let e;try{e=await this.messageIo.readMessage()}catch(e){return this.socketError(e)}let t=new B.AttentionTokenHandler(this,this.request),r=this.createTokenStreamParser(e,t);if(await (0,f.once)(r,"end"),t.attentionReceived){this.clearCancelTimer();let e=this.request;this.request=void 0,this.transitionTo(this.STATE.LOGGED_IN),e.error&&e.error instanceof I.RequestError&&"ETIMEOUT"===e.error.code?e.callback(e.error):e.callback(new I.RequestError("Canceled.","ECANCEL"))}})().catch(e=>{process.nextTick(()=>{throw e})})},events:{socketError:function(e){let t=this.request;this.request=void 0,this.transitionTo(this.STATE.FINAL),t.callback(e)}}},FINAL:{name:"Final",enter:function(){this.cleanupConnection(H.NORMAL)},events:{connectTimeout:function(){},message:function(){},socketError:function(){}}}}},35245:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connectInParallel=l,t.connectInSequence=c,t.lookupAllAddresses=u;var n=a(r(41808)),i=a(r(41041)),o=a(r(62405)),s=a(r(13857));function a(e){return e&&e.__esModule?e:{default:e}}async function l(e,t,r){if(r.aborted)throw new o.default;let i=await u(e.host,t,r);return await new Promise((t,a)=>{let l=Array(i.length),c=[];function u(e){c.push(e),this.removeListener("error",u),this.removeListener("connect",h),this.destroy(),c.length===i.length&&(r.removeEventListener("abort",d),a(new s.default(c,"Could not connect (parallel)")))}function h(){r.removeEventListener("abort",d);for(let e=0;e<l.length;e++){let t=l[e];this!==t&&(t.removeListener("error",u),t.removeListener("connect",h),t.destroy())}t(this)}let d=()=>{for(let e=0;e<l.length;e++){let t=l[e];t.removeListener("error",u),t.removeListener("connect",h),t.destroy()}a(new o.default)};for(let t=0,r=i.length;t<r;t++){let r=l[t]=n.default.connect({...e,host:i[t].address,family:i[t].family});r.on("error",u),r.on("connect",h)}r.addEventListener("abort",d,{once:!0})})}async function c(e,t,r){if(r.aborted)throw new o.default;let i=[];for(let s of(await u(e.host,t,r)))try{return await new Promise((t,i)=>{let a=n.default.connect({...e,host:s.address,family:s.family}),l=()=>{a.removeListener("error",c),a.removeListener("connect",u),a.destroy(),i(new o.default)},c=e=>{r.removeEventListener("abort",l),a.removeListener("error",c),a.removeListener("connect",u),a.destroy(),i(e)},u=()=>{r.removeEventListener("abort",l),a.removeListener("error",c),a.removeListener("connect",u),t(a)};r.addEventListener("abort",l,{once:!0}),a.on("error",c),a.on("connect",u)})}catch(e){if(e instanceof Error&&"AbortError"===e.name)throw e;i.push(e);continue}throw new s.default(i,"Could not connect (sequence)")}async function u(e,t,r){if(r.aborted)throw new o.default;return n.default.isIPv6(e)?[{address:e,family:6}]:n.default.isIPv4(e)?[{address:e,family:4}]:await new Promise((n,s)=>{let a=()=>{s(new o.default)};r.addEventListener("abort",a),t(i.default.domainToASCII(e),{all:!0},(e,t)=>{r.removeEventListener("abort",a),e?s(e):n(t)})})}},47258:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.typeByName=t.TYPES=t.TYPE=void 0;var n=Y(r(81015)),i=Y(r(98269)),o=Y(r(96674)),s=Y(r(33177)),a=Y(r(2650)),l=Y(r(94457)),c=Y(r(37718)),u=Y(r(1241)),h=Y(r(80981)),d=Y(r(29357)),f=Y(r(68386)),p=Y(r(20206)),m=Y(r(97837)),g=Y(r(28220)),y=Y(r(24971)),_=Y(r(37615)),E=Y(r(97101)),T=Y(r(28061)),b=Y(r(73338)),w=Y(r(33155)),v=Y(r(34177)),S=Y(r(29233)),A=Y(r(8294)),I=Y(r(92391)),C=Y(r(21937)),O=Y(r(76349)),N=Y(r(6266)),R=Y(r(93728)),D=Y(r(31547)),k=Y(r(88071)),P=Y(r(54169)),M=Y(r(76940)),L=Y(r(43710)),x=Y(r(16234)),U=Y(r(61575)),F=Y(r(59640)),B=Y(r(60771)),q=Y(r(55988)),j=Y(r(1834));function Y(e){return e&&e.__esModule?e:{default:e}}let H={[n.default.id]:n.default,[i.default.id]:i.default,[o.default.id]:o.default,[s.default.id]:s.default,[a.default.id]:a.default,[l.default.id]:l.default,[c.default.id]:c.default,[u.default.id]:u.default,[h.default.id]:h.default,[d.default.id]:d.default,[f.default.id]:f.default,[p.default.id]:p.default,[m.default.id]:m.default,[g.default.id]:g.default,[y.default.id]:y.default,[_.default.id]:_.default,[E.default.id]:E.default,[T.default.id]:T.default,[b.default.id]:b.default,[w.default.id]:w.default,[v.default.id]:v.default,[S.default.id]:S.default,[A.default.id]:A.default,[I.default.id]:I.default,[C.default.id]:C.default,[O.default.id]:O.default,[N.default.id]:N.default,[R.default.id]:R.default,[D.default.id]:D.default,[k.default.id]:k.default,[P.default.id]:P.default,[M.default.id]:M.default,[L.default.id]:L.default,[x.default.id]:x.default,[U.default.id]:U.default,[F.default.id]:F.default,[B.default.id]:B.default,[q.default.id]:q.default,[j.default.id]:j.default};t.TYPE=H;let V={TinyInt:i.default,Bit:o.default,SmallInt:s.default,Int:a.default,SmallDateTime:l.default,Real:c.default,Money:u.default,DateTime:h.default,Float:d.default,Decimal:f.default,Numeric:p.default,SmallMoney:m.default,BigInt:g.default,Image:y.default,Text:_.default,UniqueIdentifier:E.default,NText:b.default,VarBinary:O.default,VarChar:N.default,Binary:R.default,Char:D.default,NVarChar:k.default,NChar:P.default,Xml:M.default,Time:L.default,Date:x.default,DateTime2:U.default,DateTimeOffset:F.default,UDT:B.default,TVP:q.default,Variant:j.default};t.TYPES=V,t.typeByName=V},28220:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(28061)),i=o(r(24927));function o(e){return e&&e.__esModule?e:{default:e}}let s=Buffer.from([8]),a=Buffer.from([0]),l={id:127,type:"INT8",name:"BigInt",declaration:function(){return"bigint"},generateTypeInfo:()=>Buffer.from([n.default.id,8]),generateParameterLength:(e,t)=>null==e.value?a:s,*generateParameterData(e,t){if(null==e.value)return;let r=new i.default(8);r.writeInt64LE(Number(e.value)),yield r.data},validate:function(e){if(null==e)return null;if("number"!=typeof e&&(e=Number(e)),isNaN(e))throw TypeError("Invalid number.");if(e<Number.MIN_SAFE_INTEGER||e>Number.MAX_SAFE_INTEGER)throw TypeError(`Value must be between ${Number.MIN_SAFE_INTEGER} and ${Number.MAX_SAFE_INTEGER}, inclusive.  For smaller or bigger numbers, use VarChar type.`);return e}};t.default=l,e.exports=l},93728:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r=Buffer.from([255,255]),n={id:173,type:"BIGBinary",name:"Binary",maximumLength:8e3,declaration:function(e){let t=e.value;return"binary("+(e.length?e.length:null!=t?t.length||1:null!==t||e.output?this.maximumLength:1)+")"},resolveLength:function(e){let t=e.value;return null!=t?t.length:this.maximumLength},generateTypeInfo(e){let t=Buffer.alloc(3);return t.writeUInt8(this.id,0),t.writeUInt16LE(e.length,1),t},generateParameterLength(e,t){if(null==e.value)return r;let n=Buffer.alloc(2);return n.writeUInt16LE(e.length,0),n},*generateParameterData(e,t){null!=e.value&&(yield e.value.slice(0,void 0!==e.length?Math.min(e.length,this.maximumLength):this.maximumLength))},validate:function(e){if(null==e)return null;if(!Buffer.isBuffer(e))throw TypeError("Invalid buffer.");return e}};t.default=n,e.exports=n},96674:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(33155));let i=Buffer.from([1]),o=Buffer.from([0]),s={id:50,type:"BIT",name:"Bit",declaration:function(){return"bit"},generateTypeInfo:()=>Buffer.from([n.default.id,1]),generateParameterLength:(e,t)=>null==e.value?o:i,*generateParameterData(e,t){null!=e.value&&(yield e.value?Buffer.from([1]):Buffer.from([0]))},validate:function(e){return null==e?null:!!e}};t.default=s,e.exports=s},33155:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:104,type:"BITN",name:"BitN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},*generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},31547:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(13751));let i=Buffer.from([255,255]),o={id:175,type:"BIGCHAR",name:"Char",maximumLength:8e3,declaration:function(e){let t;let r=e.value;return(t=e.length?e.length:null!=r?r.length||1:null!==r||e.output?this.maximumLength:1)<this.maximumLength?"char("+t+")":"char("+this.maximumLength+")"},resolveLength:function(e){let t=e.value;return null!=e.length?e.length:null!=t?t.length||1:this.maximumLength},generateTypeInfo(e){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),t.writeUInt16LE(e.length,1),e.collation&&e.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(e,t){let r=e.value;if(null==r)return i;let n=Buffer.alloc(2);return n.writeUInt16LE(r.length,0),n},*generateParameterData(e,t){null!=e.value&&(yield Buffer.from(e.value,"ascii"))},validate:function(e,t){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");if(!t)throw Error("No collation was set by the server for the current connection.");if(!t.codepage)throw Error("The collation set by the server has no associated encoding.");return n.default.encode(e,t.codepage)}};t.default=o,e.exports=o},16234:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(77341);let i=global.Date,o=n.LocalDate.ofYearDay(1,1),s=Buffer.from([0]),a=Buffer.from([3]),l={id:40,type:"DATEN",name:"Date",declaration:function(){return"date"},generateTypeInfo:function(){return Buffer.from([this.id])},generateParameterLength:(e,t)=>null==e.value?s:a,*generateParameterData(e,t){let r;if(null==e.value)return;let i=e.value;r=t.useUTC?n.LocalDate.of(i.getUTCFullYear(),i.getUTCMonth()+1,i.getUTCDate()):n.LocalDate.of(i.getFullYear(),i.getMonth()+1,i.getDate());let s=o.until(r,n.ChronoUnit.DAYS),a=Buffer.alloc(3);a.writeUIntLE(s,0,3),yield a},validate:function(e,t,r){let n;if(null==e)return null;if(e instanceof i||(e=new i(i.parse(e))),(n=r&&r.useUTC?e.getUTCFullYear():e.getFullYear())<1||n>9999)throw TypeError("Out of range.");if(isNaN(e))throw TypeError("Invalid date.");return e}};t.default=l,e.exports=l},80981:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(21937)),i=r(77341);let o=i.LocalDate.ofYearDay(1900,1),s=Buffer.from([0]),a=Buffer.from([8]),l={id:61,type:"DATETIME",name:"DateTime",declaration:function(){return"datetime"},generateTypeInfo:()=>Buffer.from([n.default.id,8]),generateParameterLength:(e,t)=>null==e.value?s:a,generateParameterData:function*(e,t){let r,n,s;if(null==e.value)return;let a=e.value;r=t.useUTC?i.LocalDate.of(a.getUTCFullYear(),a.getUTCMonth()+1,a.getUTCDate()):i.LocalDate.of(a.getFullYear(),a.getMonth()+1,a.getDate());let l=o.until(r,i.ChronoUnit.DAYS);if(t.useUTC){let e=3600*a.getUTCHours();e+=60*a.getUTCMinutes()+a.getUTCSeconds(),n=1e3*e+a.getUTCMilliseconds()}else{let e=3600*a.getHours();e+=60*a.getMinutes()+a.getSeconds(),n=1e3*e+a.getMilliseconds()}2592e4===(s=Math.round(s=n/(3+1/3)))&&(l+=1,s=0);let c=Buffer.alloc(8);c.writeInt32LE(l,0),c.writeUInt32LE(s,4),yield c},validate:function(e,t,r){let n;if(null==e)return null;if(e instanceof Date||(e=new Date(Date.parse(e))),(n=r&&r.useUTC?e.getUTCFullYear():e.getFullYear())<1753||n>9999)throw TypeError("Out of range.");if(isNaN(e))throw TypeError("Invalid date.");return e}};t.default=l,e.exports=l},61575:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(77341),i=function(e){return e&&e.__esModule?e:{default:e}}(r(24927));let o=n.LocalDate.ofYearDay(1,1),s=Buffer.from([0]),a={id:42,type:"DATETIME2N",name:"DateTime2",declaration:function(e){return"datetime2("+this.resolveScale(e)+")"},resolveScale:function(e){return null!=e.scale?e.scale:null===e.value?0:7},generateTypeInfo(e,t){return Buffer.from([this.id,e.scale])},generateParameterLength(e,t){if(null==e.value)return s;switch(e.scale){case 0:case 1:case 2:return Buffer.from([6]);case 3:case 4:return Buffer.from([7]);case 5:case 6:case 7:return Buffer.from([8]);default:throw Error("invalid scale")}},*generateParameterData(e,t){let r,s;if(null==e.value)return;let a=e.value,l=e.scale,c=new i.default(16);switch(r=Math.round(r=(t.useUTC?((60*a.getUTCHours()+a.getUTCMinutes())*60+a.getUTCSeconds())*1e3+a.getUTCMilliseconds():((60*a.getHours()+a.getMinutes())*60+a.getSeconds())*1e3+a.getMilliseconds())*Math.pow(10,l-3)+(null!=a.nanosecondDelta?a.nanosecondDelta:0)*Math.pow(10,l)),l){case 0:case 1:case 2:c.writeUInt24LE(r);break;case 3:case 4:c.writeUInt32LE(r);break;case 5:case 6:case 7:c.writeUInt40LE(r)}s=t.useUTC?n.LocalDate.of(a.getUTCFullYear(),a.getUTCMonth()+1,a.getUTCDate()):n.LocalDate.of(a.getFullYear(),a.getMonth()+1,a.getDate());let u=o.until(s,n.ChronoUnit.DAYS);c.writeUInt24LE(u),yield c.data},validate:function(e,t,r){let n;if(null==e)return null;if(e instanceof Date||(e=new Date(Date.parse(e))),(n=r&&r.useUTC?e.getUTCFullYear():e.getFullYear())<1||n>9999)throw TypeError("Out of range.");if(isNaN(e))throw TypeError("Invalid date.");return e}};t.default=a,e.exports=a},21937:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:111,type:"DATETIMN",name:"DateTimeN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},59640:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(77341),i=function(e){return e&&e.__esModule?e:{default:e}}(r(24927));let o=n.LocalDate.ofYearDay(1,1),s=Buffer.from([0]),a={id:43,type:"DATETIMEOFFSETN",name:"DateTimeOffset",declaration:function(e){return"datetimeoffset("+this.resolveScale(e)+")"},resolveScale:function(e){return null!=e.scale?e.scale:null===e.value?0:7},generateTypeInfo(e){return Buffer.from([this.id,e.scale])},generateParameterLength(e,t){if(null==e.value)return s;switch(e.scale){case 0:case 1:case 2:return Buffer.from([8]);case 3:case 4:return Buffer.from([9]);case 5:case 6:case 7:return Buffer.from([10]);default:throw Error("invalid scale")}},*generateParameterData(e,t){let r;if(null==e.value)return;let s=e.value,a=e.scale,l=new i.default(16);switch(r=Math.round(r=(((60*s.getUTCHours()+s.getUTCMinutes())*60+s.getUTCSeconds())*1e3+s.getMilliseconds())*Math.pow(10,a-3)+(null!=s.nanosecondDelta?s.nanosecondDelta:0)*Math.pow(10,a)),a){case 0:case 1:case 2:l.writeUInt24LE(r);break;case 3:case 4:l.writeUInt32LE(r);break;case 5:case 6:case 7:l.writeUInt40LE(r)}let c=n.LocalDate.of(s.getUTCFullYear(),s.getUTCMonth()+1,s.getUTCDate()),u=o.until(c,n.ChronoUnit.DAYS);l.writeUInt24LE(u);let h=-s.getTimezoneOffset();l.writeInt16LE(h),yield l.data},validate:function(e,t,r){let n;if(null==e)return null;if(e instanceof Date||(e=new Date(Date.parse(e))),(n=r&&r.useUTC?e.getUTCFullYear():e.getFullYear())<1||n>9999)throw TypeError("Out of range.");if(isNaN(e))throw TypeError("Invalid date.");return e}};t.default=a,e.exports=a},68386:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(34177)),i=o(r(24927));function o(e){return e&&e.__esModule?e:{default:e}}let s=Buffer.from([0]),a={id:55,type:"DECIMAL",name:"Decimal",declaration:function(e){return"decimal("+this.resolvePrecision(e)+", "+this.resolveScale(e)+")"},resolvePrecision:function(e){return null!=e.precision?e.precision:null===e.value?1:18},resolveScale:function(e){return null!=e.scale?e.scale:0},generateTypeInfo(e,t){let r;return r=e.precision<=9?5:e.precision<=19?9:e.precision<=28?13:17,Buffer.from([n.default.id,r,e.precision,e.scale])},generateParameterLength(e,t){if(null==e.value)return s;let r=e.precision;return r<=9?Buffer.from([5]):r<=19?Buffer.from([9]):r<=28?Buffer.from([13]):Buffer.from([17])},*generateParameterData(e,t){if(null==e.value)return;let r=e.value<0?0:1,n=Math.round(Math.abs(e.value*Math.pow(10,e.scale))),o=e.precision;if(o<=9){let e=Buffer.alloc(5);e.writeUInt8(r,0),e.writeUInt32LE(n,1),yield e}else if(o<=19){let e=new i.default(9);e.writeUInt8(r),e.writeUInt64LE(n),yield e.data}else if(o<=28){let e=new i.default(13);e.writeUInt8(r),e.writeUInt64LE(n),e.writeUInt32LE(0),yield e.data}else{let e=new i.default(17);e.writeUInt8(r),e.writeUInt64LE(n),e.writeUInt32LE(0),e.writeUInt32LE(0),yield e.data}},validate:function(e){if(null==e)return null;if(isNaN(e=parseFloat(e)))throw TypeError("Invalid number.");return e}};t.default=a,e.exports=a},34177:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:106,type:"DECIMALN",name:"DecimalN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},29357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(8294));let i=Buffer.from([0]),o={id:62,type:"FLT8",name:"Float",declaration:function(){return"float"},generateTypeInfo:()=>Buffer.from([n.default.id,8]),generateParameterLength:(e,t)=>null==e.value?i:Buffer.from([8]),*generateParameterData(e,t){if(null==e.value)return;let r=Buffer.alloc(8);r.writeDoubleLE(parseFloat(e.value),0),yield r},validate:function(e){if(null==e)return null;if(isNaN(e=parseFloat(e)))throw TypeError("Invalid number.");return e}};t.default=o,e.exports=o},8294:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:109,type:"FLTN",name:"FloatN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},24971:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r=Buffer.from([255,255,255,255]),n={id:34,type:"IMAGE",name:"Image",hasTableName:!0,declaration:function(){return"image"},resolveLength:function(e){return null!=e.value?e.value.length:-1},generateTypeInfo(e){let t=Buffer.alloc(5);return t.writeUInt8(this.id,0),t.writeInt32LE(e.length,1),t},generateParameterLength(e,t){if(null==e.value)return r;let n=Buffer.alloc(4);return n.writeInt32LE(e.value.length,0),n},*generateParameterData(e,t){null!=e.value&&(yield e.value)},validate:function(e){if(null==e)return null;if(!Buffer.isBuffer(e))throw TypeError("Invalid buffer.");return e}};t.default=n,e.exports=n},2650:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(28061));let i=Buffer.from([0]),o=Buffer.from([4]),s={id:56,type:"INT4",name:"Int",declaration:function(){return"int"},generateTypeInfo:()=>Buffer.from([n.default.id,4]),generateParameterLength:(e,t)=>null==e.value?i:o,*generateParameterData(e,t){if(null==e.value)return;let r=Buffer.alloc(4);r.writeInt32LE(Number(e.value),0),yield r},validate:function(e){if(null==e)return null;if("number"!=typeof e&&(e=Number(e)),isNaN(e))throw TypeError("Invalid number.");if(e<-2147483648||e>2147483647)throw TypeError("Value must be between -2147483648 and 2147483647, inclusive.");return 0|e}};t.default=s,e.exports=s},28061:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:38,type:"INTN",name:"IntN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},1241:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(92391));let i=Buffer.from([0]),o=Buffer.from([8]),s={id:60,type:"MONEY",name:"Money",declaration:function(){return"money"},generateTypeInfo:function(){return Buffer.from([n.default.id,8])},generateParameterLength:(e,t)=>null==e.value?i:o,*generateParameterData(e,t){if(null==e.value)return;let r=1e4*e.value,n=Buffer.alloc(8);n.writeInt32LE(Math.floor(23283064365386963e-26*r),0),n.writeInt32LE(-1&r,4),yield n},validate:function(e){if(null==e)return null;if(isNaN(e=parseFloat(e)))throw TypeError("Invalid number.");if(e<-922337203685477.6||e>922337203685477.6)throw TypeError("Value must be between -922337203685477.5808 and 922337203685477.5807, inclusive.");return e}};t.default=s,e.exports=s},92391:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:110,type:"MONEYN",name:"MoneyN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},54169:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r=Buffer.from([255,255]),n={id:239,type:"NCHAR",name:"NChar",maximumLength:4e3,declaration:function(e){let t;let r=e.value;return(t=e.length?e.length:null!=e.value?r.toString().length||1:null!==e.value||e.output?this.maximumLength:1)<this.maximumLength?"nchar("+t+")":"nchar("+this.maximumLength+")"},resolveLength:function(e){let t=e.value;return null!=e.length?e.length:null==e.value?this.maximumLength:Buffer.isBuffer(e.value)?e.value.length/2||1:t.toString().length||1},generateTypeInfo:function(e){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),t.writeUInt16LE(2*e.length,1),e.collation&&e.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(e,t){if(null==e.value)return r;let{value:n}=e;if(n instanceof Buffer){let e=n.length,t=Buffer.alloc(2);return t.writeUInt16LE(e,0),t}{let e=Buffer.byteLength(n.toString(),"ucs2"),t=Buffer.alloc(2);return t.writeUInt16LE(e,0),t}},*generateParameterData(e,t){if(null==e.value)return;let r=e.value;r instanceof Buffer?yield r:yield Buffer.from(r,"ucs2")},validate:function(e){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");return e}};t.default=n,e.exports=n},73338:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r=Buffer.from([255,255,255,255]),n={id:99,type:"NTEXT",name:"NText",hasTableName:!0,declaration:function(){return"ntext"},resolveLength:function(e){let t=e.value;return null!=t?t.length:-1},generateTypeInfo(e,t){let r=Buffer.alloc(10);return r.writeUInt8(this.id,0),r.writeInt32LE(e.length,1),e.collation&&e.collation.toBuffer().copy(r,5,0,5),r},generateParameterLength(e,t){if(null==e.value)return r;let n=Buffer.alloc(4);return n.writeInt32LE(Buffer.byteLength(e.value,"ucs2"),0),n},generateParameterData:function*(e,t){null!=e.value&&(yield Buffer.from(e.value.toString(),"ucs2"))},validate:function(e){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");return e}};t.default=n,e.exports=n},81015:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:31,type:"NULL",name:"Null",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},20206:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(29233)),i=o(r(24927));function o(e){return e&&e.__esModule?e:{default:e}}let s=Buffer.from([0]),a={id:63,type:"NUMERIC",name:"Numeric",declaration:function(e){return"numeric("+this.resolvePrecision(e)+", "+this.resolveScale(e)+")"},resolvePrecision:function(e){return null!=e.precision?e.precision:null===e.value?1:18},resolveScale:function(e){return null!=e.scale?e.scale:0},generateTypeInfo(e){let t;return t=e.precision<=9?5:e.precision<=19?9:e.precision<=28?13:17,Buffer.from([n.default.id,t,e.precision,e.scale])},generateParameterLength(e,t){if(null==e.value)return s;let r=e.precision;return r<=9?Buffer.from([5]):r<=19?Buffer.from([9]):r<=28?Buffer.from([13]):Buffer.from([17])},*generateParameterData(e,t){if(null==e.value)return;let r=e.value<0?0:1,n=Math.round(Math.abs(e.value*Math.pow(10,e.scale)));if(e.precision<=9){let e=Buffer.alloc(5);e.writeUInt8(r,0),e.writeUInt32LE(n,1),yield e}else if(e.precision<=19){let e=new i.default(10);e.writeUInt8(r),e.writeUInt64LE(n),yield e.data}else if(e.precision<=28){let e=new i.default(14);e.writeUInt8(r),e.writeUInt64LE(n),e.writeUInt32LE(0),yield e.data}else{let e=new i.default(18);e.writeUInt8(r),e.writeUInt64LE(n),e.writeUInt32LE(0),e.writeUInt32LE(0),yield e.data}},validate:function(e){if(null==e)return null;if(isNaN(e=parseFloat(e)))throw TypeError("Invalid number.");return e}};t.default=a,e.exports=a},29233:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:108,type:"NUMERICN",name:"NumericN",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},88071:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r=Buffer.from([254,255,255,255,255,255,255,255]),n=Buffer.from([0,0,0,0]),i=Buffer.from([255,255]),o=Buffer.from([255,255,255,255,255,255,255,255]),s={id:231,type:"NVARCHAR",name:"NVarChar",maximumLength:4e3,declaration:function(e){let t;let r=e.value;return(t=e.length?e.length:null!=r?r.toString().length||1:null!==r||e.output?this.maximumLength:1)<=this.maximumLength?"nvarchar("+t+")":"nvarchar(max)"},resolveLength:function(e){let t=e.value;return null!=e.length?e.length:null==t?this.maximumLength:Buffer.isBuffer(t)?t.length/2||1:t.toString().length||1},generateTypeInfo(e){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),e.length<=this.maximumLength?t.writeUInt16LE(2*e.length,1):t.writeUInt16LE(65535,1),e.collation&&e.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(e,t){if(null==e.value)return e.length<=this.maximumLength?i:o;let n=e.value;if(!(e.length<=this.maximumLength))return r;{let e;n instanceof Buffer?e=n.length:(n=n.toString(),e=Buffer.byteLength(n,"ucs2"));let t=Buffer.alloc(2);return t.writeUInt16LE(e,0),t}},*generateParameterData(e,t){if(null==e.value)return;let r=e.value;if(e.length<=this.maximumLength)r instanceof Buffer?yield r:(r=r.toString(),yield Buffer.from(r,"ucs2"));else{if(r instanceof Buffer){let e=r.length;if(e>0){let t=Buffer.alloc(4);t.writeUInt32LE(e,0),yield t,yield r}}else{r=r.toString();let e=Buffer.byteLength(r,"ucs2");if(e>0){let t=Buffer.alloc(4);t.writeUInt32LE(e,0),yield t,yield Buffer.from(r,"ucs2")}}yield n}},validate:function(e){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");return e}};t.default=s,e.exports=s},37718:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(8294));let i=Buffer.from([0]),o=Buffer.from([4]),s={id:59,type:"FLT4",name:"Real",declaration:function(){return"real"},generateTypeInfo:()=>Buffer.from([n.default.id,4]),generateParameterLength:(e,t)=>null==e.value?i:o,*generateParameterData(e,t){if(null==e.value)return;let r=Buffer.alloc(4);r.writeFloatLE(parseFloat(e.value),0),yield r},validate:function(e){if(null==e)return null;if(isNaN(e=parseFloat(e)))throw TypeError("Invalid number.");return e}};t.default=s,e.exports=s},94457:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(21937));let i=new Date(1900,0,1),o=new Date(Date.UTC(1900,0,1)),s=Buffer.from([4]),a=Buffer.from([0]),l={id:58,type:"DATETIM4",name:"SmallDateTime",declaration:function(){return"smalldatetime"},generateTypeInfo:()=>Buffer.from([n.default.id,4]),generateParameterLength:(e,t)=>null==e.value?a:s,generateParameterData:function*(e,t){let r,n,s;if(null==e.value)return;let a=Buffer.alloc(4);t.useUTC?(r=Math.floor((e.value.getTime()-o.getTime())/864e5),s=60*e.value.getUTCHours()+e.value.getUTCMinutes()):(n=-(6e4*(e.value.getTimezoneOffset()-i.getTimezoneOffset())),r=Math.floor((e.value.getTime()-i.getTime()+n)/864e5),s=60*e.value.getHours()+e.value.getMinutes()),a.writeUInt16LE(r,0),a.writeUInt16LE(s,2),yield a},validate:function(e,t,r){let n,i,o;if(null==e)return null;if(e instanceof Date||(e=new Date(Date.parse(e))),r&&r.useUTC?(n=e.getUTCFullYear(),i=e.getUTCMonth(),o=e.getUTCDate()):(n=e.getFullYear(),i=e.getMonth(),o=e.getDate()),n<1900||n>2079||2079===n&&(i>4||4===i&&o>6))throw TypeError("Out of range.");if(isNaN(e))throw TypeError("Invalid date.");return e}};t.default=l,e.exports=l},33177:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(28061));let i=Buffer.from([2]),o=Buffer.from([0]),s={id:52,type:"INT2",name:"SmallInt",declaration:function(){return"smallint"},generateTypeInfo:()=>Buffer.from([n.default.id,2]),generateParameterLength:(e,t)=>null==e.value?o:i,*generateParameterData(e,t){if(null==e.value)return;let r=Buffer.alloc(2);r.writeInt16LE(Number(e.value),0),yield r},validate:function(e){if(null==e)return null;if("number"!=typeof e&&(e=Number(e)),isNaN(e))throw TypeError("Invalid number.");if(e<-32768||e>32767)throw TypeError("Value must be between -32768 and 32767, inclusive.");return 0|e}};t.default=s,e.exports=s},97837:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(92391));let i=Buffer.from([4]),o=Buffer.from([0]),s={id:122,type:"MONEY4",name:"SmallMoney",declaration:function(){return"smallmoney"},generateTypeInfo:function(){return Buffer.from([n.default.id,4])},generateParameterLength:(e,t)=>null==e.value?o:i,*generateParameterData(e,t){if(null==e.value)return;let r=Buffer.alloc(4);r.writeInt32LE(1e4*e.value,0),yield r},validate:function(e){if(null==e)return null;if(isNaN(e=parseFloat(e)))throw TypeError("Invalid number.");if(e<-214748.3648||e>214748.3647)throw TypeError("Value must be between -214748.3648 and 214748.3647.");return e}};t.default=s,e.exports=s},1834:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:98,type:"SSVARIANTTYPE",name:"Variant",declaration:function(){return"sql_variant"},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},37615:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(13751));let i=Buffer.from([255,255,255,255]),o={id:35,type:"TEXT",name:"Text",hasTableName:!0,declaration:function(){return"text"},resolveLength:function(e){let t=e.value;return null!=t?t.length:-1},generateTypeInfo(e,t){let r=Buffer.alloc(10);return r.writeUInt8(this.id,0),r.writeInt32LE(e.length,1),e.collation&&e.collation.toBuffer().copy(r,5,0,5),r},generateParameterLength(e,t){let r=e.value;if(null==r)return i;let n=Buffer.alloc(4);return n.writeInt32LE(r.length,0),n},generateParameterData:function*(e,t){let r=e.value;null!=r&&(yield r)},validate:function(e,t){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");if(!t)throw Error("No collation was set by the server for the current connection.");if(!t.codepage)throw Error("The collation set by the server has no associated encoding.");return n.default.encode(e,t.codepage)}};t.default=o,e.exports=o},43710:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(24927));let i=Buffer.from([0]),o={id:41,type:"TIMEN",name:"Time",declaration:function(e){return"time("+this.resolveScale(e)+")"},resolveScale:function(e){return null!=e.scale?e.scale:null===e.value?0:7},generateTypeInfo(e){return Buffer.from([this.id,e.scale])},generateParameterLength(e,t){if(null==e.value)return i;switch(e.scale){case 0:case 1:case 2:return Buffer.from([3]);case 3:case 4:return Buffer.from([4]);case 5:case 6:case 7:return Buffer.from([5]);default:throw Error("invalid scale")}},*generateParameterData(e,t){let r;if(null==e.value)return;let i=new n.default(16),o=e.value;switch(r=Math.round(r=(t.useUTC?((60*o.getUTCHours()+o.getUTCMinutes())*60+o.getUTCSeconds())*1e3+o.getUTCMilliseconds():((60*o.getHours()+o.getMinutes())*60+o.getSeconds())*1e3+o.getMilliseconds())*Math.pow(10,e.scale-3)+(null!=e.value.nanosecondDelta?e.value.nanosecondDelta:0)*Math.pow(10,e.scale)),e.scale){case 0:case 1:case 2:i.writeUInt24LE(r);break;case 3:case 4:i.writeUInt32LE(r);break;case 5:case 6:case 7:i.writeUInt40LE(r)}yield i.data},validate:function(e){if(null==e)return null;if(e instanceof Date||(e=new Date(Date.parse(e))),isNaN(e))throw TypeError("Invalid time.");return e}};t.default=o,e.exports=o},98269:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(28061));let i=Buffer.from([1]),o=Buffer.from([0]),s={id:48,type:"INT1",name:"TinyInt",declaration:function(){return"tinyint"},generateTypeInfo:()=>Buffer.from([n.default.id,1]),generateParameterLength:(e,t)=>null==e.value?o:i,*generateParameterData(e,t){if(null==e.value)return;let r=Buffer.alloc(1);r.writeUInt8(Number(e.value),0),yield r},validate:function(e){if(null==e)return null;if("number"!=typeof e&&(e=Number(e)),isNaN(e))throw TypeError("Invalid number.");if(e<0||e>255)throw TypeError("Value must be between 0 and 255, inclusive.");return 0|e}};t.default=s,e.exports=s},55988:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(24927));let i=Buffer.from([1]),o=Buffer.from([0]),s=Buffer.from([255,255]),a={id:243,type:"TVPTYPE",name:"TVP",declaration:function(e){return e.value.name+" readonly"},generateTypeInfo(e){var t,r;let i=(null===(t=e.value)||void 0===t?void 0:t.schema)??"",o=(null===(r=e.value)||void 0===r?void 0:r.name)??"",s=2+Buffer.byteLength("","ucs2")+1+Buffer.byteLength(i,"ucs2")+1+Buffer.byteLength(o,"ucs2"),a=new n.default(s,"ucs2");return a.writeUInt8(this.id),a.writeBVarchar(""),a.writeBVarchar(i),a.writeBVarchar(o),a.data},generateParameterLength(e,t){if(null==e.value)return s;let{columns:r}=e.value,n=Buffer.alloc(2);return n.writeUInt16LE(r.length,0),n},*generateParameterData(e,t){if(null==e.value){yield o,yield o;return}let{columns:r,rows:n}=e.value;for(let e=0,t=r.length;e<t;e++){let t=r[e],n=Buffer.alloc(6);n.writeUInt32LE(0,0),n.writeUInt16LE(0,4),yield n,yield t.type.generateTypeInfo(t),yield Buffer.from([0])}yield o;for(let o=0,s=n.length;o<s;o++){yield i;let s=n[o];for(let n=0,i=s.length;n<i;n++){let i=r[n],o=s[n],a={value:i.type.validate(o,e.collation),length:i.length,scale:i.scale,precision:i.precision};yield i.type.generateParameterLength(a,t),yield*i.type.generateParameterData(a,t)}}yield o},validate:function(e){if(null==e)return null;if("object"!=typeof e||!Array.isArray(e.columns)||!Array.isArray(e.rows))throw TypeError("Invalid table.");return e}};t.default=a,e.exports=a},60771:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:240,type:"UDTTYPE",name:"UDT",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},97101:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(90035);let i=Buffer.from([0]),o=Buffer.from([16]),s={id:36,type:"GUIDN",name:"UniqueIdentifier",declaration:function(){return"uniqueidentifier"},resolveLength:function(){return 16},generateTypeInfo(){return Buffer.from([this.id,16])},generateParameterLength:(e,t)=>null==e.value?i:o,generateParameterData:function*(e,t){null!=e.value&&(yield Buffer.from((0,n.guidToArray)(e.value)))},validate:function(e){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");if(!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e))throw TypeError("Invalid GUID.");return e}};t.default=s,e.exports=s},76349:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r=Buffer.from([254,255,255,255,255,255,255,255]),n=Buffer.from([0,0,0,0]),i=Buffer.from([255,255]),o=Buffer.from([255,255,255,255,255,255,255,255]),s={id:165,type:"BIGVARBIN",name:"VarBinary",maximumLength:8e3,declaration:function(e){let t;let r=e.value;return(t=e.length?e.length:null!=r?r.length||1:null!==r||e.output?this.maximumLength:1)<=this.maximumLength?"varbinary("+t+")":"varbinary(max)"},resolveLength:function(e){let t=e.value;return null!=e.length?e.length:null!=t?t.length:this.maximumLength},generateTypeInfo:function(e){let t=Buffer.alloc(3);return t.writeUInt8(this.id,0),e.length<=this.maximumLength?t.writeUInt16LE(e.length,1):t.writeUInt16LE(65535,1),t},generateParameterLength(e,t){if(null==e.value)return e.length<=this.maximumLength?i:o;let n=e.value;Buffer.isBuffer(n)||(n=n.toString());let s=Buffer.byteLength(n,"ucs2");if(!(e.length<=this.maximumLength))return r;{let e=Buffer.alloc(2);return e.writeUInt16LE(s,0),e}},*generateParameterData(e,t){if(null==e.value)return;let r=e.value;if(e.length<=this.maximumLength)Buffer.isBuffer(r)?yield r:yield Buffer.from(r.toString(),"ucs2");else{Buffer.isBuffer(r)||(r=r.toString());let e=Buffer.byteLength(r,"ucs2");if(e>0){let t=Buffer.alloc(4);t.writeUInt32LE(e,0),yield t,Buffer.isBuffer(r)?yield r:yield Buffer.from(r,"ucs2")}yield n}},validate:function(e){if(null==e)return null;if(!Buffer.isBuffer(e))throw TypeError("Invalid buffer.");return e}};t.default=s,e.exports=s},6266:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(13751));let i=Buffer.from([254,255,255,255,255,255,255,255]),o=Buffer.from([0,0,0,0]),s=Buffer.from([255,255]),a=Buffer.from([255,255,255,255,255,255,255,255]),l={id:167,type:"BIGVARCHR",name:"VarChar",maximumLength:8e3,declaration:function(e){let t;let r=e.value;return(t=e.length?e.length:null!=r?r.length||1:null!==r||e.output?this.maximumLength:1)<=this.maximumLength?"varchar("+t+")":"varchar(max)"},resolveLength:function(e){let t=e.value;return null!=e.length?e.length:null!=t?t.length||1:this.maximumLength},generateTypeInfo(e){let t=Buffer.alloc(8);return t.writeUInt8(this.id,0),e.length<=this.maximumLength?t.writeUInt16LE(e.length,1):t.writeUInt16LE(65535,1),e.collation&&e.collation.toBuffer().copy(t,3,0,5),t},generateParameterLength(e,t){let r=e.value;if(null==r)return e.length<=this.maximumLength?s:a;if(!(e.length<=this.maximumLength))return i;{let e=Buffer.alloc(2);return e.writeUInt16LE(r.length,0),e}},*generateParameterData(e,t){let r=e.value;if(null!=r){if(e.length<=this.maximumLength)yield r;else{if(r.length>0){let e=Buffer.alloc(4);e.writeUInt32LE(r.length,0),yield e,yield r}yield o}}},validate:function(e,t){if(null==e)return null;if("string"!=typeof e)throw TypeError("Invalid string.");if(!t)throw Error("No collation was set by the server for the current connection.");if(!t.codepage)throw Error("The collation set by the server has no associated encoding.");return n.default.encode(e,t.codepage)}};t.default=l,e.exports=l},76940:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={id:241,type:"XML",name:"Xml",declaration(){throw Error("not implemented")},generateTypeInfo(){throw Error("not implemented")},generateParameterLength(){throw Error("not implemented")},generateParameterData(){throw Error("not implemented")},validate(){throw Error("not implemented")}};t.default=r,e.exports=r},32005:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(82361),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(void 0);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(n,s,a):n[s]=e[s]}return n.default=e,r&&r.set(e,n),n}(r(73837));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}class s extends n.EventEmitter{constructor({data:e=!1,payload:t=!1,packet:r=!1,token:n=!1}={}){super(),this.options={data:e,payload:t,packet:r,token:n},this.indent="  "}packet(e,t){this.haveListeners()&&this.options.packet&&(this.log(""),this.log(e),this.log(t.headerToString(this.indent)))}data(e){this.haveListeners()&&this.options.data&&this.log(e.dataToString(this.indent))}payload(e){this.haveListeners()&&this.options.payload&&this.log(e())}token(e){this.haveListeners()&&this.options.token&&this.log(i.inspect(e,{showHidden:!1,depth:5,colors:!0}))}haveListeners(){return this.listeners("debug").length>0}log(e){this.emit("debug",e)}}t.default=s,e.exports=s},71790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequestError=t.ConnectionError=void 0;class r extends Error{constructor(e,t){super(e),this.code=t}}t.ConnectionError=r;class n extends Error{constructor(e,t){super(e),this.code=t}}t.RequestError=n},62405:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class r extends Error{constructor(){super("The operation was aborted"),this.code="ABORT_ERR",this.name="AbortError"}}t.default=r},48959:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;class r extends Error{constructor(){super("The operation was aborted due to timeout"),this.code="TIMEOUT_ERR",this.name="TimeoutError"}}t.default=r},90035:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToLowerCaseGuid=function(e){return n[e[3]]+n[e[2]]+n[e[1]]+n[e[0]]+"-"+n[e[5]]+n[e[4]]+"-"+n[e[7]]+n[e[6]]+"-"+n[e[8]]+n[e[9]]+"-"+n[e[10]]+n[e[11]]+n[e[12]]+n[e[13]]+n[e[14]]+n[e[15]]},t.bufferToUpperCaseGuid=function(e){return r[e[3]]+r[e[2]]+r[e[1]]+r[e[0]]+"-"+r[e[5]]+r[e[4]]+"-"+r[e[7]]+r[e[6]]+"-"+r[e[8]]+r[e[9]]+"-"+r[e[10]]+r[e[11]]+r[e[12]]+r[e[13]]+r[e[14]]+r[e[15]]},t.guidToArray=function(e){return[i[e.charCodeAt(6)][e.charCodeAt(7)],i[e.charCodeAt(4)][e.charCodeAt(5)],i[e.charCodeAt(2)][e.charCodeAt(3)],i[e.charCodeAt(0)][e.charCodeAt(1)],i[e.charCodeAt(11)][e.charCodeAt(12)],i[e.charCodeAt(9)][e.charCodeAt(10)],i[e.charCodeAt(16)][e.charCodeAt(17)],i[e.charCodeAt(14)][e.charCodeAt(15)],i[e.charCodeAt(19)][e.charCodeAt(20)],i[e.charCodeAt(21)][e.charCodeAt(22)],i[e.charCodeAt(24)][e.charCodeAt(25)],i[e.charCodeAt(26)][e.charCodeAt(27)],i[e.charCodeAt(28)][e.charCodeAt(29)],i[e.charCodeAt(30)][e.charCodeAt(31)],i[e.charCodeAt(32)][e.charCodeAt(33)],i[e.charCodeAt(34)][e.charCodeAt(35)]]};let r=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"],n=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],i={},o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","A","B","C","D","E","F"].map(e=>e.charCodeAt(0));for(let e=0;e<o.length;e++){let t=i[o[e]]={};for(let r=0;r<o.length;r++){let n=parseInt(String.fromCharCode(o[e],o[r]),16);t[o[r]]=n}}},4438:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(r(33088)),i=r(12781),o=l(r(63640)),s=r(88897),a=r(71790);function l(e){return e&&e.__esModule?e:{default:e}}class c extends i.Transform{constructor(e){super({readableObjectMode:!0}),this.debug=e,this.currentMessage=void 0,this.bl=new n.default}pause(){return super.pause(),this.currentMessage&&this.currentMessage.pause(),this}resume(){return super.resume(),this.currentMessage&&this.currentMessage.resume(),this}processBufferedData(e){for(;this.bl.length>=s.HEADER_LENGTH;){let t=this.bl.readUInt16BE(2);if(t<s.HEADER_LENGTH)return e(new a.ConnectionError("Unable to process incoming packet"));if(this.bl.length>=t){let r=this.bl.slice(0,t);this.bl.consume(t);let n=new s.Packet(r);this.debug.packet("Received",n),this.debug.data(n);let i=this.currentMessage;if(void 0===i&&(this.currentMessage=i=new o.default({type:n.type(),resetConnection:!1}),this.push(i)),n.isLast()){i.once("end",()=>{this.currentMessage=void 0,this.processBufferedData(e)}),i.end(n.data());return}if(!i.write(n.data())){i.once("drain",()=>{this.processBufferedData(e)});return}}else break}e()}_transform(e,t,r){this.bl.append(e),this.processBufferedData(r)}}t.default=c,e.exports=c},60876:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.instanceLookup=l,t.parseBrowserResponse=c;var n=a(r(9523)),i=a(r(62405)),o=r(34593),s=r(55703);function a(e){return e&&e.__esModule?e:{default:e}}async function l(e){let t;let r=e.server;if("string"!=typeof r)throw TypeError('Invalid arguments: "server" must be a string');let a=e.instanceName;if("string"!=typeof a)throw TypeError('Invalid arguments: "instanceName" must be a string');let l=void 0===e.timeout?2e3:e.timeout;if("number"!=typeof l)throw TypeError('Invalid arguments: "timeout" must be a number');let u=void 0===e.retries?3:e.retries;if("number"!=typeof u)throw TypeError('Invalid arguments: "retries" must be a number');if(void 0!==e.lookup&&"function"!=typeof e.lookup)throw TypeError('Invalid arguments: "lookup" must be a function');let h=e.lookup??n.default.lookup;if(void 0!==e.port&&"number"!=typeof e.port)throw TypeError('Invalid arguments: "port" must be a number');let d=e.port??1434,f=e.signal;if(f.aborted)throw new i.default;for(let r=0;r<=u;r++)try{t=await (0,s.withTimeout)(l,async t=>{let r=Buffer.from([2]);return await (0,o.sendMessage)(e.server,d,h,t,r)},f)}catch(e){if(!f.aborted&&e instanceof Error&&"TimeoutError"===e.name)continue;throw e}if(!t)throw Error("Failed to get response from SQL Server Browser on "+r);let p=c(t.toString("ascii",3),a);if(!p)throw Error("Port for "+a+" not found in "+e.server);return p}function c(e,t){let r;let n=e.split(";;");for(let e=0,i=n.length;e<i;e++){let i=n[e].split(";");for(let e=0,n=i.length;e<n;e+=2){let n=i[e],o=i[e+1];if("tcp"===n&&r)return parseInt(o,10);"InstanceName"===n&&(r=o.toUpperCase()===t.toUpperCase())}}}},93624:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.name=void 0,t.name="Tedious"},79409:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(43074),i=r(27577);let o={ENDIAN_LITTLE:0,CHARSET_ASCII:0,FLOAT_IEEE_754:0,BCP_DUMPLOAD_OFF:16,USE_DB_OFF:32,INIT_DB_WARN:0,INIT_DB_FATAL:64,SET_LANG_WARN_ON:128},s={INIT_LANG_WARN:0,ODBC_OFF:0,USER_NORMAL:0,INTEGRATED_SECURITY_OFF:0,INTEGRATED_SECURITY_ON:128},a={SQL_DFLT:0,OLEDB_OFF:0,READ_WRITE_INTENT:0,READ_ONLY_INTENT:32},l={CHANGE_PASSWORD_NO:0,UNKNOWN_COLLATION_HANDLING:8,EXTENSION_USED:16},c={FEATURE_ID:2,LIBRARY_SECURITYTOKEN:1,LIBRARY_ADAL:2,FEDAUTH_YES_ECHO:1,FEDAUTH_NO_ECHO:0,ADAL_WORKFLOW_USER_PASS:1};class u{constructor({tdsVersion:e,packetSize:t,clientProgVer:r,clientPid:n,connectionId:i,clientTimeZone:o,clientLcid:s}){this.tdsVersion=e,this.packetSize=t,this.clientProgVer=r,this.clientPid=n,this.connectionId=i,this.clientTimeZone=o,this.clientLcid=s,this.readOnlyIntent=!1,this.initDbFatal=!1,this.fedAuth=void 0,this.userName=void 0,this.password=void 0,this.serverName=void 0,this.appName=void 0,this.hostname=void 0,this.libraryName=void 0,this.language=void 0,this.database=void 0,this.clientId=void 0,this.sspi=void 0,this.attachDbFile=void 0,this.changePassword=void 0}toBuffer(){let e=Buffer.alloc(94),t=[e],r=0,n=e.length;if(r=e.writeUInt32LE(0,r),r=e.writeUInt32LE(this.tdsVersion,r),r=e.writeUInt32LE(this.packetSize,r),r=e.writeUInt32LE(this.clientProgVer,r),r=e.writeUInt32LE(this.clientPid,r),r=e.writeUInt32LE(this.connectionId,r),r=e.writeUInt8(this.buildOptionFlags1(),r),r=e.writeUInt8(this.buildOptionFlags2(),r),r=e.writeUInt8(this.buildTypeFlags(),r),r=e.writeUInt8(this.buildOptionFlags3(),r),r=e.writeInt32LE(this.clientTimeZone,r),r=e.writeUInt32LE(this.clientLcid,r),r=e.writeUInt16LE(n,r),this.hostname){let i=Buffer.from(this.hostname,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(i)}else r=e.writeUInt16LE(n,r);if(r=e.writeUInt16LE(n,r),this.userName){let i=Buffer.from(this.userName,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(i)}else r=e.writeUInt16LE(0,r);if(r=e.writeUInt16LE(n,r),this.password){let i=Buffer.from(this.password,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(this.scramblePassword(i))}else r=e.writeUInt16LE(0,r);if(r=e.writeUInt16LE(n,r),this.appName){let i=Buffer.from(this.appName,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(i)}else r=e.writeUInt16LE(0,r);if(r=e.writeUInt16LE(n,r),this.serverName){let i=Buffer.from(this.serverName,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(i)}else r=e.writeUInt16LE(0,r);r=e.writeUInt16LE(n,r);let i=this.buildFeatureExt();r=e.writeUInt16LE(4,r);let o=Buffer.alloc(4);if(o.writeUInt32LE(n+=4,0),n+=i.length,t.push(o,i),r=e.writeUInt16LE(n,r),this.libraryName){let i=Buffer.from(this.libraryName,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(i)}else r=e.writeUInt16LE(0,r);if(r=e.writeUInt16LE(n,r),this.language){let i=Buffer.from(this.language,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(i)}else r=e.writeUInt16LE(0,r);if(r=e.writeUInt16LE(n,r),this.database){let i=Buffer.from(this.database,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(i)}else r=e.writeUInt16LE(0,r);if(this.clientId&&this.clientId.copy(e,r,0,6),r+=6,r=e.writeUInt16LE(n,r),this.sspi?(r=this.sspi.length>65535?e.writeUInt16LE(65535,r):e.writeUInt16LE(this.sspi.length,r),t.push(this.sspi)):r=e.writeUInt16LE(0,r),r=e.writeUInt16LE(n,r),this.attachDbFile){let i=Buffer.from(this.attachDbFile,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(i)}else r=e.writeUInt16LE(0,r);if(r=e.writeUInt16LE(n,r),this.changePassword){let i=Buffer.from(this.changePassword,"ucs2");r=e.writeUInt16LE(i.length/2,r),n+=i.length,t.push(i)}else r=e.writeUInt16LE(0,r);this.sspi&&this.sspi.length>65535?e.writeUInt32LE(this.sspi.length,r):e.writeUInt32LE(0,r);let s=Buffer.concat(t);return s.writeUInt32LE(s.length,0),s}buildOptionFlags1(){let e=o.ENDIAN_LITTLE|o.CHARSET_ASCII|o.FLOAT_IEEE_754|o.BCP_DUMPLOAD_OFF|o.USE_DB_OFF|o.SET_LANG_WARN_ON;return this.initDbFatal?e|=o.INIT_DB_FATAL:e|=o.INIT_DB_WARN,e}buildFeatureExt(){let e=[],t=this.fedAuth;if(t)switch(t.type){case"ADAL":let r=Buffer.alloc(7);r.writeUInt8(c.FEATURE_ID,0),r.writeUInt32LE(2,1),r.writeUInt8(c.LIBRARY_ADAL<<1|(t.echo?c.FEDAUTH_YES_ECHO:c.FEDAUTH_NO_ECHO),5),r.writeUInt8("integrated"===t.workflow?2:c.ADAL_WORKFLOW_USER_PASS,6),e.push(r);break;case"SECURITYTOKEN":let n=Buffer.from(t.fedAuthToken,"ucs2"),o=Buffer.alloc(10),s=0;s=o.writeUInt8(c.FEATURE_ID,s),s=o.writeUInt32LE(n.length+4+1,s),s=o.writeUInt8(c.LIBRARY_SECURITYTOKEN<<1|(t.echo?c.FEDAUTH_YES_ECHO:c.FEDAUTH_NO_ECHO),s),o.writeInt32LE(n.length,s),e.push(o),e.push(n)}if(this.tdsVersion>=i.versions["7_4"]){let t=Buffer.alloc(6);t.writeUInt8(10,0),t.writeUInt32LE(1,1),t.writeUInt8(1,5),e.push(t)}return e.push(Buffer.from([255])),Buffer.concat(e)}buildOptionFlags2(){let e=s.INIT_LANG_WARN|s.ODBC_OFF|s.USER_NORMAL;return this.sspi?e|=s.INTEGRATED_SECURITY_ON:e|=s.INTEGRATED_SECURITY_OFF,e}buildTypeFlags(){let e=a.SQL_DFLT|a.OLEDB_OFF;return this.readOnlyIntent?e|=a.READ_ONLY_INTENT:e|=a.READ_WRITE_INTENT,e}buildOptionFlags3(){return l.CHANGE_PASSWORD_NO|l.UNKNOWN_COLLATION_HANDLING|l.EXTENSION_USED}scramblePassword(e){for(let t=0,r=e.length;t<r;t++){let r=e[t];r=((15&r)<<4|r>>4)^165,e[t]=r}return e}toString(e=""){return e+"Login7 - "+(0,n.sprintf)("TDS:0x%08X, PacketSize:0x%08X, ClientProgVer:0x%08X, ClientPID:0x%08X, ConnectionID:0x%08X",this.tdsVersion,this.packetSize,this.clientProgVer,this.clientPid,this.connectionId)+"\n"+e+"         "+(0,n.sprintf)("Flags1:0x%02X, Flags2:0x%02X, TypeFlags:0x%02X, Flags3:0x%02X, ClientTimezone:%d, ClientLCID:0x%08X",this.buildOptionFlags1(),this.buildOptionFlags2(),this.buildTypeFlags(),this.buildOptionFlags3(),this.clientTimeZone,this.clientLcid)+"\n"+e+"         "+(0,n.sprintf)("Hostname:'%s', Username:'%s', Password:'%s', AppName:'%s', ServerName:'%s', LibraryName:'%s'",this.hostname,this.userName,this.password,this.appName,this.serverName,this.libraryName)+"\n"+e+"         "+(0,n.sprintf)("Language:'%s', Database:'%s', SSPI:'%s', AttachDbFile:'%s', ChangePassword:'%s'",this.language,this.database,this.sspi,this.attachDbFile,this.changePassword)}}t.default=u,e.exports=u},29070:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=h(r(18113)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(void 0);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(24404)),o=r(82361),s=h(r(63640)),a=r(88897),l=h(r(4438)),c=h(r(95898));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function h(e){return e&&e.__esModule?e:{default:e}}class d extends o.EventEmitter{constructor(e,t,r){super(),this.socket=e,this.debug=r,this.tlsNegotiationComplete=!1,this.incomingMessageStream=new l.default(this.debug),this.incomingMessageIterator=this.incomingMessageStream[Symbol.asyncIterator](),this.outgoingMessageStream=new c.default(this.debug,{packetSize:t}),this.socket.pipe(this.incomingMessageStream),this.outgoingMessageStream.pipe(this.socket)}packetSize(...e){if(e.length>0){let t=e[0];this.debug.log("Packet size changed from "+this.outgoingMessageStream.packetSize+" to "+t),this.outgoingMessageStream.packetSize=t}return this.securePair&&this.securePair.cleartext.setMaxSendFragment(this.outgoingMessageStream.packetSize),this.outgoingMessageStream.packetSize}startTls(e,t,r){e.maxVersion&&["TLSv1.2","TLSv1.1","TLSv1"].includes(e.maxVersion)||(e.maxVersion="TLSv1.2");let o=i.createSecureContext(e);return new Promise((e,l)=>{let c=new n.default,u=this.securePair={cleartext:i.connect({socket:c.socket1,servername:t,secureContext:o,rejectUnauthorized:!r}),encrypted:c.socket2},h=()=>{u.encrypted.removeListener("readable",f),u.cleartext.removeListener("error",d),u.cleartext.removeListener("secureConnect",h),u.cleartext.once("error",e=>{this.socket.destroy(e)});let t=u.cleartext.getCipher();t&&this.debug.log("TLS negotiated ("+t.name+", "+t.version+")"),this.emit("secure",u.cleartext),u.cleartext.setMaxSendFragment(this.outgoingMessageStream.packetSize),this.outgoingMessageStream.unpipe(this.socket),this.socket.unpipe(this.incomingMessageStream),this.socket.pipe(u.encrypted),u.encrypted.pipe(this.socket),u.cleartext.pipe(this.incomingMessageStream),this.outgoingMessageStream.pipe(u.cleartext),this.tlsNegotiationComplete=!0,e()},d=e=>{u.encrypted.removeListener("readable",f),u.cleartext.removeListener("error",d),u.cleartext.removeListener("secureConnect",h),u.cleartext.destroy(),u.encrypted.destroy(),l(e)},f=()=>{let e;let t=new s.default({type:a.TYPE.PRELOGIN,resetConnection:!1});for(;e=u.encrypted.read();)t.write(e);this.outgoingMessageStream.write(t),t.end(),this.readMessage().then(async e=>{for await(let t of(u.encrypted.once("readable",f),e))u.encrypted.write(t)}).catch(d)};u.cleartext.once("error",d),u.cleartext.once("secureConnect",h),u.encrypted.once("readable",f)})}sendMessage(e,t,r){let n=new s.default({type:e,resetConnection:r});return n.end(t),this.outgoingMessageStream.write(n),n}async readMessage(){let e=await this.incomingMessageIterator.next();if(e.done)throw Error("unexpected end of message stream");return e.value}}t.default=d,e.exports=d},63640:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(12781);class i extends n.PassThrough{constructor({type:e,resetConnection:t=!1}){super(),this.type=e,this.resetConnection=t,this.ignore=!1}}t.default=i,e.exports=i},50697:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.readCollation=a,t.readMetadata=l;var n=r(34132),i=r(47258),o=r(43074),s=r(32505);function a(e,t){if(t=+t,e.length<t+5)throw new s.NotEnoughDataError(t+5);let r=n.Collation.fromBuffer(e.slice(t,t+5));return new s.Result(r,t+5)}function l(e,t,r){var n,l;let c,u,h;({offset:t,value:c}=(r.tdsVersion<"7_2"?s.readUInt16LE:s.readUInt32LE)(e,t)),({offset:t,value:u}=(0,s.readUInt16LE)(e,t)),{offset:t,value:h}=(0,s.readUInt8)(e,t);let d=i.TYPE[h];if(!d)throw Error((0,o.sprintf)("Unrecognised data type 0x%02X",h));switch(d.name){case"Null":case"TinyInt":case"SmallInt":case"Int":case"BigInt":case"Real":case"Float":case"SmallMoney":case"Money":case"Bit":case"SmallDateTime":case"DateTime":case"Date":return new s.Result({userType:c,flags:u,type:d,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:void 0,udtInfo:void 0},t);case"IntN":case"FloatN":case"MoneyN":case"BitN":case"UniqueIdentifier":case"DateTimeN":{let r;return{offset:t,value:r}=(0,s.readUInt8)(e,t),new s.Result({userType:c,flags:u,type:d,collation:void 0,precision:void 0,scale:void 0,dataLength:r,schema:void 0,udtInfo:void 0},t)}case"Variant":{let r;return{offset:t,value:r}=(0,s.readUInt32LE)(e,t),new s.Result({userType:c,flags:u,type:d,collation:void 0,precision:void 0,scale:void 0,dataLength:r,schema:void 0,udtInfo:void 0},t)}case"VarChar":case"Char":case"NVarChar":case"NChar":{let r,n;return{offset:t,value:r}=(0,s.readUInt16LE)(e,t),{offset:t,value:n}=a(e,t),new s.Result({userType:c,flags:u,type:d,collation:n,precision:void 0,scale:void 0,dataLength:r,schema:void 0,udtInfo:void 0},t)}case"Text":case"NText":{let r,n;return{offset:t,value:r}=(0,s.readUInt32LE)(e,t),{offset:t,value:n}=a(e,t),new s.Result({userType:c,flags:u,type:d,collation:n,precision:void 0,scale:void 0,dataLength:r,schema:void 0,udtInfo:void 0},t)}case"VarBinary":case"Binary":{let r;return{offset:t,value:r}=(0,s.readUInt16LE)(e,t),new s.Result({userType:c,flags:u,type:d,collation:void 0,precision:void 0,scale:void 0,dataLength:r,schema:void 0,udtInfo:void 0},t)}case"Image":{let r;return{offset:t,value:r}=(0,s.readUInt32LE)(e,t),new s.Result({userType:c,flags:u,type:d,collation:void 0,precision:void 0,scale:void 0,dataLength:r,schema:void 0,udtInfo:void 0},t)}case"Xml":{let r,i,o,a,l;return n=+(n=t),{offset:n,value:i}=(0,s.readUInt8)(e,n),{offset:t,value:r}=1!==i?new s.Result(void 0,n):({offset:n,value:o}=(0,s.readBVarChar)(e,n),{offset:n,value:a}=(0,s.readBVarChar)(e,n),{offset:n,value:l}=(0,s.readUsVarChar)(e,n),new s.Result({dbname:o,owningSchema:a,xmlSchemaCollection:l},n)),new s.Result({userType:c,flags:u,type:d,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:r,udtInfo:void 0},t)}case"Time":case"DateTime2":case"DateTimeOffset":{let r;return{offset:t,value:r}=(0,s.readUInt8)(e,t),new s.Result({userType:c,flags:u,type:d,collation:void 0,precision:void 0,scale:r,dataLength:void 0,schema:void 0,udtInfo:void 0},t)}case"NumericN":case"DecimalN":{let r,n,i;return{offset:t,value:r}=(0,s.readUInt8)(e,t),{offset:t,value:n}=(0,s.readUInt8)(e,t),{offset:t,value:i}=(0,s.readUInt8)(e,t),new s.Result({userType:c,flags:u,type:d,collation:void 0,precision:n,scale:i,dataLength:r,schema:void 0,udtInfo:void 0},t)}case"UDT":{let r,n,i,o,a,h;return{offset:t,value:r}=(l=t,{offset:l,value:n}=(0,s.readUInt16LE)(e,l),{offset:l,value:i}=(0,s.readBVarChar)(e,l),{offset:l,value:o}=(0,s.readBVarChar)(e,l),{offset:l,value:a}=(0,s.readBVarChar)(e,l),{offset:l,value:h}=(0,s.readUsVarChar)(e,l),new s.Result({maxByteSize:n,dbname:i,owningSchema:o,typeName:a,assemblyName:h},l)),new s.Result({userType:c,flags:u,type:d,collation:void 0,precision:void 0,scale:void 0,dataLength:void 0,schema:void 0,udtInfo:r},t)}default:throw Error((0,o.sprintf)("Unrecognised type %s",d.name))}}function c(e,t,r){(async()=>{for(;;){let n;try{n=l(e.buffer,e.position,t)}catch(t){if(t instanceof s.NotEnoughDataError){await e.waitForChunk();continue}throw t}return e.position=n.offset,r(n.value)}})()}t.default=c,e.exports=c,e.exports.readCollation=a,e.exports.readMetadata=l},49489:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(24927)),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(void 0);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(6113)),o=a(r(12570));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function a(e){return e&&e.__esModule?e:{default:e}}class l{constructor(e){this.data=this.createResponse(e)}toString(e=""){return e+"NTLM Auth"}createResponse(e){let t=this.createClientNonce(),r=e.domain,i=e.userName,o=e.password,s=e.ntlmpacket,a=s.target,l=s.nonce,c=64+2*r.length+2*i.length+24+16+8+8+8+4+a.length+4,u=new n.default(c);u.position=0,u.writeString("NTLMSSP\0","utf8"),u.writeUInt32LE(3);let h=64+2*r.length,d=h+2*i.length;u.writeUInt16LE(24),u.writeUInt16LE(24),u.writeUInt32LE(d),u.writeUInt16LE(16),u.writeUInt16LE(16),u.writeUInt32LE(d+24),u.writeUInt16LE(2*r.length),u.writeUInt16LE(2*r.length),u.writeUInt32LE(64),u.writeUInt16LE(2*i.length),u.writeUInt16LE(2*i.length),u.writeUInt32LE(h),u.writeUInt16LE(0),u.writeUInt16LE(0),u.writeUInt32LE(64),u.writeUInt16LE(0),u.writeUInt16LE(0),u.writeUInt32LE(64),u.writeUInt16LE(33281),u.writeUInt16LE(8),u.writeString(r,"ucs2"),u.writeString(i,"ucs2");let f=this.lmv2Response(r,i,o,l,t);u.copyFrom(f);let p=new Date().getTime(),m=this.ntlmv2Response(r,i,o,l,a,t,p);u.copyFrom(m),u.writeUInt32LE(257),u.writeUInt32LE(0);let g=this.createTimestamp(p);return u.copyFrom(g),u.copyFrom(t),u.writeUInt32LE(0),u.copyFrom(a),u.writeUInt32LE(0),u.data}createClientNonce(){let e=Buffer.alloc(8,0),t=0;for(;t<8;)e.writeUInt8(Math.ceil(255*Math.random()),t),t++;return e}ntlmv2Response(e,t,r,n,i,o,s){let a=this.createTimestamp(s),l=this.ntv2Hash(e,t,r),c=40+i.length,u=Buffer.alloc(c,0);return n.copy(u,0,0,8),u.writeUInt32LE(257,8),u.writeUInt32LE(0,12),a.copy(u,16,0,8),o.copy(u,24,0,8),u.writeUInt32LE(0,32),i.copy(u,36,0,i.length),u.writeUInt32LE(0,36+i.length),this.hmacMD5(u,l)}createTimestamp(e){let t=(BigInt(e)+BigInt(11644473600))*BigInt(1e7),r=Number(t&BigInt(4294967295)),n=Number(t>>BigInt(32)&BigInt(4294967295)),i=Buffer.alloc(8);return i.writeUInt32LE(r,0),i.writeUInt32LE(n,4),i}lmv2Response(e,t,r,n,i){let o=this.ntv2Hash(e,t,r),s=Buffer.alloc(n.length+i.length,0);n.copy(s),i.copy(s,n.length,0,i.length);let a=this.hmacMD5(s,o),l=Buffer.alloc(a.length+i.length,0);return a.copy(l),i.copy(l,a.length,0,i.length),l}ntv2Hash(e,t,r){let n=this.ntHash(r),i=Buffer.from(t.toUpperCase()+e.toUpperCase(),"ucs2");return this.hmacMD5(i,n)}ntHash(e){let t=Buffer.from(e,"ucs2");return Buffer.from(o.default.arrayBuffer(t))}hmacMD5(e,t){return i.createHmac("MD5",t).update(e).digest()}}t.default=l,e.exports=l},20704:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNTLMRequest=function(e){let t=escape(e.domain.toUpperCase()),n=e.workstation?escape(e.workstation.toUpperCase()):"",i=r.NTLM_NegotiateUnicode+r.NTLM_NegotiateOEM+r.NTLM_RequestTarget+r.NTLM_NegotiateNTLM+r.NTLM_NegotiateOemDomainSupplied+r.NTLM_NegotiateOemWorkstationSupplied+r.NTLM_NegotiateAlwaysSign+r.NTLM_NegotiateVersion+r.NTLM_NegotiateExtendedSecurity+r.NTLM_Negotiate128+r.NTLM_Negotiate56;""===n&&(i-=r.NTLM_NegotiateOemWorkstationSupplied);let o=Buffer.alloc(40),s=[o],a=0;return a+=o.write("NTLMSSP",a,7,"ascii"),a=o.writeUInt8(0,a),a=o.writeUInt32LE(1,a),a=o.writeUInt32LE(i,a),a=o.writeUInt16LE(t.length,a),a=o.writeUInt16LE(t.length,a),a=o.writeUInt32LE(o.length+n.length,a),a=o.writeUInt16LE(n.length,a),a=o.writeUInt16LE(n.length,a),a=o.writeUInt32LE(o.length,a),a=o.writeUInt8(5,a),a=o.writeUInt8(0,a),a=o.writeUInt16LE(2195,a),a=o.writeUInt8(0,a),a=o.writeUInt8(0,a),a=o.writeUInt8(0,a),o.writeUInt8(15,a),s.push(Buffer.from(n,"ascii")),s.push(Buffer.from(t,"ascii")),Buffer.concat(s)};let r={NTLM_NegotiateUnicode:1,NTLM_NegotiateOEM:2,NTLM_RequestTarget:4,NTLM_NegotiateNTLM:512,NTLM_NegotiateOemDomainSupplied:4096,NTLM_NegotiateOemWorkstationSupplied:8192,NTLM_NegotiateAlwaysSign:32768,NTLM_NegotiateExtendedSecurity:524288,NTLM_NegotiateVersion:33554432,NTLM_Negotiate128:536870912,NTLM_Negotiate56:2147483648}},95898:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(33088)),i=r(12781),o=r(88897);class s extends i.Duplex{constructor(e,{packetSize:t}){super({writableObjectMode:!0}),this.packetSize=t,this.debug=e,this.bl=new n.default,this.on("finish",()=>{this.push(null)})}_write(e,t,r){let n=this.packetSize-o.HEADER_LENGTH,i=0;this.currentMessage=e,this.currentMessage.on("data",t=>{if(!e.ignore)for(this.bl.append(t);this.bl.length>n;){let t=this.bl.slice(0,n);this.bl.consume(n);let r=new o.Packet(e.type);r.packetId(i+=1),r.resetConnection(e.resetConnection),r.addData(t),this.debug.packet("Sent",r),this.debug.data(r),!1===this.push(r.buffer)&&e.pause()}}),this.currentMessage.on("end",()=>{let t=this.bl.slice();this.bl.consume(t.length);let n=new o.Packet(e.type);n.packetId(i+=1),n.resetConnection(e.resetConnection),n.last(!0),n.ignore(e.ignore),n.addData(t),this.debug.packet("Sent",n),this.debug.data(n),this.push(n.buffer),this.currentMessage=void 0,r()})}_read(e){this.currentMessage&&this.currentMessage.resume()}}t.default=s,e.exports=s},88897:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TYPE=t.Packet=t.OFFSET=t.HEADER_LENGTH=void 0,t.isPacketComplete=function(e){return!(e.length<8)&&e.length>=e.readUInt16BE(a.Length)},t.packetLength=function(e){return e.readUInt16BE(a.Length)};var n=r(43074);t.HEADER_LENGTH=8;let i={SQL_BATCH:1,RPC_REQUEST:3,TABULAR_RESULT:4,ATTENTION:6,BULK_LOAD:7,TRANSACTION_MANAGER:14,LOGIN7:16,NTLMAUTH_PKT:17,PRELOGIN:18,FEDAUTH_TOKEN:8};t.TYPE=i;let o={};for(let e in i)o[i[e]]=e;let s={NORMAL:0,EOM:1,IGNORE:2,RESETCONNECTION:8,RESETCONNECTIONSKIPTRAN:16},a={Type:0,Status:1,Length:2,SPID:4,PacketID:6,Window:7};t.OFFSET=a;class l{constructor(e){e instanceof Buffer?this.buffer=e:(this.buffer=Buffer.alloc(8,0),this.buffer.writeUInt8(e,a.Type),this.buffer.writeUInt8(s.NORMAL,a.Status),this.buffer.writeUInt16BE(0,a.SPID),this.buffer.writeUInt8(1,a.PacketID),this.buffer.writeUInt8(0,a.Window),this.setLength())}setLength(){this.buffer.writeUInt16BE(this.buffer.length,a.Length)}length(){return this.buffer.readUInt16BE(a.Length)}resetConnection(e){let t=this.buffer.readUInt8(a.Status);e?t|=s.RESETCONNECTION:t&=255-s.RESETCONNECTION,this.buffer.writeUInt8(t,a.Status)}last(e){let t=this.buffer.readUInt8(a.Status);return arguments.length>0&&(e?t|=s.EOM:t&=255-s.EOM,this.buffer.writeUInt8(t,a.Status)),this.isLast()}ignore(e){let t=this.buffer.readUInt8(a.Status);e?t|=s.IGNORE:t&=255-s.IGNORE,this.buffer.writeUInt8(t,a.Status)}isLast(){return!!(this.buffer.readUInt8(a.Status)&s.EOM)}packetId(e){return e&&this.buffer.writeUInt8(e%256,a.PacketID),this.buffer.readUInt8(a.PacketID)}addData(e){return this.buffer=Buffer.concat([this.buffer,e]),this.setLength(),this}data(){return this.buffer.slice(8)}type(){return this.buffer.readUInt8(a.Type)}statusAsString(){let e=this.buffer.readUInt8(a.Status),t=[];for(let r in s)e&s[r]?t.push(r):t.push(void 0);return t.join(" ").trim()}headerToString(e=""){return e+(0,n.sprintf)("type:0x%02X(%s), status:0x%02X(%s), length:0x%04X, spid:0x%04X, packetId:0x%02X, window:0x%02X",this.buffer.readUInt8(a.Type),o[this.buffer.readUInt8(a.Type)],this.buffer.readUInt8(a.Status),this.statusAsString(),this.buffer.readUInt16BE(a.Length),this.buffer.readUInt16BE(a.SPID),this.buffer.readUInt8(a.PacketID),this.buffer.readUInt8(a.Window))}dataToString(e=""){let t=this.data(),r="",i="";for(let o=0;o<t.length;o++)o%32==0&&(r+=e+(0,n.sprintf)("%04X  ",o)),t[o]<32||t[o]>126?(i+=".",(o+1)%8==0&&(o+1)%32!=0&&(i+=" ")):i+=String.fromCharCode(t[o]),null!=t[o]&&(r+=(0,n.sprintf)("%02X",t[o])),(o+1)%4==0&&(o+1)%32!=0&&(r+=" "),(o+1)%32==0&&(r+="  "+i,i="",o<t.length-1&&(r+="\n"));return i.length&&(r+="  "+i),r}toString(e=""){return this.headerToString(e)+"\n"+this.dataToString(e+e)}payloadString(){return""}}t.Packet=l},14166:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(43074),i=function(e){return e&&e.__esModule?e:{default:e}}(r(24927));let o={VERSION:0,ENCRYPTION:1,INSTOPT:2,THREADID:3,MARS:4,FEDAUTHREQUIRED:6,TERMINATOR:255},s={OFF:0,ON:1,NOT_SUP:2,REQ:3},a={};for(let e in s)a[s[e]]=e;let l={OFF:0,ON:1},c={};for(let e in l)c[l[e]]=e;class u{constructor(e={encrypt:!1,version:{major:0,minor:0,build:0,subbuild:0}}){e instanceof Buffer?(this.data=e,this.options={encrypt:!1,version:{major:0,minor:0,build:0,subbuild:0}}):(this.options=e,this.createOptions()),this.extractOptions()}createOptions(){let e=[this.createVersionOption(),this.createEncryptionOption(),this.createInstanceOption(),this.createThreadIdOption(),this.createMarsOption(),this.createFedAuthOption()],t=0;for(let r=0,n=e.length;r<n;r++)t+=5+e[r].data.length;t++,this.data=Buffer.alloc(t,0);let r=0,n=5*e.length+1;for(let t=0,i=e.length;t<i;t++){let i=e[t];this.data.writeUInt8(i.token,r+0),this.data.writeUInt16BE(n,r+1),this.data.writeUInt16BE(i.data.length,r+3),r+=5,i.data.copy(this.data,n),n+=i.data.length}this.data.writeUInt8(o.TERMINATOR,r)}createVersionOption(){let e=new i.default(20);return e.writeUInt8(this.options.version.major),e.writeUInt8(this.options.version.minor),e.writeUInt16BE(this.options.version.build),e.writeUInt16BE(this.options.version.subbuild),{token:o.VERSION,data:e.data}}createEncryptionOption(){let e=new i.default(20);return this.options.encrypt?e.writeUInt8(s.ON):e.writeUInt8(s.NOT_SUP),{token:o.ENCRYPTION,data:e.data}}createInstanceOption(){let e=new i.default(20);return e.writeUInt8(0),{token:o.INSTOPT,data:e.data}}createThreadIdOption(){let e=new i.default(20);return e.writeUInt32BE(0),{token:o.THREADID,data:e.data}}createMarsOption(){let e=new i.default(20);return e.writeUInt8(l.OFF),{token:o.MARS,data:e.data}}createFedAuthOption(){let e=new i.default(20);return e.writeUInt8(1),{token:o.FEDAUTHREQUIRED,data:e.data}}extractOptions(){let e=0;for(;this.data[e]!==o.TERMINATOR;){let t=this.data.readUInt16BE(e+1),r=this.data.readUInt16BE(e+3);switch(this.data[e]){case o.VERSION:this.extractVersion(t);break;case o.ENCRYPTION:this.extractEncryption(t);break;case o.INSTOPT:this.extractInstance(t);break;case o.THREADID:r>0&&this.extractThreadId(t);break;case o.MARS:this.extractMars(t);break;case o.FEDAUTHREQUIRED:this.extractFedAuth(t)}e+=5,t+=r}}extractVersion(e){this.version={major:this.data.readUInt8(e+0),minor:this.data.readUInt8(e+1),build:this.data.readUInt16BE(e+2),subbuild:this.data.readUInt16BE(e+4)}}extractEncryption(e){this.encryption=this.data.readUInt8(e),this.encryptionString=a[this.encryption]}extractInstance(e){this.instance=this.data.readUInt8(e)}extractThreadId(e){this.threadId=this.data.readUInt32BE(e)}extractMars(e){this.mars=this.data.readUInt8(e),this.marsString=c[this.mars]}extractFedAuth(e){this.fedAuthRequired=this.data.readUInt8(e)}toString(e=""){return e+"PreLogin - "+(0,n.sprintf)("version:%d.%d.%d.%d, encryption:0x%02X(%s), instopt:0x%02X, threadId:0x%08X, mars:0x%02X(%s)",this.version.major,this.version.minor,this.version.build,this.version.subbuild,this.encryption?this.encryption:0,this.encryptionString?this.encryptionString:"",this.instance?this.instance:0,this.threadId?this.threadId:0,this.mars?this.mars:0,this.marsString?this.marsString:"")}}t.default=u,e.exports=u},91920:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(82361),i=r(71790),o=r(28176);class s extends n.EventEmitter{on(e,t){return super.on(e,t)}emit(e,...t){return super.emit(e,...t)}constructor(e,t,r){super(),this.sqlTextOrProcedure=e,this.parameters=[],this.parametersByName={},this.preparing=!1,this.handle=void 0,this.canceled=!1,this.paused=!1,this.error=void 0,this.connection=void 0,this.timeout=void 0,this.userCallback=t,this.statementColumnEncryptionSetting=r&&r.statementColumnEncryptionSetting||o.SQLServerStatementColumnEncryptionSetting.UseConnectionSetting,this.cryptoMetadataLoaded=!1,this.callback=function(e,t,r){this.preparing?(this.preparing=!1,e?this.emit("error",e):this.emit("prepared")):(this.userCallback(e,t,r),this.emit("requestCompleted"))}}addParameter(e,t,r,n){let{output:i=!1,length:o,precision:s,scale:a}=n??{},l={type:t,name:e,value:r,output:i,length:o,precision:s,scale:a};this.parameters.push(l),this.parametersByName[e]=l}addOutputParameter(e,t,r,n){this.addParameter(e,t,r,{...n,output:!0})}makeParamsParameter(e){let t="";for(let r=0,n=e.length;r<n;r++){let n=e[r];t.length>0&&(t+=", "),t+="@"+n.name+" "+n.type.declaration(n),n.output&&(t+=" OUTPUT")}return t}validateParameters(e){for(let t=0,r=this.parameters.length;t<r;t++){let r=this.parameters[t];try{r.value=r.type.validate(r.value,e)}catch(e){throw new i.RequestError("Validation failed for parameter '"+r.name+"'. "+e.message,"EPARAM")}}}pause(){this.paused||(this.emit("pause"),this.paused=!0)}resume(){this.paused&&(this.paused=!1,this.emit("resume"))}cancel(){this.canceled||(this.canceled=!0,this.emit("cancel"))}setTimeout(e){this.timeout=e}}t.default=s,e.exports=s},51532:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(24927)),i=r(82646);let o={BY_REF_VALUE:1};class s{constructor(e,t,r,n,i){this.procedure=e,this.parameters=t,this.options=n,this.txnDescriptor=r,this.collation=i}[Symbol.iterator](){return this.generateData()}*generateData(){let e=new n.default(500);this.options.tdsVersion>="7_2"&&(0,i.writeToTrackingBuffer)(e,this.txnDescriptor,1),"string"==typeof this.procedure?e.writeUsVarchar(this.procedure):(e.writeUShort(65535),e.writeUShort(this.procedure)),e.writeUInt16LE(0),yield e.data;let t=this.parameters.length;for(let e=0;e<t;e++)yield*this.generateParameterData(this.parameters[e])}toString(e=""){return e+"RPC Request - "+this.procedure}*generateParameterData(e){let t=new n.default(3+Buffer.byteLength(e.name,"ucs-2")+1);e.name?t.writeBVarchar("@"+e.name):t.writeBVarchar("");let r=0;e.output&&(r|=o.BY_REF_VALUE),t.writeUInt8(r),yield t.data;let i={value:e.value},s=e.type;(48&s.id)==32&&(e.length?i.length=e.length:s.resolveLength&&(i.length=s.resolveLength(e))),e.precision?i.precision=e.precision:s.resolvePrecision&&(i.precision=s.resolvePrecision(e)),e.scale?i.scale=e.scale:s.resolveScale&&(i.scale=s.resolveScale(e)),this.collation&&(i.collation=this.collation),yield s.generateTypeInfo(i,this.options),yield s.generateParameterLength(i,this.options),yield*s.generateParameterData(i,this.options)}}t.default=s,e.exports=s},34593:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendInParallel=l,t.sendMessage=c;var n=a(r(71891)),i=a(r(41808)),o=a(r(41041)),s=a(r(62405));function a(e){return e&&e.__esModule?e:{default:e}}async function l(e,t,r,i){if(i.aborted)throw new s.default;return await new Promise((o,a)=>{let l=[],c=0,u=t=>{++c===e.length&&(i.removeEventListener("abort",d),f(),a(t))},h=e=>{i.removeEventListener("abort",d),f(),o(e)},d=()=>{f(),a(new s.default)},f=()=>{for(let e of l)e.removeListener("error",u),e.removeListener("message",h),e.close()};i.addEventListener("abort",d,{once:!0});for(let i=0;i<e.length;i++){let o=6===e[i].family?"udp6":"udp4",s=n.default.createSocket(o);l.push(s),s.on("error",u),s.on("message",h),s.send(r,0,r.length,t,e[i].address)}})}async function c(e,t,r,n,a){let c;if(n.aborted)throw new s.default;return c=i.default.isIP(e)?[{address:e,family:i.default.isIPv6(e)?6:4}]:await new Promise((t,i)=>{let a=()=>{i(new s.default)};n.addEventListener("abort",a),r(o.default.domainToASCII(e),{all:!0},(e,r)=>{n.removeEventListener("abort",a),e?i(e):t(r)})}),await l(c,t,a,n)}},14941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r={Sp_Cursor:1,Sp_CursorOpen:2,Sp_CursorPrepare:3,Sp_CursorExecute:4,Sp_CursorPrepExec:5,Sp_CursorUnprepare:6,Sp_CursorFetch:7,Sp_CursorOption:8,Sp_CursorClose:9,Sp_ExecuteSql:10,Sp_Prepare:11,Sp_Execute:12,Sp_PrepExec:13,Sp_PrepExecRpc:14,Sp_Unprepare:15};t.default=r,e.exports=r},55276:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(24927)),i=r(82646);class o{constructor(e,t,r){this.sqlText=e,this.txnDescriptor=t,this.options=r}*[Symbol.iterator](){if(this.options.tdsVersion>="7_2"){let e=new n.default(18,"ucs2");(0,i.writeToTrackingBuffer)(e,this.txnDescriptor,1),yield e.data}yield Buffer.from(this.sqlText,"ucs2")}toString(e=""){return e+"SQL Batch - "+this.sqlText}}t.default=o,e.exports=o},27577:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.versionsByValue=t.versions=void 0;let r={"7_1":1895825409,"7_2":1913192450,"7_3_A":1930035203,"7_3_B":1930100739,"7_4":1946157060,"8_0":134217728};t.versions=r;let n={};for(let e in t.versionsByValue=n,r)n[r[e]]=e},1129:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BulkLoad",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Connection",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return a.ConnectionError}}),Object.defineProperty(t,"ISOLATION_LEVEL",{enumerable:!0,get:function(){return c.ISOLATION_LEVEL}}),Object.defineProperty(t,"Request",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"RequestError",{enumerable:!0,get:function(){return a.RequestError}}),Object.defineProperty(t,"TDS_VERSION",{enumerable:!0,get:function(){return u.versions}}),Object.defineProperty(t,"TYPES",{enumerable:!0,get:function(){return l.TYPES}}),t.connect=function(e,t){let r=new i.default(e);return r.connect(t),r},t.library=void 0;var n=h(r(769)),i=h(r(43276)),o=h(r(91920)),s=r(93624),a=r(71790),l=r(47258),c=r(43539),u=r(27577);function h(e){return e&&e.__esModule?e:{default:e}}let d={name:s.name};t.library=d},95498:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(50697),i=r(37902),o=r(32505);async function s(e){let t;for(;;){let r;try{({offset:r,value:t}=(0,o.readUInt16LE)(e.buffer,e.position))}catch(t){if(t instanceof o.NotEnoughDataError){await e.waitForChunk();continue}throw t}e.position=r;break}let r=[];for(let i=0;i<t;i++)for(;;){let t,s;try{({offset:s,value:t}=function(e,t,r,i){var s;let a,l,c,u;return{offset:t,value:a}=(0,n.readMetadata)(e,t,r),{offset:t,value:l}=function(e,t,r,n){let i;if(!r.type.hasTableName)return new o.Result(void 0,t);if(n.tdsVersion<"7_2")return(0,o.readUsVarChar)(e,t);({offset:t,value:i}=(0,o.readUInt8)(e,t));let s=[];for(let r=0;r<i;r++){let r;({offset:t,value:r}=(0,o.readUsVarChar)(e,t)),s.push(r)}return new o.Result(s,t)}(e,t,a,r),{offset:t,value:c}=(s=t,({offset:s,value:u}=(0,o.readBVarChar)(e,s),r.columnNameReplacer)?new o.Result(r.columnNameReplacer(u,i,a),s):r.camelCaseColumns?new o.Result(u.replace(/^[A-Z]/,function(e){return e.toLowerCase()}),s):new o.Result(u,s)),new o.Result({userType:a.userType,flags:a.flags,type:a.type,collation:a.collation,precision:a.precision,scale:a.scale,udtInfo:a.udtInfo,dataLength:a.dataLength,schema:a.schema,colName:c,tableName:l},t)}(e.buffer,e.position,e.options,i))}catch(t){if(t instanceof o.NotEnoughDataError){await e.waitForChunk();continue}throw t}e.position=s,r.push(t);break}return new i.ColMetadataToken(r)}t.default=s,e.exports=s},53303:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doneInProcParser=function(e,t,r){let o;return{offset:t,value:o}=s(e,t,r),new i.Result(new n.DoneInProcToken(o),t)},t.doneParser=function(e,t,r){let o;return{offset:t,value:o}=s(e,t,r),new i.Result(new n.DoneToken(o),t)},t.doneProcParser=function(e,t,r){let o;return{offset:t,value:o}=s(e,t,r),new i.Result(new n.DoneProcToken(o),t)};var n=r(37902),i=r(32505);let o={MORE:1,ERROR:2,COUNT:16,ATTN:32,SRVERROR:256};function s(e,t,r){let n,s,a;({offset:t,value:n}=(0,i.readUInt16LE)(e,t));let l=!!(n&o.MORE),c=!!(n&o.ERROR),u=!!(n&o.COUNT),h=!!(n&o.ATTN),d=!!(n&o.SRVERROR);return{offset:t,value:s}=(0,i.readUInt16LE)(e,t),{offset:t,value:a}=(r.tdsVersion<"7_2"?i.readUInt32LE:i.readBigUInt64LE)(e,t),new i.Result({more:l,sqlError:c,attention:h,serverError:d,rowCount:u?Number(a):void 0,curCmd:s},t)}},5439:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(34132),i=r(37902),o=r(32505);let s={1:{name:"DATABASE",event:"databaseChange"},2:{name:"LANGUAGE",event:"languageChange"},3:{name:"CHARSET",event:"charsetChange"},4:{name:"PACKET_SIZE",event:"packetSizeChange"},7:{name:"SQL_COLLATION",event:"sqlCollationChange"},8:{name:"BEGIN_TXN",event:"beginTransaction"},9:{name:"COMMIT_TXN",event:"commitTransaction"},10:{name:"ROLLBACK_TXN",event:"rollbackTransaction"},13:{name:"DATABASE_MIRRORING_PARTNER",event:"partnerNode"},17:{name:"TXN_ENDED"},18:{name:"RESET_CONNECTION",event:"resetConnection"},20:{name:"ROUTING_CHANGE",event:"routingChange"}};function a(e,t,r){let a,l;if({offset:t,value:a}=(0,o.readUInt16LE)(e,t),e.length<t+a)throw new o.NotEnoughDataError(t+a);({offset:t,value:l}=(0,o.readUInt8)(e,t));let c=s[l];return c?function(e,t,r,s){switch(s.name){case"DATABASE":case"LANGUAGE":case"CHARSET":case"PACKET_SIZE":case"DATABASE_MIRRORING_PARTNER":{let r,n;switch({offset:t,value:r}=(0,o.readBVarChar)(e,t),{offset:t,value:n}=(0,o.readBVarChar)(e,t),s.name){case"PACKET_SIZE":return new o.Result(new i.PacketSizeEnvChangeToken(parseInt(r),parseInt(n)),t);case"DATABASE":return new o.Result(new i.DatabaseEnvChangeToken(r,n),t);case"LANGUAGE":return new o.Result(new i.LanguageEnvChangeToken(r,n),t);case"CHARSET":return new o.Result(new i.CharsetEnvChangeToken(r,n),t);case"DATABASE_MIRRORING_PARTNER":return new o.Result(new i.DatabaseMirroringPartnerEnvChangeToken(r,n),t)}throw Error("unreachable")}case"SQL_COLLATION":case"BEGIN_TXN":case"COMMIT_TXN":case"ROLLBACK_TXN":case"RESET_CONNECTION":{let r,a;switch({offset:t,value:r}=(0,o.readBVarByte)(e,t),{offset:t,value:a}=(0,o.readBVarByte)(e,t),s.name){case"SQL_COLLATION":{let e=r.length?n.Collation.fromBuffer(r):void 0,s=a.length?n.Collation.fromBuffer(a):void 0;return new o.Result(new i.CollationChangeToken(e,s),t)}case"BEGIN_TXN":return new o.Result(new i.BeginTransactionEnvChangeToken(r,a),t);case"COMMIT_TXN":return new o.Result(new i.CommitTransactionEnvChangeToken(r,a),t);case"ROLLBACK_TXN":return new o.Result(new i.RollbackTransactionEnvChangeToken(r,a),t);case"RESET_CONNECTION":return new o.Result(new i.ResetConnectionEnvChangeToken(r,a),t)}throw Error("unreachable")}case"ROUTING_CHANGE":{let r,n;({offset:t,value:r}=(0,o.readUsVarByte)(e,t)),{offset:t,value:n}=(0,o.readUsVarByte)(e,t);let s=r.readUInt8(0);if(0!==s)throw Error("Unknown protocol byte in routing change event");let a=r.readUInt16LE(1),l=r.readUInt16LE(3),c=r.toString("ucs2",5,5+2*l);return new o.Result(new i.RoutingEnvChangeToken({protocol:s,port:a,server:c},n),t)}default:return console.error("Tedious > Unsupported ENVCHANGE type "+s.name),new o.Result(void 0,t+r-1)}}(e,t,a,c):(console.error("Tedious > Unsupported ENVCHANGE type "+l),new o.Result(void 0,t+a-1))}t.default=a,e.exports=a},8281:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(32505),i=r(37902);let o={FEDAUTH:2,UTF8_SUPPORT:10,TERMINATOR:255};function s(e,t,r){let s,a;for(;;){let r,l;if({value:r,offset:t}=(0,n.readUInt8)(e,t),r===o.TERMINATOR)return new n.Result(new i.FeatureExtAckToken(s,a),t);if({value:l,offset:t}=(0,n.readUInt32LE)(e,t),e.length<t+l)throw new n.NotEnoughDataError(t+l);let c=e.slice(t,t+l);switch(t+=l,r){case o.FEDAUTH:s=c;break;case o.UTF8_SUPPORT:a=!!c[0]}}}t.default=s,e.exports=s},61179:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(32505),i=r(37902);let o={STSURL:1,SPN:2};function s(e,t,r){let s;if({offset:t,value:s}=(0,n.readUInt32LE)(e,t),e.length<t+s)throw new n.NotEnoughDataError(t+s);let a=e.slice(t,t+s);t+=s;let{spn:l,stsurl:c}=function(e){let t,r,n=0,i=e.readUInt32LE(n);n+=4;for(let s=0;s<i;s++){let i=e.readUInt8(n);n+=1;let s=e.readUInt32LE(n);n+=4;let a=e.readUInt32LE(n);switch(n+=4,i){case o.SPN:t=e.toString("ucs2",a,a+s);break;case o.STSURL:r=e.toString("ucs2",a,a+s)}}return{spn:t,stsurl:r}}(a);return new n.Result(new i.FedAuthInfoToken(l,c),t)}t.default=s,e.exports=s},79302:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnexpectedTokenError=t.TokenHandler=t.RequestTokenHandler=t.Login7TokenHandler=t.InitialSqlTokenHandler=t.AttentionTokenHandler=void 0;var n=s(r(91920)),i=r(71790),o=s(r(13857));function s(e){return e&&e.__esModule?e:{default:e}}class a extends Error{constructor(e,t){super("Unexpected token `"+t.name+"` in `"+e.constructor.name+"`")}}t.UnexpectedTokenError=a;class l{onInfoMessage(e){throw new a(this,e)}onErrorMessage(e){throw new a(this,e)}onSSPI(e){throw new a(this,e)}onDatabaseChange(e){throw new a(this,e)}onLanguageChange(e){throw new a(this,e)}onCharsetChange(e){throw new a(this,e)}onSqlCollationChange(e){throw new a(this,e)}onRoutingChange(e){throw new a(this,e)}onPacketSizeChange(e){throw new a(this,e)}onResetConnection(e){throw new a(this,e)}onBeginTransaction(e){throw new a(this,e)}onCommitTransaction(e){throw new a(this,e)}onRollbackTransaction(e){throw new a(this,e)}onFedAuthInfo(e){throw new a(this,e)}onFeatureExtAck(e){throw new a(this,e)}onLoginAck(e){throw new a(this,e)}onColMetadata(e){throw new a(this,e)}onOrder(e){throw new a(this,e)}onRow(e){throw new a(this,e)}onReturnStatus(e){throw new a(this,e)}onReturnValue(e){throw new a(this,e)}onDoneProc(e){throw new a(this,e)}onDoneInProc(e){throw new a(this,e)}onDone(e){throw new a(this,e)}onDatabaseMirroringPartner(e){throw new a(this,e)}}t.TokenHandler=l;class c extends l{constructor(e){super(),this.connection=e}onInfoMessage(e){this.connection.emit("infoMessage",e)}onErrorMessage(e){this.connection.emit("errorMessage",e)}onDatabaseChange(e){this.connection.emit("databaseChange",e.newValue)}onLanguageChange(e){this.connection.emit("languageChange",e.newValue)}onCharsetChange(e){this.connection.emit("charsetChange",e.newValue)}onSqlCollationChange(e){this.connection.databaseCollation=e.newValue}onPacketSizeChange(e){this.connection.messageIo.packetSize(e.newValue)}onBeginTransaction(e){this.connection.transactionDescriptors.push(e.newValue),this.connection.inTransaction=!0}onCommitTransaction(e){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1}onRollbackTransaction(e){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1,this.connection.emit("rollbackTransaction")}onColMetadata(e){this.connection.emit("error",Error("Received 'columnMetadata' when no sqlRequest is in progress")),this.connection.close()}onOrder(e){this.connection.emit("error",Error("Received 'order' when no sqlRequest is in progress")),this.connection.close()}onRow(e){this.connection.emit("error",Error("Received 'row' when no sqlRequest is in progress")),this.connection.close()}onReturnStatus(e){}onReturnValue(e){}onDoneProc(e){}onDoneInProc(e){}onDone(e){}onResetConnection(e){this.connection.emit("resetConnection")}}t.InitialSqlTokenHandler=c;class u extends l{constructor(e){super(),this.loginAckReceived=!1,this.connection=e}onInfoMessage(e){this.connection.emit("infoMessage",e)}onErrorMessage(e){this.connection.emit("errorMessage",e);let t=new i.ConnectionError(e.message,"ELOGIN");this.connection.transientErrorLookup.isTransientError(e.number)&&this.connection.curTransientRetryCount!==this.connection.config.options.maxRetriesOnTransientErrors&&(t.isTransient=!0),this.connection.loginError=t}onSSPI(e){e.ntlmpacket&&(this.connection.ntlmpacket=e.ntlmpacket,this.connection.ntlmpacketBuffer=e.ntlmpacketBuffer)}onDatabaseChange(e){this.connection.emit("databaseChange",e.newValue)}onLanguageChange(e){this.connection.emit("languageChange",e.newValue)}onCharsetChange(e){this.connection.emit("charsetChange",e.newValue)}onSqlCollationChange(e){this.connection.databaseCollation=e.newValue}onFedAuthInfo(e){this.fedAuthInfoToken=e}onFeatureExtAck(e){let{authentication:t}=this.connection.config;"azure-active-directory-password"===t.type||"azure-active-directory-access-token"===t.type||"azure-active-directory-msi-vm"===t.type||"azure-active-directory-msi-app-service"===t.type||"azure-active-directory-service-principal-secret"===t.type||"azure-active-directory-default"===t.type?void 0===e.fedAuth?this.connection.loginError=new i.ConnectionError("Did not receive Active Directory authentication acknowledgement"):0!==e.fedAuth.length&&(this.connection.loginError=new i.ConnectionError(`Active Directory authentication acknowledgment for ${t.type} authentication method includes extra data`)):void 0===e.fedAuth&&void 0===e.utf8Support?this.connection.loginError=new i.ConnectionError("Received acknowledgement for unknown feature"):e.fedAuth&&(this.connection.loginError=new i.ConnectionError("Did not request Active Directory authentication, but received the acknowledgment"))}onLoginAck(e){if(!e.tdsVersion){this.connection.loginError=new i.ConnectionError("Server responded with unknown TDS version.","ETDS");return}if(!e.interface){this.connection.loginError=new i.ConnectionError("Server responded with unsupported interface.","EINTERFACENOTSUPP");return}this.connection.config.options.tdsVersion=e.tdsVersion,this.loginAckReceived=!0}onRoutingChange(e){let[t]=e.newValue.server.split("\\");this.routingData={server:t,port:e.newValue.port}}onDoneInProc(e){}onDone(e){}onPacketSizeChange(e){this.connection.messageIo.packetSize(e.newValue)}onDatabaseMirroringPartner(e){}}t.Login7TokenHandler=u;class h extends l{constructor(e,t){super(),this.connection=e,this.request=t,this.errors=[]}onInfoMessage(e){this.connection.emit("infoMessage",e)}onErrorMessage(e){if(this.connection.emit("errorMessage",e),!this.request.canceled){let t=new i.RequestError(e.message,"EREQUEST");t.number=e.number,t.state=e.state,t.class=e.class,t.serverName=e.serverName,t.procName=e.procName,t.lineNumber=e.lineNumber,this.errors.push(t),this.request.error=t,this.request instanceof n.default&&this.errors.length>1&&(this.request.error=new o.default(this.errors))}}onDatabaseChange(e){this.connection.emit("databaseChange",e.newValue)}onLanguageChange(e){this.connection.emit("languageChange",e.newValue)}onCharsetChange(e){this.connection.emit("charsetChange",e.newValue)}onSqlCollationChange(e){this.connection.databaseCollation=e.newValue}onPacketSizeChange(e){this.connection.messageIo.packetSize(e.newValue)}onBeginTransaction(e){this.connection.transactionDescriptors.push(e.newValue),this.connection.inTransaction=!0}onCommitTransaction(e){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1}onRollbackTransaction(e){this.connection.transactionDescriptors.length=1,this.connection.inTransaction=!1,this.connection.emit("rollbackTransaction")}onColMetadata(e){if(!this.request.canceled){if(this.connection.config.options.useColumnNames){let t=Object.create(null);for(let r=0,n=e.columns.length;r<n;r++){let n=e.columns[r];null==t[n.colName]&&(t[n.colName]=n)}this.request.emit("columnMetadata",t)}else this.request.emit("columnMetadata",e.columns)}}onOrder(e){this.request.canceled||this.request.emit("order",e.orderColumns)}onRow(e){this.request.canceled||(this.connection.config.options.rowCollectionOnRequestCompletion&&this.request.rows.push(e.columns),this.connection.config.options.rowCollectionOnDone&&this.request.rst.push(e.columns),this.request.emit("row",e.columns))}onReturnStatus(e){this.request.canceled||(this.connection.procReturnStatusValue=e.value)}onReturnValue(e){this.request.canceled||this.request.emit("returnValue",e.paramName,e.value,e.metadata)}onDoneProc(e){!this.request.canceled&&(e.sqlError&&!this.request.error&&(this.request.error=new i.RequestError("An unknown error has occurred.","UNKNOWN")),this.request.emit("doneProc",e.rowCount,e.more,this.connection.procReturnStatusValue,this.request.rst),this.connection.procReturnStatusValue=void 0,void 0!==e.rowCount&&(this.request.rowCount+=e.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onDoneInProc(e){!this.request.canceled&&(this.request.emit("doneInProc",e.rowCount,e.more,this.request.rst),void 0!==e.rowCount&&(this.request.rowCount+=e.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onDone(e){!this.request.canceled&&(e.sqlError&&!this.request.error&&(this.request.error=new i.RequestError("An unknown error has occurred.","UNKNOWN")),this.request.emit("done",e.rowCount,e.more,this.request.rst),void 0!==e.rowCount&&(this.request.rowCount+=e.rowCount),this.connection.config.options.rowCollectionOnDone&&(this.request.rst=[]))}onResetConnection(e){this.connection.emit("resetConnection")}}t.RequestTokenHandler=h;class d extends l{constructor(e,t){super(),this.connection=e,this.request=t,this.attentionReceived=!1}onDone(e){e.attention&&(this.attentionReceived=!0)}}t.AttentionTokenHandler=d},32505:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Result=t.NotEnoughDataError=void 0,t.readBVarByte=function(e,t){let o;if(t=+t,{offset:t,value:o}=i(e,t),e.length<t+o)throw new n(t+o);return new r(e.slice(t,t+o),t+o)},t.readBVarChar=function(e,t){let o;t=+t,{offset:t,value:o}=i(e,t);let s=2*o;if(e.length<t+s)throw new n(t+s);return new r(e.toString("ucs2",t,t+s),t+s)},t.readBigInt64LE=function(e,t){if(t=+t,e.length<t+8)throw new n(t+8);return new r(e.readBigInt64LE(t),t+8)},t.readBigUInt64LE=function(e,t){if(t=+t,e.length<t+8)throw new n(t+8);return new r(e.readBigUInt64LE(t),t+8)},t.readDoubleLE=function(e,t){if(t=+t,e.length<t+8)throw new n(t+8);return new r(e.readDoubleLE(t),t+8)},t.readFloatLE=function(e,t){if(t=+t,e.length<t+4)throw new n(t+4);return new r(e.readFloatLE(t),t+4)},t.readInt16LE=function(e,t){if(t=+t,e.length<t+2)throw new n(t+2);return new r(e.readInt16LE(t),t+2)},t.readInt32LE=function(e,t){if(t=+t,e.length<t+4)throw new n(t+4);return new r(e.readInt32LE(t),t+4)},t.readUInt16LE=o,t.readUInt24LE=function(e,t){if(t=+t,e.length<t+3)throw new n(t+3);return new r(e.readUIntLE(t,3),t+3)},t.readUInt32BE=function(e,t){if(t=+t,e.length<t+4)throw new n(t+4);return new r(e.readUInt32BE(t),t+4)},t.readUInt32LE=function(e,t){if(t=+t,e.length<t+4)throw new n(t+4);return new r(e.readUInt32LE(t),t+4)},t.readUInt40LE=function(e,t){if(t=+t,e.length<t+5)throw new n(t+5);return new r(e.readUIntLE(t,5),t+5)},t.readUInt8=i,t.readUNumeric128LE=function(e,t){if(t=+t,e.length<t+16)throw new n(t+16);let i=e.readUInt32LE(t);return new r(i+4294967296*e.readUInt32LE(t+4)+18446744073709552e3*e.readUInt32LE(t+8)+7922816251426434e13*e.readUInt32LE(t+12),t+16)},t.readUNumeric64LE=function(e,t){if(t=+t,e.length<t+8)throw new n(t+8);let i=e.readUInt32LE(t);return new r(4294967296*e.readUInt32LE(t+4)+i,t+8)},t.readUNumeric96LE=function(e,t){if(t=+t,e.length<t+12)throw new n(t+12);return new r(e.readUInt32LE(t)+4294967296*e.readUInt32LE(t+4)+18446744073709552e3*e.readUInt32LE(t+8),t+12)},t.readUsVarByte=function(e,t){let i;if(t=+t,{offset:t,value:i}=o(e,t),e.length<t+i)throw new n(t+i);return new r(e.slice(t,t+i),t+i)},t.readUsVarChar=function(e,t){let i;t=+t,{offset:t,value:i}=o(e,t);let s=2*i;if(e.length<t+s)throw new n(t+s);return new r(e.toString("ucs2",t,t+s),t+s)};class r{constructor(e,t){this.value=e,this.offset=t}}t.Result=r;class n extends Error{byteCount;constructor(e){super(),this.byteCount=e}}function i(e,t){if(t=+t,e.length<t+1)throw new n(t+1);return new r(e.readUInt8(t),t+1)}function o(e,t){if(t=+t,e.length<t+2)throw new n(t+2);return new r(e.readUInt16LE(t),t+2)}t.NotEnoughDataError=n},14350:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorParser=function(e,t,r){let s;return{offset:t,value:s}=o(e,t,r),new n.Result(new i.ErrorMessageToken(s),t)},t.infoParser=function(e,t,r){let s;return{offset:t,value:s}=o(e,t,r),new n.Result(new i.InfoMessageToken(s),t)};var n=r(32505),i=r(37902);function o(e,t,r){let i,o,s,a,l,c,u,h;if({offset:t,value:i}=(0,n.readUInt16LE)(e,t),e.length<i+t)throw new n.NotEnoughDataError(i+t);return{offset:t,value:o}=(0,n.readUInt32LE)(e,t),{offset:t,value:s}=(0,n.readUInt8)(e,t),{offset:t,value:a}=(0,n.readUInt8)(e,t),{offset:t,value:l}=(0,n.readUsVarChar)(e,t),{offset:t,value:c}=(0,n.readBVarChar)(e,t),{offset:t,value:u}=(0,n.readBVarChar)(e,t),{offset:t,value:h}=r.tdsVersion<"7_2"?(0,n.readUInt16LE)(e,t):(0,n.readUInt32LE)(e,t),new n.Result({number:o,state:s,class:a,message:l,serverName:c,procName:u,lineNumber:h},t)}},4476:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(37902),i=r(27577),o=r(32505);let s={0:"SQL_DFLT",1:"SQL_TSQL"};function a(e,t,r){let a,l,c,u,h,d,f,p;if({offset:t,value:a}=(0,o.readUInt16LE)(e,t),e.length<a+t)throw new o.NotEnoughDataError(a+t);({offset:t,value:l}=(0,o.readUInt8)(e,t));let m=s[l];({offset:t,value:c}=(0,o.readUInt32BE)(e,t));let g=i.versionsByValue[c];return{offset:t,value:u}=(0,o.readBVarChar)(e,t),{offset:t,value:h}=(0,o.readUInt8)(e,t),{offset:t,value:d}=(0,o.readUInt8)(e,t),{offset:t,value:f}=(0,o.readUInt8)(e,t),{offset:t,value:p}=(0,o.readUInt8)(e,t),new o.Result(new n.LoginAckToken({interface:m,tdsVersion:g,progName:u,progVersion:{major:h,minor:d,buildNumHi:f,buildNumLow:p}}),t)}t.default=a,e.exports=a},81168:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(37902),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(void 0);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(13751)),o=r(77661),s=r(32505);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}async function l(e){let t=e.colMetadata,r=[],a=[],l=Math.ceil(t.length/8);for(;e.buffer.length-e.position<l;)await e.waitForChunk();let c=e.buffer.slice(e.position,e.position+l);e.position+=l;for(let e=0,t=c.length;e<t;e++){let t=c[e];a.push(!!(1&t)),a.push(!!(2&t)),a.push(!!(4&t)),a.push(!!(8&t)),a.push(!!(16&t)),a.push(!!(32&t)),a.push(!!(64&t)),a.push(!!(128&t))}for(let n=0;n<t.length;n++){let l=t[n];if(a[n]){r.push({value:null,metadata:l});continue}for(;;){if((0,o.isPLPStream)(l)){let t=await (0,o.readPLPStream)(e);if(null===t)r.push({value:t,metadata:l});else if("NVarChar"===l.type.name||"Xml"===l.type.name)r.push({value:Buffer.concat(t).toString("ucs2"),metadata:l});else if("VarChar"===l.type.name){var u;r.push({value:i.decode(Buffer.concat(t),(null===(u=l.collation)||void 0===u?void 0:u.codepage)??"utf8"),metadata:l})}else("VarBinary"===l.type.name||"UDT"===l.type.name)&&r.push({value:Buffer.concat(t),metadata:l})}else{let t;try{t=(0,o.readValue)(e.buffer,e.position,l,e.options)}catch(t){if(t instanceof s.NotEnoughDataError){await e.waitForChunk();continue}throw t}e.position=t.offset,r.push({value:t.value,metadata:l})}break}}if(!e.options.useColumnNames)return new n.NBCRowToken(r);{let e=Object.create(null);return r.forEach(t=>{let r=t.metadata.colName;null==e[r]&&(e[r]=t)}),new n.NBCRowToken(e)}}t.default=l,e.exports=l},49193:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(37902),i=r(32505);function o(e,t,r){let o;if({offset:t,value:o}=(0,i.readUInt16LE)(e,t),e.length<t+o)throw new i.NotEnoughDataError(t+o);let s=[];for(let r=0;r<o;r+=2){let r;({offset:t,value:r}=(0,i.readUInt16LE)(e,t)),s.push(r)}return new i.Result(new n.OrderToken(s),t)}t.default=o,e.exports=o},7134:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(32505),i=r(37902);function o(e,t,r){let o;return{value:o,offset:t}=(0,n.readInt32LE)(e,t),new n.Result(new i.ReturnStatusToken(o),t)}t.default=o,e.exports=o},19341:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(37902),i=r(50697),o=r(77661),s=r(32505),a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(void 0);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(13751));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}async function c(e){let t,r,l,c;for(;;){let n=e.buffer,o=e.position;try{({offset:o,value:r}=(0,s.readUInt16LE)(n,o)),({offset:o,value:t}=(0,s.readBVarChar)(n,o)),({offset:o}=(0,s.readUInt8)(n,o)),({offset:o,value:l}=(0,i.readMetadata)(n,o,e.options)),"@"===t.charAt(0)&&(t=t.slice(1))}catch(t){if(t instanceof s.NotEnoughDataError){await e.waitForChunk();continue}throw t}e.position=o;break}for(;;){let t=e.buffer,r=e.position;if((0,o.isPLPStream)(l)){let t=await (0,o.readPLPStream)(e);if(null===t)c=t;else if("NVarChar"===l.type.name||"Xml"===l.type.name)c=Buffer.concat(t).toString("ucs2");else if("VarChar"===l.type.name){var u;c=a.decode(Buffer.concat(t),(null===(u=l.collation)||void 0===u?void 0:u.codepage)??"utf8")}else("VarBinary"===l.type.name||"UDT"===l.type.name)&&(c=Buffer.concat(t))}else{try{({value:c,offset:r}=(0,o.readValue)(t,r,l,e.options))}catch(t){if(t instanceof s.NotEnoughDataError){await e.waitForChunk();continue}throw t}e.position=r}break}return new n.ReturnValueToken({paramOrdinal:r,paramName:t,metadata:l,value:c})}t.default=c,e.exports=c},13690:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(37902),i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(void 0);if(r&&r.has(e))return r.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}(r(13751)),o=r(77661),s=r(32505);function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}async function l(e){let t=[];for(let n of e.colMetadata)for(;;){if((0,o.isPLPStream)(n)){let s=await (0,o.readPLPStream)(e);if(null===s)t.push({value:s,metadata:n});else if("NVarChar"===n.type.name||"Xml"===n.type.name)t.push({value:Buffer.concat(s).toString("ucs2"),metadata:n});else if("VarChar"===n.type.name){var r;t.push({value:i.decode(Buffer.concat(s),(null===(r=n.collation)||void 0===r?void 0:r.codepage)??"utf8"),metadata:n})}else("VarBinary"===n.type.name||"UDT"===n.type.name)&&t.push({value:Buffer.concat(s),metadata:n})}else{let r;try{r=(0,o.readValue)(e.buffer,e.position,n,e.options)}catch(t){if(t instanceof s.NotEnoughDataError){await e.waitForChunk();continue}throw t}e.position=r.offset,t.push({value:r.value,metadata:n})}break}if(!e.options.useColumnNames)return new n.RowToken(t);{let e=Object.create(null);return t.forEach(t=>{let r=t.metadata.colName;null==e[r]&&(e[r]=t)}),new n.RowToken(e)}}t.default=l,e.exports=l},15765:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(32505),i=r(37902);function o(e,t,r){let o;if({offset:t,value:o}=(0,n.readUInt16LE)(e,t),e.length<t+o)throw new n.NotEnoughDataError(t+o);let s=e.slice(t,t+o);return t+=o,new n.Result(new i.SSPIToken(function(e){let t={};return t.magic=e.slice(0,8).toString("utf8"),t.type=e.readInt32LE(8),t.domainLen=e.readInt16LE(12),t.domainMax=e.readInt16LE(14),t.domainOffset=e.readInt32LE(16),t.flags=e.readInt32LE(20),t.nonce=e.slice(24,32),t.zeroes=e.slice(32,40),t.targetLen=e.readInt16LE(40),t.targetMax=e.readInt16LE(42),t.targetOffset=e.readInt32LE(44),t.oddData=e.slice(48,56),t.domain=e.slice(56,56+t.domainLen).toString("ucs2"),t.target=e.slice(56+t.domainLen,56+t.domainLen+t.targetLen),t}(s),s),t)}t.default=o,e.exports=o},70139:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(37902),i=_(r(95498)),o=r(53303),s=_(r(5439)),a=r(14350),l=_(r(61179)),c=_(r(8281)),u=_(r(4476)),h=_(r(49193)),d=_(r(7134)),f=_(r(19341)),p=_(r(13690)),m=_(r(81168)),g=_(r(15765)),y=r(32505);function _(e){return e&&e.__esModule?e:{default:e}}class E{debug;colMetadata;options;iterator;buffer;position;static async *parseTokens(e,t,r,n=[]){let i=new E(e,t,r);for(i.colMetadata=n;;){try{await i.waitForChunk()}catch(e){if(i.position===i.buffer.length)return;throw e}for(;i.buffer.length>=i.position+1;){let e=i.buffer.readUInt8(i.position);i.position+=1;let t=i.readToken(e);void 0!==t&&(yield t)}}}readToken(e){switch(e){case n.TYPE.DONE:return this.readDoneToken();case n.TYPE.DONEPROC:return this.readDoneProcToken();case n.TYPE.DONEINPROC:return this.readDoneInProcToken();case n.TYPE.ERROR:return this.readErrorToken();case n.TYPE.INFO:return this.readInfoToken();case n.TYPE.ENVCHANGE:return this.readEnvChangeToken();case n.TYPE.LOGINACK:return this.readLoginAckToken();case n.TYPE.RETURNSTATUS:return this.readReturnStatusToken();case n.TYPE.ORDER:return this.readOrderToken();case n.TYPE.FEDAUTHINFO:return this.readFedAuthInfoToken();case n.TYPE.SSPI:return this.readSSPIToken();case n.TYPE.COLMETADATA:return this.readColMetadataToken();case n.TYPE.RETURNVALUE:return this.readReturnValueToken();case n.TYPE.ROW:return this.readRowToken();case n.TYPE.NBCROW:return this.readNbcRowToken();case n.TYPE.FEATUREEXTACK:return this.readFeatureExtAckToken();default:throw Error("Unknown type: "+e)}}readFeatureExtAckToken(){let e;try{e=(0,c.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readFeatureExtAckToken());throw e}return this.position=e.offset,e.value}async readNbcRowToken(){return await (0,m.default)(this)}async readReturnValueToken(){return await (0,f.default)(this)}async readColMetadataToken(){let e=await (0,i.default)(this);return this.colMetadata=e.columns,e}readSSPIToken(){let e;try{e=(0,g.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readSSPIToken());throw e}return this.position=e.offset,e.value}readFedAuthInfoToken(){let e;try{e=(0,l.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readFedAuthInfoToken());throw e}return this.position=e.offset,e.value}readOrderToken(){let e;try{e=(0,h.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readOrderToken());throw e}return this.position=e.offset,e.value}readReturnStatusToken(){let e;try{e=(0,d.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readReturnStatusToken());throw e}return this.position=e.offset,e.value}readLoginAckToken(){let e;try{e=(0,u.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readLoginAckToken());throw e}return this.position=e.offset,e.value}readEnvChangeToken(){let e;try{e=(0,s.default)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readEnvChangeToken());throw e}return this.position=e.offset,e.value}readRowToken(){return(0,p.default)(this)}readInfoToken(){let e;try{e=(0,a.infoParser)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readInfoToken());throw e}return this.position=e.offset,e.value}readErrorToken(){let e;try{e=(0,a.errorParser)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readErrorToken());throw e}return this.position=e.offset,e.value}readDoneInProcToken(){let e;try{e=(0,o.doneInProcParser)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readDoneInProcToken());throw e}return this.position=e.offset,e.value}readDoneProcToken(){let e;try{e=(0,o.doneProcParser)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readDoneProcToken());throw e}return this.position=e.offset,e.value}readDoneToken(){let e;try{e=(0,o.doneParser)(this.buffer,this.position,this.options)}catch(e){if(e instanceof y.NotEnoughDataError)return this.waitForChunk().then(()=>this.readDoneToken());throw e}return this.position=e.offset,e.value}constructor(e,t,r){this.debug=t,this.colMetadata=[],this.options=r,this.iterator=(e[Symbol.asyncIterator]||e[Symbol.iterator]).call(e),this.buffer=Buffer.alloc(0),this.position=0}async waitForChunk(){let e=await this.iterator.next();if(e.done)throw Error("unexpected end of data");this.position===this.buffer.length?this.buffer=e.value:this.buffer=Buffer.concat([this.buffer.slice(this.position),e.value]),this.position=0}}t.default=E,e.exports=E},59889:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var n=r(82361),i=function(e){return e&&e.__esModule?e:{default:e}}(r(70139)),o=r(12781);class s extends n.EventEmitter{constructor(e,t,r,n){super(),this.debug=t,this.options=n,this.parser=o.Readable.from(i.default.parseTokens(e,this.debug,this.options)),this.parser.on("data",e=>{r[e.handlerName](e)}),this.parser.on("drain",()=>{this.emit("drain")}),this.parser.on("end",()=>{this.emit("end")})}pause(){return this.parser.pause()}resume(){return this.parser.resume()}}t.Parser=s},37902:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Token=t.TYPE=t.SSPIToken=t.RowToken=t.RoutingEnvChangeToken=t.RollbackTransactionEnvChangeToken=t.ReturnValueToken=t.ReturnStatusToken=t.ResetConnectionEnvChangeToken=t.PacketSizeEnvChangeToken=t.OrderToken=t.NBCRowToken=t.LoginAckToken=t.LanguageEnvChangeToken=t.InfoMessageToken=t.FedAuthInfoToken=t.FeatureExtAckToken=t.ErrorMessageToken=t.DoneToken=t.DoneProcToken=t.DoneInProcToken=t.DatabaseMirroringPartnerEnvChangeToken=t.DatabaseEnvChangeToken=t.CommitTransactionEnvChangeToken=t.CollationChangeToken=t.ColMetadataToken=t.CharsetEnvChangeToken=t.BeginTransactionEnvChangeToken=void 0,t.TYPE={ALTMETADATA:136,ALTROW:211,COLMETADATA:129,COLINFO:165,DONE:253,DONEPROC:254,DONEINPROC:255,ENVCHANGE:227,ERROR:170,FEATUREEXTACK:174,FEDAUTHINFO:238,INFO:171,LOGINACK:173,NBCROW:210,OFFSET:120,ORDER:169,RETURNSTATUS:121,RETURNVALUE:172,ROW:209,SSPI:237,TABNAME:164};class r{constructor(e,t){this.name=e,this.handlerName=t}}t.Token=r;class n extends r{constructor(e){super("COLMETADATA","onColMetadata"),this.columns=e}}t.ColMetadataToken=n;class i extends r{constructor({more:e,sqlError:t,attention:r,serverError:n,rowCount:i,curCmd:o}){super("DONE","onDone"),this.more=e,this.sqlError=t,this.attention=r,this.serverError=n,this.rowCount=i,this.curCmd=o}}t.DoneToken=i;class o extends r{constructor({more:e,sqlError:t,attention:r,serverError:n,rowCount:i,curCmd:o}){super("DONEINPROC","onDoneInProc"),this.more=e,this.sqlError=t,this.attention=r,this.serverError=n,this.rowCount=i,this.curCmd=o}}t.DoneInProcToken=o;class s extends r{constructor({more:e,sqlError:t,attention:r,serverError:n,rowCount:i,curCmd:o}){super("DONEPROC","onDoneProc"),this.more=e,this.sqlError=t,this.attention=r,this.serverError=n,this.rowCount=i,this.curCmd=o}}t.DoneProcToken=s;class a extends r{constructor(e,t){super("ENVCHANGE","onDatabaseChange"),this.type="DATABASE",this.newValue=e,this.oldValue=t}}t.DatabaseEnvChangeToken=a;class l extends r{constructor(e,t){super("ENVCHANGE","onLanguageChange"),this.type="LANGUAGE",this.newValue=e,this.oldValue=t}}t.LanguageEnvChangeToken=l;class c extends r{constructor(e,t){super("ENVCHANGE","onCharsetChange"),this.type="CHARSET",this.newValue=e,this.oldValue=t}}t.CharsetEnvChangeToken=c;class u extends r{constructor(e,t){super("ENVCHANGE","onPacketSizeChange"),this.type="PACKET_SIZE",this.newValue=e,this.oldValue=t}}t.PacketSizeEnvChangeToken=u;class h extends r{constructor(e,t){super("ENVCHANGE","onBeginTransaction"),this.type="BEGIN_TXN",this.newValue=e,this.oldValue=t}}t.BeginTransactionEnvChangeToken=h;class d extends r{constructor(e,t){super("ENVCHANGE","onCommitTransaction"),this.type="COMMIT_TXN",this.newValue=e,this.oldValue=t}}t.CommitTransactionEnvChangeToken=d;class f extends r{constructor(e,t){super("ENVCHANGE","onRollbackTransaction"),this.type="ROLLBACK_TXN",this.newValue=e,this.oldValue=t}}t.RollbackTransactionEnvChangeToken=f;class p extends r{constructor(e,t){super("ENVCHANGE","onDatabaseMirroringPartner"),this.type="DATABASE_MIRRORING_PARTNER",this.newValue=e,this.oldValue=t}}t.DatabaseMirroringPartnerEnvChangeToken=p;class m extends r{constructor(e,t){super("ENVCHANGE","onResetConnection"),this.type="RESET_CONNECTION",this.newValue=e,this.oldValue=t}}t.ResetConnectionEnvChangeToken=m;class g extends r{constructor(e,t){super("ENVCHANGE","onSqlCollationChange"),this.type="SQL_COLLATION",this.newValue=e,this.oldValue=t}}t.CollationChangeToken=g;class y extends r{constructor(e,t){super("ENVCHANGE","onRoutingChange"),this.type="ROUTING_CHANGE",this.newValue=e,this.oldValue=t}}t.RoutingEnvChangeToken=y;class _ extends r{constructor(e,t){super("FEATUREEXTACK","onFeatureExtAck"),this.fedAuth=e,this.utf8Support=t}}t.FeatureExtAckToken=_;class E extends r{constructor(e,t){super("FEDAUTHINFO","onFedAuthInfo"),this.spn=e,this.stsurl=t}}t.FedAuthInfoToken=E;class T extends r{constructor({number:e,state:t,class:r,message:n,serverName:i,procName:o,lineNumber:s}){super("INFO","onInfoMessage"),this.number=e,this.state=t,this.class=r,this.message=n,this.serverName=i,this.procName=o,this.lineNumber=s}}t.InfoMessageToken=T;class b extends r{constructor({number:e,state:t,class:r,message:n,serverName:i,procName:o,lineNumber:s}){super("ERROR","onErrorMessage"),this.number=e,this.state=t,this.class=r,this.message=n,this.serverName=i,this.procName=o,this.lineNumber=s}}t.ErrorMessageToken=b;class w extends r{constructor({interface:e,tdsVersion:t,progName:r,progVersion:n}){super("LOGINACK","onLoginAck"),this.interface=e,this.tdsVersion=t,this.progName=r,this.progVersion=n}}t.LoginAckToken=w;class v extends r{constructor(e){super("NBCROW","onRow"),this.columns=e}}t.NBCRowToken=v;class S extends r{constructor(e){super("ORDER","onOrder"),this.orderColumns=e}}t.OrderToken=S;class A extends r{constructor(e){super("RETURNSTATUS","onReturnStatus"),this.value=e}}t.ReturnStatusToken=A;class I extends r{constructor({paramOrdinal:e,paramName:t,metadata:r,value:n}){super("RETURNVALUE","onReturnValue"),this.paramOrdinal=e,this.paramName=t,this.metadata=r,this.value=n}}t.ReturnValueToken=I;class C extends r{constructor(e){super("ROW","onRow"),this.columns=e}}t.RowToken=C;class O extends r{constructor(e,t){super("SSPICHALLENGE","onSSPI"),this.ntlmpacket=e,this.ntlmpacketBuffer=t}}t.SSPIToken=O},24927:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r=Buffer.from([254,255,255,255,255,255,255,255]),n=Buffer.alloc(0);class i{constructor(e,t,r){this.initialSize=e,this.encoding=t||"ucs2",this.doubleSizeGrowth=r||!1,this.buffer=Buffer.alloc(this.initialSize,0),this.compositeBuffer=n,this.position=0}get data(){return this.newBuffer(0),this.compositeBuffer}copyFrom(e){let t=e.length;this.makeRoomFor(t),e.copy(this.buffer,this.position),this.position+=t}makeRoomFor(e){if(this.buffer.length-this.position<e){if(this.doubleSizeGrowth){let t=Math.max(128,2*this.buffer.length);for(;t<e;)t*=2;this.newBuffer(t)}else this.newBuffer(e)}}newBuffer(e){let t=this.buffer.slice(0,this.position);this.compositeBuffer=Buffer.concat([this.compositeBuffer,t]),this.buffer=0===e?n:Buffer.alloc(e,0),this.position=0}writeUInt8(e){this.makeRoomFor(1),this.buffer.writeUInt8(e,this.position),this.position+=1}writeUInt16LE(e){this.makeRoomFor(2),this.buffer.writeUInt16LE(e,this.position),this.position+=2}writeUShort(e){this.writeUInt16LE(e)}writeUInt16BE(e){this.makeRoomFor(2),this.buffer.writeUInt16BE(e,this.position),this.position+=2}writeUInt24LE(e){this.makeRoomFor(3),this.buffer[this.position+2]=e>>>16&255,this.buffer[this.position+1]=e>>>8&255,this.buffer[this.position]=255&e,this.position+=3}writeUInt32LE(e){this.makeRoomFor(4),this.buffer.writeUInt32LE(e,this.position),this.position+=4}writeBigInt64LE(e){this.makeRoomFor(8),this.buffer.writeBigInt64LE(e,this.position),this.position+=8}writeInt64LE(e){this.writeBigInt64LE(BigInt(e))}writeUInt64LE(e){this.writeBigUInt64LE(BigInt(e))}writeBigUInt64LE(e){this.makeRoomFor(8),this.buffer.writeBigUInt64LE(e,this.position),this.position+=8}writeUInt32BE(e){this.makeRoomFor(4),this.buffer.writeUInt32BE(e,this.position),this.position+=4}writeUInt40LE(e){this.writeInt32LE(-1&e),this.writeUInt8(Math.floor(23283064365386963e-26*e))}writeInt8(e){this.makeRoomFor(1),this.buffer.writeInt8(e,this.position),this.position+=1}writeInt16LE(e){this.makeRoomFor(2),this.buffer.writeInt16LE(e,this.position),this.position+=2}writeInt16BE(e){this.makeRoomFor(2),this.buffer.writeInt16BE(e,this.position),this.position+=2}writeInt32LE(e){this.makeRoomFor(4),this.buffer.writeInt32LE(e,this.position),this.position+=4}writeInt32BE(e){this.makeRoomFor(4),this.buffer.writeInt32BE(e,this.position),this.position+=4}writeFloatLE(e){this.makeRoomFor(4),this.buffer.writeFloatLE(e,this.position),this.position+=4}writeDoubleLE(e){this.makeRoomFor(8),this.buffer.writeDoubleLE(e,this.position),this.position+=8}writeString(e,t){null==t&&(t=this.encoding);let r=Buffer.byteLength(e,t);this.makeRoomFor(r),this.buffer.write(e,this.position,t),this.position+=r}writeBVarchar(e,t){this.writeUInt8(e.length),this.writeString(e,t)}writeUsVarchar(e,t){this.writeUInt16LE(e.length),this.writeString(e,t)}writeUsVarbyte(e,t){let r;null==t&&(t=this.encoding),e instanceof Buffer?r=e.length:(e=e.toString(),r=Buffer.byteLength(e,t)),this.writeUInt16LE(r),e instanceof Buffer?this.writeBuffer(e):(this.makeRoomFor(r),this.buffer.write(e,this.position,t),this.position+=r)}writePLPBody(e,t){let n;null==t&&(t=this.encoding),e instanceof Buffer?n=e.length:(e=e.toString(),n=Buffer.byteLength(e,t)),this.writeBuffer(r),n>0&&(this.writeUInt32LE(n),e instanceof Buffer?this.writeBuffer(e):(this.makeRoomFor(n),this.buffer.write(e,this.position,t),this.position+=n)),this.writeUInt32LE(0)}writeBuffer(e){let t=e.length;this.makeRoomFor(t),e.copy(this.buffer,this.position),this.position+=t}writeMoney(e){this.writeInt32LE(Math.floor(23283064365386963e-26*e)),this.writeInt32LE(-1&e)}}t.default=i,e.exports=i},43539:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=t.OPERATION_TYPE=t.ISOLATION_LEVEL=void 0,t.assertValidIsolationLevel=function(e,t){if("number"!=typeof e)throw TypeError(`The "${t}" ${t.includes(".")?"property":"argument"} must be of type number. Received type ${typeof e} (${e})`);if(!Number.isInteger(e))throw RangeError(`The value of "${t}" is out of range. It must be an integer. Received: ${e}`);if(!(e>=0&&e<=5))throw RangeError(`The value of "${t}" is out of range. It must be >= 0 && <= 5. Received: ${e}`)},t.isolationLevelByValue=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(r(24927)),i=r(82646);let o={TM_GET_DTC_ADDRESS:0,TM_PROPAGATE_XACT:1,TM_BEGIN_XACT:5,TM_PROMOTE_XACT:6,TM_COMMIT_XACT:7,TM_ROLLBACK_XACT:8,TM_SAVE_XACT:9};t.OPERATION_TYPE=o;let s={NO_CHANGE:0,READ_UNCOMMITTED:1,READ_COMMITTED:2,REPEATABLE_READ:3,SERIALIZABLE:4,SNAPSHOT:5};t.ISOLATION_LEVEL=s;let a={};for(let e in t.isolationLevelByValue=a,s)a[s[e]]=e;class l{constructor(e,t=s.NO_CHANGE){this.name=e,this.isolationLevel=t,this.outstandingRequestCount=1}beginPayload(e){let t=new n.default(100,"ucs2");return(0,i.writeToTrackingBuffer)(t,e,this.outstandingRequestCount),t.writeUShort(o.TM_BEGIN_XACT),t.writeUInt8(this.isolationLevel),t.writeUInt8(2*this.name.length),t.writeString(this.name,"ucs2"),{*[Symbol.iterator](){yield t.data},toString:()=>"Begin Transaction: name="+this.name+", isolationLevel="+a[this.isolationLevel]}}commitPayload(e){let t=new n.default(100,"ascii");return(0,i.writeToTrackingBuffer)(t,e,this.outstandingRequestCount),t.writeUShort(o.TM_COMMIT_XACT),t.writeUInt8(2*this.name.length),t.writeString(this.name,"ucs2"),t.writeUInt8(0),{*[Symbol.iterator](){yield t.data},toString:()=>"Commit Transaction: name="+this.name}}rollbackPayload(e){let t=new n.default(100,"ascii");return(0,i.writeToTrackingBuffer)(t,e,this.outstandingRequestCount),t.writeUShort(o.TM_ROLLBACK_XACT),t.writeUInt8(2*this.name.length),t.writeString(this.name,"ucs2"),t.writeUInt8(0),{*[Symbol.iterator](){yield t.data},toString:()=>"Rollback Transaction: name="+this.name}}savePayload(e){let t=new n.default(100,"ascii");return(0,i.writeToTrackingBuffer)(t,e,this.outstandingRequestCount),t.writeUShort(o.TM_SAVE_XACT),t.writeUInt8(2*this.name.length),t.writeString(this.name,"ucs2"),{*[Symbol.iterator](){yield t.data},toString:()=>"Save Transaction: name="+this.name}}isolationLevelToTSQL(){switch(this.isolationLevel){case s.READ_UNCOMMITTED:return"READ UNCOMMITTED";case s.READ_COMMITTED:return"READ COMMITTED";case s.REPEATABLE_READ:return"REPEATABLE READ";case s.SERIALIZABLE:return"SERIALIZABLE";case s.SNAPSHOT:return"SNAPSHOT"}return""}}t.Transaction=l},4274:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransientErrorLookup=void 0;class r{isTransientError(e){return -1!==[4060,10928,10929,40197,40501,40613].indexOf(e)}}t.TransientErrorLookup=r},55703:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=o;var n=r(79408),i=function(e){return e&&e.__esModule?e:{default:e}}(r(48959));async function o(e,t,r){let o=new n.AbortController,s=()=>{o.abort()},a=setTimeout(s,e);null==r||r.addEventListener("abort",s,{once:!0});try{return await t(o.signal)}catch(e){if(e instanceof Error&&"AbortError"===e.name&&!(r&&r.aborted))throw new i.default;throw e}finally{null==r||r.removeEventListener("abort",s),clearTimeout(a)}}},77661:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPLPStream=T,t.readPLPStream=I,t.readValue=E;var n=r(50697),i=r(47258),o=function(e){return e&&e.__esModule?e:{default:e}}(r(13751)),s=r(43074),a=r(90035),l=r(32505);let c=3+1/3;function u(e,t){return(0,l.readUInt8)(e,t)}function h(e,t){return(0,l.readInt16LE)(e,t)}function d(e,t){return(0,l.readInt32LE)(e,t)}function f(e,t){let r;return{offset:t,value:r}=(0,l.readBigInt64LE)(e,t),new l.Result(r.toString(),t)}function p(e,t){return(0,l.readFloatLE)(e,t)}function m(e,t){return(0,l.readDoubleLE)(e,t)}function g(e,t){let r;return{offset:t,value:r}=(0,l.readInt32LE)(e,t),new l.Result(r/1e4,t)}function y(e,t){let r,n;return{offset:t,value:r}=(0,l.readInt32LE)(e,t),{offset:t,value:n}=(0,l.readUInt32LE)(e,t),new l.Result((n+4294967296*r)/1e4,t)}function _(e,t){let r;return{offset:t,value:r}=(0,l.readUInt8)(e,t),new l.Result(!!r,t)}function E(e,t,r,o){switch(r.type.name){case"Null":return new l.Result(null,t);case"TinyInt":return u(e,t);case"SmallInt":return h(e,t);case"Int":return d(e,t);case"BigInt":return f(e,t);case"IntN":{let r;switch({offset:t,value:r}=(0,l.readUInt8)(e,t),r){case 0:return new l.Result(null,t);case 1:return u(e,t);case 2:return h(e,t);case 4:return d(e,t);case 8:return f(e,t);default:throw Error("Unsupported dataLength "+r+" for IntN")}}case"Real":return p(e,t);case"Float":return m(e,t);case"FloatN":{let r;switch({offset:t,value:r}=(0,l.readUInt8)(e,t),r){case 0:return new l.Result(null,t);case 4:return p(e,t);case 8:return m(e,t);default:throw Error("Unsupported dataLength "+r+" for FloatN")}}case"SmallMoney":return g(e,t);case"Money":return y(e,t);case"MoneyN":{let r;switch({offset:t,value:r}=(0,l.readUInt8)(e,t),r){case 0:return new l.Result(null,t);case 4:return g(e,t);case 8:return y(e,t);default:throw Error("Unsupported dataLength "+r+" for MoneyN")}}case"Bit":return _(e,t);case"BitN":{let r;switch({offset:t,value:r}=(0,l.readUInt8)(e,t),r){case 0:return new l.Result(null,t);case 1:return _(e,t);default:throw Error("Unsupported dataLength "+r+" for BitN")}}case"VarChar":case"Char":{let n;let i=r.collation.codepage;if({offset:t,value:n}=(0,l.readUInt16LE)(e,t),65535===n)return new l.Result(null,t);return S(e,t,n,i)}case"NVarChar":case"NChar":{let r;if({offset:t,value:r}=(0,l.readUInt16LE)(e,t),65535===r)return new l.Result(null,t);return A(e,t,r)}case"VarBinary":case"Binary":{let r;if({offset:t,value:r}=(0,l.readUInt16LE)(e,t),65535===r)return new l.Result(null,t);return v(e,t,r)}case"Text":{let n,i;if({offset:t,value:n}=(0,l.readUInt8)(e,t),0===n)return new l.Result(null,t);return{offset:t}=v(e,t,n),{offset:t}=v(e,t,8),{offset:t,value:i}=(0,l.readUInt32LE)(e,t),S(e,t,i,r.collation.codepage)}case"NText":{let r,n;if({offset:t,value:r}=(0,l.readUInt8)(e,t),0===r)return new l.Result(null,t);return{offset:t}=v(e,t,r),{offset:t}=v(e,t,8),{offset:t,value:n}=(0,l.readUInt32LE)(e,t),A(e,t,n)}case"Image":{let r,n;if({offset:t,value:r}=(0,l.readUInt8)(e,t),0===r)return new l.Result(null,t);return{offset:t}=v(e,t,r),{offset:t}=v(e,t,8),{offset:t,value:n}=(0,l.readUInt32LE)(e,t),v(e,t,n)}case"SmallDateTime":return C(e,t,o.useUTC);case"DateTime":return O(e,t,o.useUTC);case"DateTimeN":{let r;switch({offset:t,value:r}=(0,l.readUInt8)(e,t),r){case 0:return new l.Result(null,t);case 4:return C(e,t,o.useUTC);case 8:return O(e,t,o.useUTC);default:throw Error("Unsupported dataLength "+r+" for DateTimeN")}}case"Time":{let n;if({offset:t,value:n}=(0,l.readUInt8)(e,t),0===n)return new l.Result(null,t);return N(e,t,n,r.scale,o.useUTC)}case"Date":{let r;if({offset:t,value:r}=(0,l.readUInt8)(e,t),0===r)return new l.Result(null,t);return R(e,t,o.useUTC)}case"DateTime2":{let n;if({offset:t,value:n}=(0,l.readUInt8)(e,t),0===n)return new l.Result(null,t);return D(e,t,n,r.scale,o.useUTC)}case"DateTimeOffset":{let n;if({offset:t,value:n}=(0,l.readUInt8)(e,t),0===n)return new l.Result(null,t);return k(e,t,n,r.scale)}case"NumericN":case"DecimalN":{let n;if({offset:t,value:n}=(0,l.readUInt8)(e,t),0===n)return new l.Result(null,t);return w(e,t,n,r.precision,r.scale)}case"UniqueIdentifier":{let r;switch({offset:t,value:r}=(0,l.readUInt8)(e,t),r){case 0:return new l.Result(null,t);case 16:return b(e,t,o);default:throw Error((0,s.sprintf)("Unsupported guid size %d",r-1))}}case"Variant":{let r;if({offset:t,value:r}=(0,l.readUInt32LE)(e,t),0===r)return new l.Result(null,t);return function(e,t,r,o){let s,a;({value:s,offset:t}=(0,l.readUInt8)(e,t));let c=i.TYPE[s];switch({value:a,offset:t}=(0,l.readUInt8)(e,t),o=o-a-2,c.name){case"UniqueIdentifier":return b(e,t,r);case"Bit":return _(e,t);case"TinyInt":return u(e,t);case"SmallInt":return h(e,t);case"Int":return d(e,t);case"BigInt":return f(e,t);case"SmallDateTime":return C(e,t,r.useUTC);case"DateTime":return O(e,t,r.useUTC);case"Real":return p(e,t);case"Float":return m(e,t);case"SmallMoney":return g(e,t);case"Money":return y(e,t);case"Date":return R(e,t,r.useUTC);case"Time":{let n;return{value:n,offset:t}=(0,l.readUInt8)(e,t),N(e,t,o,n,r.useUTC)}case"DateTime2":{let n;return{value:n,offset:t}=(0,l.readUInt8)(e,t),D(e,t,o,n,r.useUTC)}case"DateTimeOffset":{let r;return{value:r,offset:t}=(0,l.readUInt8)(e,t),k(e,t,o,r)}case"VarBinary":case"Binary":return{offset:t}=(0,l.readUInt16LE)(e,t),v(e,t,o);case"NumericN":case"DecimalN":{let r,n;return{value:r,offset:t}=(0,l.readUInt8)(e,t),{value:n,offset:t}=(0,l.readUInt8)(e,t),w(e,t,o,r,n)}case"VarChar":case"Char":{let r;return{offset:t}=(0,l.readUInt16LE)(e,t),{value:r,offset:t}=(0,n.readCollation)(e,t),S(e,t,o,r.codepage)}case"NVarChar":case"NChar":return{offset:t}=(0,l.readUInt16LE)(e,t),{offset:t}=(0,n.readCollation)(e,t),A(e,t,o);default:throw Error("Invalid type!")}}(e,t,o,r)}default:throw Error("Invalid type!")}}function T(e){switch(e.type.name){case"VarChar":case"NVarChar":case"VarBinary":return 65535===e.dataLength;case"Xml":case"UDT":return!0}}function b(e,t,r){let n;return{value:n,offset:t}=v(e,t,16),new l.Result(r.lowerCaseGuids?(0,a.bufferToLowerCaseGuid)(n):(0,a.bufferToUpperCaseGuid)(n),t)}function w(e,t,r,n,i){let o,a;if({offset:t,value:o}=(0,l.readUInt8)(e,t),o=1===o?1:-1,5===r)({offset:t,value:a}=(0,l.readUInt32LE)(e,t));else if(9===r)({offset:t,value:a}=(0,l.readUNumeric64LE)(e,t));else if(13===r)({offset:t,value:a}=(0,l.readUNumeric96LE)(e,t));else if(17===r)({offset:t,value:a}=(0,l.readUNumeric128LE)(e,t));else throw Error((0,s.sprintf)("Unsupported numeric dataLength %d",r));return new l.Result(a*o/Math.pow(10,i),t)}function v(e,t,r){if(e.length<t+r)throw new l.NotEnoughDataError(t+r);return new l.Result(e.slice(t,t+r),t+r)}function S(e,t,r,n){if(e.length<t+r)throw new l.NotEnoughDataError(t+r);return new l.Result(o.default.decode(e.slice(t,t+r),n??"utf8"),t+r)}function A(e,t,r){if(e.length<t+r)throw new l.NotEnoughDataError(t+r);return new l.Result(e.toString("ucs2",t,t+r),t+r)}async function I(e){for(;e.buffer.length<e.position+8;)await e.waitForChunk();let t=e.buffer.readBigUInt64LE(e.position);if(e.position+=8,0xffffffffffffffffn===t)return null;let r=[],n=0;for(;;){for(;e.buffer.length<e.position+4;)await e.waitForChunk();let t=e.buffer.readUInt32LE(e.position);if(e.position+=4,!t)break;for(;e.buffer.length<e.position+t;)await e.waitForChunk();r.push(e.buffer.slice(e.position,e.position+t)),e.position+=t,n+=t}if(0xfffffffffffffffen!==t&&n!==Number(t))throw Error("Partially Length-prefixed Bytes unmatched lengths : expected "+t+", but got "+n+" bytes");return r}function C(e,t,r){let n,i,o;return{offset:t,value:n}=(0,l.readUInt16LE)(e,t),{offset:t,value:i}=(0,l.readUInt16LE)(e,t),o=r?new Date(Date.UTC(1900,0,1+n,0,i)):new Date(1900,0,1+n,0,i),new l.Result(o,t)}function O(e,t,r){let n,i,o;({offset:t,value:n}=(0,l.readInt32LE)(e,t)),{offset:t,value:i}=(0,l.readInt32LE)(e,t);let s=Math.round(i*c);return o=r?new Date(Date.UTC(1900,0,1+n,0,0,0,s)):new Date(1900,0,1+n,0,0,0,s),new l.Result(o,t)}function N(e,t,r,n,i){let o,s;switch(r){case 3:({value:o,offset:t}=(0,l.readUInt24LE)(e,t));break;case 4:({value:o,offset:t}=(0,l.readUInt32LE)(e,t));break;case 5:({value:o,offset:t}=(0,l.readUInt40LE)(e,t));break;default:throw Error("unreachable")}if(n<7)for(let e=n;e<7;e++)o*=10;return Object.defineProperty(s=i?new Date(Date.UTC(1970,0,1,0,0,0,o/1e4)):new Date(1970,0,1,0,0,0,o/1e4),"nanosecondsDelta",{enumerable:!1,value:o%1e4/1e7}),new l.Result(s,t)}function R(e,t,r){let n;return({offset:t,value:n}=(0,l.readUInt24LE)(e,t),r)?new l.Result(new Date(Date.UTC(2e3,0,n-730118)),t):new l.Result(new Date(2e3,0,n-730118),t)}function D(e,t,r,n,i){let o,s,a;return{offset:t,value:o}=N(e,t,r-3,n,i),{offset:t,value:s}=(0,l.readUInt24LE)(e,t),Object.defineProperty(a=i?new Date(Date.UTC(2e3,0,s-730118,0,0,0,+o)):new Date(2e3,0,s-730118,o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds()),"nanosecondsDelta",{enumerable:!1,value:o.nanosecondsDelta}),new l.Result(a,t)}function k(e,t,r,n){let i,o;({offset:t,value:i}=N(e,t,r-5,n,!0)),({offset:t,value:o}=(0,l.readUInt24LE)(e,t)),{offset:t}=(0,l.readUInt16LE)(e,t);let s=new Date(Date.UTC(2e3,0,o-730118,0,0,0,+i));return Object.defineProperty(s,"nanosecondsDelta",{enumerable:!1,value:i.nanosecondsDelta}),new l.Result(s,t)}e.exports.readValue=E,e.exports.isPLPStream=T,e.exports.readPLPStream=I},77341:(e,t,r)=>{"use strict";//! @copyright (c) 2015-present, Philipp Thrwchter, Pattrick Hper & js-joda contributors
//! @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
//! @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */function n(e,t,r){function n(e){Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,t&&t.apply(this,arguments),this.toString=function(){return this.name+": "+this.message}}return void 0===r&&(r=Error),n.prototype=Object.create(r.prototype),n.prototype.name=e,n.prototype.constructor=n,n}r.r(t),r.d(t,{ArithmeticException:()=>d,ChronoField:()=>P,ChronoLocalDate:()=>z,ChronoLocalDateTime:()=>e5,ChronoUnit:()=>R,ChronoZonedDateTime:()=>eJ,Clock:()=>e3,DateTimeException:()=>c,DateTimeFormatter:()=>eY,DateTimeFormatterBuilder:()=>eF,DateTimeParseException:()=>u,DayOfWeek:()=>F,DecimalStyle:()=>e_,Duration:()=>O,IllegalArgumentException:()=>f,IllegalStateException:()=>p,Instant:()=>e6,IsoChronology:()=>eQ,IsoFields:()=>ei,LocalDate:()=>e2,LocalDateTime:()=>e4,LocalTime:()=>e8,Month:()=>B,MonthDay:()=>eH,NullPointerException:()=>m,OffsetDateTime:()=>e1,OffsetTime:()=>eX,ParsePosition:()=>Y,Period:()=>j,ResolverStyle:()=>V,SignStyle:()=>eE,Temporal:()=>$,TemporalAccessor:()=>L,TemporalAdjuster:()=>ez,TemporalAdjusters:()=>eW,TemporalAmount:()=>I,TemporalField:()=>D,TemporalQueries:()=>M,TemporalQuery:()=>x,TemporalUnit:()=>C,TextStyle:()=>eT,UnsupportedTemporalTypeException:()=>h,ValueRange:()=>k,Year:()=>e$,YearConstants:()=>N,YearMonth:()=>eV,ZoneId:()=>G,ZoneOffset:()=>J,ZoneOffsetTransition:()=>tt,ZoneRegion:()=>eP,ZoneRules:()=>K,ZoneRulesProvider:()=>ek,ZonedDateTime:()=>e0,_:()=>tu,convert:()=>tl,nativeJs:()=>tc,use:()=>td});var i,o,s,a,l,c=n("DateTimeException",function(e,t){void 0===t&&(t=null);var r=e||this.name;null!==t&&t instanceof Error&&(r+="\n-------\nCaused by: "+t.stack+"\n-------\n"),this.message=r}),u=n("DateTimeParseException",function(e,t,r,n){void 0===t&&(t=""),void 0===r&&(r=0),void 0===n&&(n=null);var i=e||this.name;i+=": "+t+", at index: "+r,null!==n&&n instanceof Error&&(i+="\n-------\nCaused by: "+n.stack+"\n-------\n"),this.message=i,this.parsedString=function(){return t},this.errorIndex=function(){return r}}),h=n("UnsupportedTemporalTypeException",null,c),d=n("ArithmeticException"),f=n("IllegalArgumentException"),p=n("IllegalStateException"),m=n("NullPointerException");function g(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,y(e,t)}function y(e,t){return(y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */function E(e,t,r){if(!e){if(r)throw new r(t);throw Error(t)}}function T(e,t){if(null==e)throw new m(t+" must not be null");return e}function b(e,t,r){if(!(e instanceof t))throw new f(r+" must be an instance of "+(t.name?t.name:t)+(e&&e.constructor&&e.constructor.name?", but is "+e.constructor.name:""));return e}function w(e){throw TypeError('abstract method "'+e+'" is not implemented')}var v=Object.freeze({__proto__:null,abstractMethodFail:w,assert:E,requireInstance:b,requireNonNull:T}),S=function(){function e(){}return e.intDiv=function(t,r){var n=t/r;return n=e.roundDown(n),e.safeZero(n)},e.intMod=function(t,r){var n=t-e.intDiv(t,r)*r;return n=e.roundDown(n),e.safeZero(n)},e.roundDown=function(e){return e<0?Math.ceil(e):Math.floor(e)},e.floorDiv=function(t,r){return e.safeZero(Math.floor(t/r))},e.floorMod=function(t,r){var n=t-e.floorDiv(t,r)*r;return e.safeZero(n)},e.safeAdd=function(t,r){if(e.verifyInt(t),e.verifyInt(r),0===t)return e.safeZero(r);if(0===r)return e.safeZero(t);var n=e.safeToInt(t+r);if(n===t||n===r)throw new d("Invalid addition beyond MAX_SAFE_INTEGER!");return n},e.safeSubtract=function(t,r){return(e.verifyInt(t),e.verifyInt(r),0===t&&0===r)?0:0===t?e.safeZero(-1*r):0===r?e.safeZero(t):e.safeToInt(t-r)},e.safeMultiply=function(t,r){if(e.verifyInt(t),e.verifyInt(r),1===t)return e.safeZero(r);if(1===r)return e.safeZero(t);if(0===t||0===r)return 0;var n=e.safeToInt(t*r);if(n/r!==t||-9007199254740991===t&&-1===r||-9007199254740991===r&&-1===t)throw new d("Multiplication overflows: "+t+" * "+r);return n},e.parseInt=function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){var r=parseInt(t);return e.safeToInt(r)}),e.safeToInt=function(t){return e.verifyInt(t),e.safeZero(t)},e.verifyInt=function(e){if(null==e)throw new d("Invalid value: '"+e+"', using null or undefined as argument");if(isNaN(e))throw new d("Invalid int value, using NaN as argument");if(Number.isInteger){if(!Number.isInteger(Number(e)))throw new d("Invalid value: '"+e+"' is a float")}else if(e%1!=0)throw new d("Invalid value: '"+e+"' is a float");if(e>9007199254740991||e<-9007199254740991)throw new d("Calculation overflows an int: "+e)},e.safeZero=function(e){return 0===e?0:+e},e.compareNumbers=function(e,t){return e<t?-1:e>t?1:0},e.smi=function(e){return e>>>1&1073741824|3221225471&e},e.hash=function(t){if(t!=t||t===1/0)return 0;for(var r=t;t>4294967295;)t/=4294967295,r^=t;return e.smi(r)},e.hashCode=function(){for(var t=17,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];for(var o=0;o<n.length;o++){var s=n[o];t=(t<<5)-t+e.hash(s)}return e.hash(t)},e}();S.MAX_SAFE_INTEGER=9007199254740991,S.MIN_SAFE_INTEGER=-9007199254740991;/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var A=function(){function e(e){this._name=e}var t=e.prototype;return t.equals=function(e){return this===e},t.toString=function(){return this._name},t.toJSON=function(){return this.toString()},e}(),I=function(){function e(){}var t=e.prototype;return t.get=function(e){w("get")},t.units=function(){w("units")},t.addTo=function(e){w("addTo")},t.subtractFrom=function(e){w("subtractFrom")},e}();"undefined"!=typeof Symbol&&Symbol.toPrimitive&&(I.prototype[Symbol.toPrimitive]=function(e){if("number"!==e)return this.toString();throw TypeError("A conversion from TemporalAmount to a number is not allowed. To compare use the methods .equals(), .compareTo(), .isBefore() or one that is more suitable to your use case.")});/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var C=function(){function e(){}var t=e.prototype;return t.duration=function(){w("duration")},t.isDurationEstimated=function(){w("isDurationEstimated")},t.isDateBased=function(){w("isDateBased")},t.isTimeBased=function(){w("isTimeBased")},t.isSupportedBy=function(e){w("isSupportedBy")},t.addTo=function(e,t){w("addTo")},t.between=function(e,t){w("between")},e}(),O=function(e){function t(t,r){var n;return(n=e.call(this)||this)._seconds=S.safeToInt(t),n._nanos=S.safeToInt(r),n}g(t,e),t.ofDays=function(e){return t._create(S.safeMultiply(e,e8.SECONDS_PER_DAY),0)},t.ofHours=function(e){return t._create(S.safeMultiply(e,e8.SECONDS_PER_HOUR),0)},t.ofMinutes=function(e){return t._create(S.safeMultiply(e,e8.SECONDS_PER_MINUTE),0)},t.ofSeconds=function(e,r){void 0===r&&(r=0);var n=S.safeAdd(e,S.floorDiv(r,e8.NANOS_PER_SECOND)),i=S.floorMod(r,e8.NANOS_PER_SECOND);return t._create(n,i)},t.ofMillis=function(e){var r=S.intDiv(e,1e3),n=S.intMod(e,1e3);return n<0&&(n+=1e3,r--),t._create(r,1e6*n)},t.ofNanos=function(e){var t=S.intDiv(e,e8.NANOS_PER_SECOND),r=S.intMod(e,e8.NANOS_PER_SECOND);return r<0&&(r+=e8.NANOS_PER_SECOND,t--),this._create(t,r)},t.of=function(e,r){return t.ZERO.plus(e,r)},t.from=function(e){T(e,"amount"),b(e,I);var r=t.ZERO;return e.units().forEach(function(t){r=r.plus(e.get(t),t)}),r},t.between=function(e,t){T(e,"startInclusive"),T(t,"endExclusive");var r=e.until(t,R.SECONDS),n=0;if(e.isSupported(P.NANO_OF_SECOND)&&t.isSupported(P.NANO_OF_SECOND))try{var i=e.getLong(P.NANO_OF_SECOND);if(n=t.getLong(P.NANO_OF_SECOND)-i,r>0&&n<0)n+=e8.NANOS_PER_SECOND;else if(r<0&&n>0)n-=e8.NANOS_PER_SECOND;else if(0===r&&0!==n){var o=t.with(P.NANO_OF_SECOND,i);r=e.until(o,R.SECONDS)}}catch(e){}return this.ofSeconds(r,n)},t.parse=function(e){T(e,"text");var r=RegExp("([-+]?)P(?:([-+]?[0-9]+)D)?(T(?:([-+]?[0-9]+)H)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)(?:[.,]([0-9]{0,9}))?S)?)?","i").exec(e);if(null!==r&&"T"===r[3]==!1){var n="-"===r[1],i=r[2],o=r[4],s=r[5],a=r[6],l=r[7];if(null!=i||null!=o||null!=s||null!=a){var c=t._parseNumber(e,i,e8.SECONDS_PER_DAY,"days"),h=t._parseNumber(e,o,e8.SECONDS_PER_HOUR,"hours"),d=t._parseNumber(e,s,e8.SECONDS_PER_MINUTE,"minutes"),f=t._parseNumber(e,a,1,"seconds"),p=null!=a&&"-"===a.charAt(0),m=t._parseFraction(e,l,p?-1:1);try{return t._create(n,c,h,d,f,m)}catch(t){throw new u("Text cannot be parsed to a Duration: overflow",e,0,t)}}}throw new u("Text cannot be parsed to a Duration",e,0)},t._parseNumber=function(e,t,r,n){if(null==t)return 0;try{return"+"===t[0]&&(t=t.substring(1)),S.safeMultiply(parseFloat(t),r)}catch(t){throw new u("Text cannot be parsed to a Duration: "+n,e,0,t)}},t._parseFraction=function(e,t,r){return null==t||0===t.length?0:parseFloat(t=(t+"000000000").substring(0,9))*r},t._create=function(){return arguments.length<=2?t._createSecondsNanos(arguments[0],arguments[1]):t._createNegateDaysHoursMinutesSecondsNanos(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},t._createNegateDaysHoursMinutesSecondsNanos=function(e,r,n,i,o,s){var a=S.safeAdd(r,S.safeAdd(n,S.safeAdd(i,o)));return e?t.ofSeconds(a,s).negated():t.ofSeconds(a,s)},t._createSecondsNanos=function(e,r){return(void 0===e&&(e=0),void 0===r&&(r=0),0===e&&0===r)?t.ZERO:new t(e,r)};var r=t.prototype;return r.get=function(e){if(e===R.SECONDS)return this._seconds;if(e===R.NANOS)return this._nanos;throw new h("Unsupported unit: "+e)},r.units=function(){return[R.SECONDS,R.NANOS]},r.isZero=function(){return 0===this._seconds&&0===this._nanos},r.isNegative=function(){return this._seconds<0},r.seconds=function(){return this._seconds},r.nano=function(){return this._nanos},r.withSeconds=function(e){return t._create(e,this._nanos)},r.withNanos=function(e){return P.NANO_OF_SECOND.checkValidIntValue(e),t._create(this._seconds,e)},r.plusDuration=function(e){return T(e,"duration"),this.plus(e.seconds(),e.nano())},r.plus=function(e,t){return 1==arguments.length?this.plusDuration(e):2==arguments.length&&t instanceof C?this.plusAmountUnit(e,t):this.plusSecondsNanos(e,t)},r.plusAmountUnit=function(e,t){if(T(e,"amountToAdd"),T(t,"unit"),t===R.DAYS)return this.plusSecondsNanos(S.safeMultiply(e,e8.SECONDS_PER_DAY),0);if(t.isDurationEstimated())throw new h("Unit must not have an estimated duration");if(0===e)return this;if(t instanceof R){switch(t){case R.NANOS:return this.plusNanos(e);case R.MICROS:return this.plusSecondsNanos(1e3*S.intDiv(e,1e9),1e3*S.intMod(e,1e9));case R.MILLIS:return this.plusMillis(e);case R.SECONDS:return this.plusSeconds(e)}return this.plusSecondsNanos(S.safeMultiply(t.duration().seconds(),e),0)}var r=t.duration().multipliedBy(e);return this.plusSecondsNanos(r.seconds(),r.nano())},r.plusDays=function(e){return this.plusSecondsNanos(S.safeMultiply(e,e8.SECONDS_PER_DAY),0)},r.plusHours=function(e){return this.plusSecondsNanos(S.safeMultiply(e,e8.SECONDS_PER_HOUR),0)},r.plusMinutes=function(e){return this.plusSecondsNanos(S.safeMultiply(e,e8.SECONDS_PER_MINUTE),0)},r.plusSeconds=function(e){return this.plusSecondsNanos(e,0)},r.plusMillis=function(e){return this.plusSecondsNanos(S.intDiv(e,1e3),1e6*S.intMod(e,1e3))},r.plusNanos=function(e){return this.plusSecondsNanos(0,e)},r.plusSecondsNanos=function(e,r){if(T(e,"secondsToAdd"),T(r,"nanosToAdd"),0===e&&0===r)return this;var n=S.safeAdd(this._seconds,e);n=S.safeAdd(n,S.intDiv(r,e8.NANOS_PER_SECOND)),r=S.intMod(r,e8.NANOS_PER_SECOND);var i=S.safeAdd(this._nanos,r);return t.ofSeconds(n,i)},r.minus=function(e,t){return 1==arguments.length?this.minusDuration(e):this.minusAmountUnit(e,t)},r.minusDuration=function(e){T(e,"duration");var t=e.seconds(),r=e.nano();return -9007199254740991===t?this.plus(9007199254740991,-r):this.plus(-t,-r)},r.minusAmountUnit=function(e,t){return T(e,"amountToSubtract"),T(t,"unit"),-9007199254740991===e?this.plusAmountUnit(9007199254740991,t):this.plusAmountUnit(-e,t)},r.minusDays=function(e){return -9007199254740991===e?this.plusDays(9007199254740991):this.plusDays(-e)},r.minusHours=function(e){return -9007199254740991===e?this.plusHours(9007199254740991):this.plusHours(-e)},r.minusMinutes=function(e){return -9007199254740991===e?this.plusMinutes(9007199254740991):this.plusMinutes(-e)},r.minusSeconds=function(e){return -9007199254740991===e?this.plusSeconds(9007199254740991):this.plusSeconds(-e)},r.minusMillis=function(e){return -9007199254740991===e?this.plusMillis(9007199254740991):this.plusMillis(-e)},r.minusNanos=function(e){return -9007199254740991===e?this.plusNanos(9007199254740991):this.plusNanos(-e)},r.multipliedBy=function(e){if(0===e)return t.ZERO;if(1===e)return this;var r=S.safeMultiply(this._seconds,e),n=S.safeMultiply(this._nanos,e);return r+=S.intDiv(n,e8.NANOS_PER_SECOND),n=S.intMod(n,e8.NANOS_PER_SECOND),t.ofSeconds(r,n)},r.dividedBy=function(e){if(0===e)throw new d("Cannot divide by zero");if(1===e)return this;var r=S.intDiv(this._seconds,e),n=S.roundDown((this._seconds/e-r)*e8.NANOS_PER_SECOND),i=S.intDiv(this._nanos,e);return i=n+i,t.ofSeconds(r,i)},r.negated=function(){return this.multipliedBy(-1)},r.abs=function(){return this.isNegative()?this.negated():this},r.addTo=function(e){return T(e,"temporal"),0!==this._seconds&&(e=e.plus(this._seconds,R.SECONDS)),0!==this._nanos&&(e=e.plus(this._nanos,R.NANOS)),e},r.subtractFrom=function(e){return T(e,"temporal"),0!==this._seconds&&(e=e.minus(this._seconds,R.SECONDS)),0!==this._nanos&&(e=e.minus(this._nanos,R.NANOS)),e},r.toDays=function(){return S.intDiv(this._seconds,e8.SECONDS_PER_DAY)},r.toHours=function(){return S.intDiv(this._seconds,e8.SECONDS_PER_HOUR)},r.toMinutes=function(){return S.intDiv(this._seconds,e8.SECONDS_PER_MINUTE)},r.toMillis=function(){var e=Math.round(S.safeMultiply(this._seconds,1e3));return S.safeAdd(e,S.intDiv(this._nanos,1e6))},r.toNanos=function(){var e=S.safeMultiply(this._seconds,e8.NANOS_PER_SECOND);return S.safeAdd(e,this._nanos)},r.compareTo=function(e){T(e,"otherDuration"),b(e,t,"otherDuration");var r=S.compareNumbers(this._seconds,e.seconds());return 0!==r?r:this._nanos-e.nano()},r.equals=function(e){return this===e||e instanceof t&&this.seconds()===e.seconds()&&this.nano()===e.nano()},r.toString=function(){if(this===t.ZERO)return"PT0S";var e,r=S.intDiv(this._seconds,e8.SECONDS_PER_HOUR),n=S.intDiv(S.intMod(this._seconds,e8.SECONDS_PER_HOUR),e8.SECONDS_PER_MINUTE),i=S.intMod(this._seconds,e8.SECONDS_PER_MINUTE),o="PT";if(0!==r&&(o+=r+"H"),0!==n&&(o+=n+"M"),0===i&&0===this._nanos&&o.length>2)return o;if(i<0&&this._nanos>0?-1===i?o+="-0":o+=i+1:o+=i,this._nanos>0)for(o+="."+(e=(e=i<0?""+(2*e8.NANOS_PER_SECOND-this._nanos):""+(e8.NANOS_PER_SECOND+this._nanos)).slice(1,e.length));"0"===o.charAt(o.length-1);)o=o.slice(0,o.length-1);return o+"S"},r.toJSON=function(){return this.toString()},t}(I),N=function(){},R=function(e){function t(t,r){var n;return(n=e.call(this)||this)._name=t,n._duration=r,n}g(t,e);var r=t.prototype;return r.duration=function(){return this._duration},r.isDurationEstimated=function(){return this.isDateBased()||this===t.FOREVER},r.isDateBased=function(){return this.compareTo(t.DAYS)>=0&&this!==t.FOREVER},r.isTimeBased=function(){return 0>this.compareTo(t.DAYS)},r.isSupportedBy=function(e){if(this===t.FOREVER)return!1;try{return e.plus(1,this),!0}catch(t){try{return e.plus(-1,this),!0}catch(e){return!1}}},r.addTo=function(e,t){return e.plus(t,this)},r.between=function(e,t){return e.until(t,this)},r.toString=function(){return this._name},r.compareTo=function(e){return this.duration().compareTo(e.duration())},t}(C),D=function(){function e(){}var t=e.prototype;return t.isDateBased=function(){w("isDateBased")},t.isTimeBased=function(){w("isTimeBased")},t.baseUnit=function(){w("baseUnit")},t.rangeUnit=function(){w("rangeUnit")},t.range=function(){w("range")},t.rangeRefinedBy=function(e){w("rangeRefinedBy")},t.getFrom=function(e){w("getFrom")},t.adjustInto=function(e,t){w("adjustInto")},t.isSupportedBy=function(e){w("isSupportedBy")},t.displayName=function(){w("displayName")},t.equals=function(e){w("equals")},t.name=function(){w("name")},e}(),k=function(){function e(e,t,r,n){E(!(e>t),"Smallest minimum value '"+e+"' must be less than largest minimum value '"+t+"'",f),E(!(r>n),"Smallest maximum value '"+r+"' must be less than largest maximum value '"+n+"'",f),E(!(t>n),"Minimum value '"+t+"' must be less than maximum value '"+n+"'",f),this._minSmallest=e,this._minLargest=t,this._maxLargest=n,this._maxSmallest=r}var t=e.prototype;return t.isFixed=function(){return this._minSmallest===this._minLargest&&this._maxSmallest===this._maxLargest},t.minimum=function(){return this._minSmallest},t.largestMinimum=function(){return this._minLargest},t.maximum=function(){return this._maxLargest},t.smallestMaximum=function(){return this._maxSmallest},t.isValidValue=function(e){return this.minimum()<=e&&e<=this.maximum()},t.checkValidValue=function(e,t){return this.isValidValue(e)?e:E(!1,null!=t?"Invalid value for "+t+" (valid values "+this.toString()+"): "+e:"Invalid value (valid values "+this.toString()+"): "+e,c)},t.checkValidIntValue=function(e,t){if(!1===this.isValidIntValue(e))throw new c("Invalid int value for "+t+": "+e);return e},t.isValidIntValue=function(e){return this.isIntValue()&&this.isValidValue(e)},t.isIntValue=function(){return this.minimum()>=S.MIN_SAFE_INTEGER&&this.maximum()<=S.MAX_SAFE_INTEGER},t.equals=function(t){return t===this||t instanceof e&&this._minSmallest===t._minSmallest&&this._minLargest===t._minLargest&&this._maxSmallest===t._maxSmallest&&this._maxLargest===t._maxLargest},t.hashCode=function(){return S.hashCode(this._minSmallest,this._minLargest,this._maxSmallest,this._maxLargest)},t.toString=function(){return this.minimum()+(this.minimum()!==this.largestMinimum()?"/"+this.largestMinimum():"")+(" - "+this.smallestMaximum())+(this.smallestMaximum()!==this.maximum()?"/"+this.maximum():"")},e.of=function(){return 2==arguments.length?new e(arguments[0],arguments[0],arguments[1],arguments[1]):3==arguments.length?new e(arguments[0],arguments[0],arguments[1],arguments[2]):4==arguments.length?new e(arguments[0],arguments[1],arguments[2],arguments[3]):E(!1,"Invalid number of arguments "+arguments.length,f)},e}(),P=function(e){function t(t,r,n,i){var o;return(o=e.call(this)||this)._name=t,o._baseUnit=r,o._rangeUnit=n,o._range=i,o}g(t,e),t.byName=function(e){for(var r in t)if(t[r]&&t[r]instanceof t&&t[r].name()===e)return t[r]};var r=t.prototype;return r.name=function(){return this._name},r.baseUnit=function(){return this._baseUnit},r.rangeUnit=function(){return this._rangeUnit},r.range=function(){return this._range},r.displayName=function(){return this.toString()},r.checkValidValue=function(e){return this.range().checkValidValue(e,this)},r.checkValidIntValue=function(e){return this.range().checkValidIntValue(e,this)},r.isDateBased=function(){return this===t.DAY_OF_WEEK||this===t.ALIGNED_DAY_OF_WEEK_IN_MONTH||this===t.ALIGNED_DAY_OF_WEEK_IN_YEAR||this===t.DAY_OF_MONTH||this===t.DAY_OF_YEAR||this===t.EPOCH_DAY||this===t.ALIGNED_WEEK_OF_MONTH||this===t.ALIGNED_WEEK_OF_YEAR||this===t.MONTH_OF_YEAR||this===t.PROLEPTIC_MONTH||this===t.YEAR_OF_ERA||this===t.YEAR||this===t.ERA},r.isTimeBased=function(){return this===t.NANO_OF_SECOND||this===t.NANO_OF_DAY||this===t.MICRO_OF_SECOND||this===t.MICRO_OF_DAY||this===t.MILLI_OF_SECOND||this===t.MILLI_OF_DAY||this===t.SECOND_OF_MINUTE||this===t.SECOND_OF_DAY||this===t.MINUTE_OF_HOUR||this===t.MINUTE_OF_DAY||this===t.HOUR_OF_AMPM||this===t.CLOCK_HOUR_OF_AMPM||this===t.HOUR_OF_DAY||this===t.CLOCK_HOUR_OF_DAY||this===t.AMPM_OF_DAY},r.rangeRefinedBy=function(e){return e.range(this)},r.getFrom=function(e){return e.getLong(this)},r.toString=function(){return this.name()},r.equals=function(e){return this===e},r.adjustInto=function(e,t){return e.with(this,t)},r.isSupportedBy=function(e){return e.isSupported(this)},t}(D),M=function(){function e(){}return e.zoneId=function(){return e.ZONE_ID},e.chronology=function(){return e.CHRONO},e.precision=function(){return e.PRECISION},e.zone=function(){return e.ZONE},e.offset=function(){return e.OFFSET},e.localDate=function(){return e.LOCAL_DATE},e.localTime=function(){return e.LOCAL_TIME},e}(),L=function(){function e(){}var t=e.prototype;return t.query=function(e){return e===M.zoneId()||e===M.chronology()||e===M.precision()?null:e.queryFrom(this)},t.get=function(e){return this.range(e).checkValidIntValue(this.getLong(e),e)},t.getLong=function(e){w("getLong")},t.range=function(e){if(e instanceof P){if(this.isSupported(e))return e.range();throw new h("Unsupported field: "+e)}return e.rangeRefinedBy(this)},t.isSupported=function(e){w("isSupported")},e}(),x=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t.prototype.queryFrom=function(e){w("queryFrom")},t}(A);function U(e,t){var r=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t}(x);return r.prototype.queryFrom=t,new r(e)}var F=function(e){function t(t,r){var n;return(n=e.call(this)||this)._ordinal=t,n._name=r,n}g(t,e);var r=t.prototype;return r.ordinal=function(){return this._ordinal},r.name=function(){return this._name},t.values=function(){return i.slice()},t.valueOf=function(e){for(var r=0;r<i.length&&i[r].name()!==e;r++);return t.of(r+1)},t.of=function(e){if(e<1||e>7)throw new c("Invalid value for DayOfWeek: "+e);return i[e-1]},t.from=function(e){if(E(null!=e,"temporal",m),e instanceof t)return e;try{return t.of(e.get(P.DAY_OF_WEEK))}catch(t){if(t instanceof c)throw new c("Unable to obtain DayOfWeek from TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""),t);throw t}},r.value=function(){return this._ordinal+1},r.displayName=function(e,t){throw new f("Pattern using (localized) text not implemented yet!")},r.isSupported=function(e){return e instanceof P?e===P.DAY_OF_WEEK:null!=e&&e.isSupportedBy(this)},r.range=function(e){if(e===P.DAY_OF_WEEK)return e.range();if(e instanceof P)throw new h("Unsupported field: "+e);return e.rangeRefinedBy(this)},r.get=function(e){return e===P.DAY_OF_WEEK?this.value():this.range(e).checkValidIntValue(this.getLong(e),e)},r.getLong=function(e){if(e===P.DAY_OF_WEEK)return this.value();if(e instanceof P)throw new h("Unsupported field: "+e);return e.getFrom(this)},r.plus=function(e){var t=S.floorMod(e,7);return i[S.floorMod(this._ordinal+(t+7),7)]},r.minus=function(e){return this.plus(-1*S.floorMod(e,7))},r.query=function(e){return e===M.precision()?R.DAYS:e===M.localDate()||e===M.localTime()||e===M.chronology()||e===M.zone()||e===M.zoneId()||e===M.offset()?null:(E(null!=e,"query",m),e.queryFrom(this))},r.adjustInto=function(e){return T(e,"temporal"),e.with(P.DAY_OF_WEEK,this.value())},r.equals=function(e){return this===e},r.toString=function(){return this._name},r.compareTo=function(e){return T(e,"other"),b(e,t,"other"),this._ordinal-e._ordinal},r.toJSON=function(){return this.toString()},t}(L),B=function(e){function t(t,r){var n;return(n=e.call(this)||this)._value=S.safeToInt(t),n._name=r,n}g(t,e);var r=t.prototype;return r.value=function(){return this._value},r.ordinal=function(){return this._value-1},r.name=function(){return this._name},r.displayName=function(e,t){throw new f("Pattern using (localized) text not implemented yet!")},r.isSupported=function(e){return null!==e&&(e instanceof P?e===P.MONTH_OF_YEAR:null!=e&&e.isSupportedBy(this))},r.get=function(e){return e===P.MONTH_OF_YEAR?this.value():this.range(e).checkValidIntValue(this.getLong(e),e)},r.getLong=function(e){if(e===P.MONTH_OF_YEAR)return this.value();if(e instanceof P)throw new h("Unsupported field: "+e);return e.getFrom(this)},r.plus=function(e){var r=S.intMod(e,12)+12,n=S.intMod(this.value()+r,12);return n=0===n?12:n,t.of(n)},r.minus=function(e){return this.plus(-1*S.intMod(e,12))},r.length=function(e){switch(this){case t.FEBRUARY:return e?29:28;case t.APRIL:case t.JUNE:case t.SEPTEMBER:case t.NOVEMBER:return 30;default:return 31}},r.minLength=function(){switch(this){case t.FEBRUARY:return 28;case t.APRIL:case t.JUNE:case t.SEPTEMBER:case t.NOVEMBER:return 30;default:return 31}},r.maxLength=function(){switch(this){case t.FEBRUARY:return 29;case t.APRIL:case t.JUNE:case t.SEPTEMBER:case t.NOVEMBER:return 30;default:return 31}},r.firstDayOfYear=function(e){var r=e?1:0;switch(this){case t.JANUARY:return 1;case t.FEBRUARY:return 32;case t.MARCH:return 60+r;case t.APRIL:return 91+r;case t.MAY:return 121+r;case t.JUNE:return 152+r;case t.JULY:return 182+r;case t.AUGUST:return 213+r;case t.SEPTEMBER:return 244+r;case t.OCTOBER:return 274+r;case t.NOVEMBER:return 305+r;case t.DECEMBER:default:return 335+r}},r.firstMonthOfQuarter=function(){switch(this){case t.JANUARY:case t.FEBRUARY:case t.MARCH:return t.JANUARY;case t.APRIL:case t.MAY:case t.JUNE:return t.APRIL;case t.JULY:case t.AUGUST:case t.SEPTEMBER:return t.JULY;case t.OCTOBER:case t.NOVEMBER:case t.DECEMBER:default:return t.OCTOBER}},r.query=function(t){return(E(null!=t,"query() parameter must not be null",c),t===M.chronology())?eQ.INSTANCE:t===M.precision()?R.MONTHS:e.prototype.query.call(this,t)},r.toString=function(){switch(this){case t.JANUARY:return"JANUARY";case t.FEBRUARY:return"FEBRUARY";case t.MARCH:return"MARCH";case t.APRIL:return"APRIL";case t.MAY:return"MAY";case t.JUNE:return"JUNE";case t.JULY:return"JULY";case t.AUGUST:return"AUGUST";case t.SEPTEMBER:return"SEPTEMBER";case t.OCTOBER:return"OCTOBER";case t.NOVEMBER:return"NOVEMBER";case t.DECEMBER:return"DECEMBER";default:return"unknown Month, value: "+this.value()}},r.toJSON=function(){return this.toString()},r.adjustInto=function(e){return e.with(P.MONTH_OF_YEAR,this.value())},r.compareTo=function(e){return T(e,"other"),b(e,t,"other"),this._value-e._value},r.equals=function(e){return this===e},t.valueOf=function(e){for(var r=0;r<o.length&&o[r].name()!==e;r++);return t.of(r+1)},t.values=function(){return o.slice()},t.of=function(e){return(e<1||e>12)&&E(!1,"Invalid value for MonthOfYear: "+e,c),o[e-1]},t.from=function(e){if(e instanceof t)return e;try{return t.of(e.get(P.MONTH_OF_YEAR))}catch(t){throw new c("Unable to obtain Month from TemporalAccessor: "+e+" of type "+(e&&null!=e.constructor?e.constructor.name:""),t)}},t}(L),q=/([-+]?)P(?:([-+]?[0-9]+)Y)?(?:([-+]?[0-9]+)M)?(?:([-+]?[0-9]+)W)?(?:([-+]?[0-9]+)D)?/,j=function(e){function t(r,n,i){o=e.call(this)||this;var o,s=S.safeToInt(r),a=S.safeToInt(n),l=S.safeToInt(i);return 0===s&&0===a&&0===l?(t.ZERO||(o._years=s,o._months=a,o._days=l,t.ZERO=_(o)),t.ZERO||_(o)):(o._years=s,o._months=a,o._days=l,o)}g(t,e),t.ofYears=function(e){return t.create(e,0,0)},t.ofMonths=function(e){return t.create(0,e,0)},t.ofWeeks=function(e){return t.create(0,0,S.safeMultiply(e,7))},t.ofDays=function(e){return t.create(0,0,e)},t.of=function(e,r,n){return t.create(e,r,n)},t.from=function(e){if(e instanceof t)return e;T(e,"amount");for(var r=0,n=0,i=0,o=e.units(),s=0;s<o.length;s++){var a=o[s],l=e.get(a);if(a===R.YEARS)r=S.safeToInt(l);else if(a===R.MONTHS)n=S.safeToInt(l);else if(a===R.DAYS)i=S.safeToInt(l);else throw new c("Unit must be Years, Months or Days, but was "+a)}return t.create(r,n,i)},t.between=function(e,t){return T(e,"startDate"),T(t,"endDate"),b(e,e2,"startDate"),b(t,e2,"endDate"),e.until(t)},t.parse=function(e){T(e,"text");try{return t._parse(e)}catch(t){if(t instanceof d)throw new u("Text cannot be parsed to a Period",e,0,t);throw t}},t._parse=function(e){var r=q.exec(e);if(null!=r){var n="-"===r[1]?-1:1,i=r[2],o=r[3],s=r[4],a=r[5];if(null!=i||null!=o||null!=s||null!=a){var l=t._parseNumber(e,i,n),c=t._parseNumber(e,o,n),h=t._parseNumber(e,s,n),d=t._parseNumber(e,a,n);return d=S.safeAdd(d,S.safeMultiply(h,7)),t.create(l,c,d)}}throw new u("Text cannot be parsed to a Period",e,0)},t._parseNumber=function(e,t,r){if(null==t)return 0;var n=S.parseInt(t);return S.safeMultiply(n,r)},t.create=function(e,r,n){return new t(e,r,n)};var r=t.prototype;return r.units=function(){return[R.YEARS,R.MONTHS,R.DAYS]},r.chronology=function(){return eQ.INSTANCE},r.get=function(e){if(e===R.YEARS)return this._years;if(e===R.MONTHS)return this._months;if(e===R.DAYS)return this._days;throw new h("Unsupported unit: "+e)},r.isZero=function(){return this===t.ZERO},r.isNegative=function(){return this._years<0||this._months<0||this._days<0},r.years=function(){return this._years},r.months=function(){return this._months},r.days=function(){return this._days},r.withYears=function(e){return e===this._years?this:t.create(e,this._months,this._days)},r.withMonths=function(e){return e===this._months?this:t.create(this._years,e,this._days)},r.withDays=function(e){return e===this._days?this:t.create(this._years,this._months,e)},r.plus=function(e){var r=t.from(e);return t.create(S.safeAdd(this._years,r._years),S.safeAdd(this._months,r._months),S.safeAdd(this._days,r._days))},r.plusYears=function(e){return 0===e?this:t.create(S.safeToInt(S.safeAdd(this._years,e)),this._months,this._days)},r.plusMonths=function(e){return 0===e?this:t.create(this._years,S.safeToInt(S.safeAdd(this._months,e)),this._days)},r.plusDays=function(e){return 0===e?this:t.create(this._years,this._months,S.safeToInt(S.safeAdd(this._days,e)))},r.minus=function(e){var r=t.from(e);return t.create(S.safeSubtract(this._years,r._years),S.safeSubtract(this._months,r._months),S.safeSubtract(this._days,r._days))},r.minusYears=function(e){return this.plusYears(-1*e)},r.minusMonths=function(e){return this.plusMonths(-1*e)},r.minusDays=function(e){return this.plusDays(-1*e)},r.multipliedBy=function(e){return this===t.ZERO||1===e?this:t.create(S.safeMultiply(this._years,e),S.safeMultiply(this._months,e),S.safeMultiply(this._days,e))},r.negated=function(){return this.multipliedBy(-1)},r.normalized=function(){var e=this.toTotalMonths(),r=S.intDiv(e,12),n=S.intMod(e,12);return r===this._years&&n===this._months?this:t.create(S.safeToInt(r),n,this._days)},r.toTotalMonths=function(){return 12*this._years+this._months},r.addTo=function(e){return T(e,"temporal"),0!==this._years?e=0!==this._months?e.plus(this.toTotalMonths(),R.MONTHS):e.plus(this._years,R.YEARS):0!==this._months&&(e=e.plus(this._months,R.MONTHS)),0!==this._days&&(e=e.plus(this._days,R.DAYS)),e},r.subtractFrom=function(e){return T(e,"temporal"),0!==this._years?e=0!==this._months?e.minus(this.toTotalMonths(),R.MONTHS):e.minus(this._years,R.YEARS):0!==this._months&&(e=e.minus(this._months,R.MONTHS)),0!==this._days&&(e=e.minus(this._days,R.DAYS)),e},r.equals=function(e){return this===e||e instanceof t&&this._years===e._years&&this._months===e._months&&this._days===e._days},r.hashCode=function(){return S.hashCode(this._years,this._months,this._days)},r.toString=function(){if(this===t.ZERO)return"P0D";var e="P";return 0!==this._years&&(e+=this._years+"Y"),0!==this._months&&(e+=this._months+"M"),0!==this._days&&(e+=this._days+"D"),e},r.toJSON=function(){return this.toString()},t}(I),Y=function(){function e(e){this._index=e,this._errorIndex=-1}var t=e.prototype;return t.getIndex=function(){return this._index},t.setIndex=function(e){this._index=e},t.getErrorIndex=function(){return this._errorIndex},t.setErrorIndex=function(e){this._errorIndex=e},e}(),H=function(){function e(){this._map={}}var t=e.prototype;return t.putAll=function(e){for(var t in e._map)this._map[t]=e._map[t];return this},t.containsKey=function(e){return this._map.hasOwnProperty(e.name())&&void 0!==this.get(e)},t.get=function(e){return this._map[e.name()]},t.put=function(e,t){return this.set(e,t)},t.set=function(e,t){return this._map[e.name()]=t,this},t.retainAll=function(e){for(var t={},r=0;r<e.length;r++){var n=e[r].name();t[n]=this._map[n]}return this._map=t,this},t.remove=function(e){var t=e.name(),r=this._map[t];return this._map[t]=void 0,r},t.keySet=function(){return this._map},t.clear=function(){this._map={}},e}(),V=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t}(A);V.STRICT=new V("STRICT"),V.SMART=new V("SMART"),V.LENIENT=new V("LENIENT");var $=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.isSupported=function(e){w("isSupported")},r.minus=function(e,t){return arguments.length<2?this._minusAmount(e):this._minusUnit(e,t)},r._minusAmount=function(e){return T(e,"amount"),b(e,I,"amount"),e.subtractFrom(this)},r._minusUnit=function(e,t){return T(e,"amountToSubtract"),T(t,"unit"),b(t,C,"unit"),this._plusUnit(-e,t)},r.plus=function(e,t){return arguments.length<2?this._plusAmount(e):this._plusUnit(e,t)},r._plusAmount=function(e){return T(e,"amount"),b(e,I,"amount"),e.addTo(this)},r._plusUnit=function(e,t){w("_plusUnit")},r.until=function(e,t){w("until")},r.with=function(e,t){return arguments.length<2?this._withAdjuster(e):this._withField(e,t)},r._withAdjuster=function(e){return T(e,"adjuster"),E("function"==typeof e.adjustInto,"adjuster must be a TemporalAdjuster",f),e.adjustInto(this)},r._withField=function(e,t){w("_withField")},t}(L);"undefined"!=typeof Symbol&&Symbol.toPrimitive&&($.prototype[Symbol.toPrimitive]=function(e){if("number"!==e)return this.toString();throw TypeError("A conversion from Temporal to a number is not allowed. To compare use the methods .equals(), .compareTo(), .isBefore() or one that is more suitable to your use case.")});var z=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.isSupported=function(e){return e instanceof P?e.isDateBased():e instanceof R?e.isDateBased():null!=e&&e.isSupportedBy(this)},r.query=function(t){return t===M.chronology()?this.chronology():t===M.precision()?R.DAYS:t===M.localDate()?e2.ofEpochDay(this.toEpochDay()):t===M.localTime()||t===M.zone()||t===M.zoneId()||t===M.offset()?null:e.prototype.query.call(this,t)},r.adjustInto=function(e){return e.with(P.EPOCH_DAY,this.toEpochDay())},r.format=function(e){return T(e,"formatter"),b(e,eY,"formatter"),e.format(this)},t}($),W=function(){function e(){}return e.startsWith=function(e,t){return 0===e.indexOf(t)},e.hashCode=function(e){var t=e.length;if(0===t)return 0;for(var r=0,n=0;n<t;n++)r=(r<<5)-r+e.charCodeAt(n)|0;return S.smi(r)},e}(),G=function(){function e(){}e.systemDefault=function(){throw new c("not supported operation")},e.getAvailableZoneIds=function(){throw new c("not supported operation")},e.of=function(e){throw new c("not supported operation"+e)},e.ofOffset=function(e,t){throw new c("not supported operation"+e+t)},e.from=function(e){throw new c("not supported operation"+e)};var t=e.prototype;return t.id=function(){w("ZoneId.id")},t.rules=function(){w("ZoneId.rules")},t.normalized=function(){var e=this.rules();return e.isFixedOffset()?e.offset(e6.EPOCH):this},t.equals=function(t){return this===t||t instanceof e&&this.id()===t.id()},t.hashCode=function(){return W.hashCode(this.id())},t.toString=function(){return this.id()},t.toJSON=function(){return this.toString()},e}(),K=function(){function e(){}e.of=function(e){return T(e,"offset"),new Z(e)};var t=e.prototype;return t.isFixedOffset=function(){w("ZoneRules.isFixedOffset")},t.offset=function(e){return e instanceof e6?this.offsetOfInstant(e):this.offsetOfLocalDateTime(e)},t.offsetOfInstant=function(e){w("ZoneRules.offsetInstant")},t.offsetOfEpochMilli=function(e){w("ZoneRules.offsetOfEpochMilli")},t.offsetOfLocalDateTime=function(e){w("ZoneRules.offsetLocalDateTime")},t.validOffsets=function(e){w("ZoneRules.validOffsets")},t.transition=function(e){w("ZoneRules.transition")},t.standardOffset=function(e){w("ZoneRules.standardOffset")},t.daylightSavings=function(e){w("ZoneRules.daylightSavings")},t.isDaylightSavings=function(e){w("ZoneRules.isDaylightSavings")},t.isValidOffset=function(e,t){w("ZoneRules.isValidOffset")},t.nextTransition=function(e){w("ZoneRules.nextTransition")},t.previousTransition=function(e){w("ZoneRules.previousTransition")},t.transitions=function(){w("ZoneRules.transitions")},t.transitionRules=function(){w("ZoneRules.transitionRules")},t.toString=function(){w("ZoneRules.toString")},t.toJSON=function(){return this.toString()},e}(),Z=function(e){function t(t){var r;return(r=e.call(this)||this)._offset=t,r}g(t,e);var r=t.prototype;return r.isFixedOffset=function(){return!0},r.offsetOfInstant=function(){return this._offset},r.offsetOfEpochMilli=function(){return this._offset},r.offsetOfLocalDateTime=function(){return this._offset},r.validOffsets=function(){return[this._offset]},r.transition=function(){return null},r.standardOffset=function(){return this._offset},r.daylightSavings=function(){return O.ZERO},r.isDaylightSavings=function(){return!1},r.isValidOffset=function(e,t){return this._offset.equals(t)},r.nextTransition=function(){return null},r.previousTransition=function(){return null},r.transitions=function(){return[]},r.transitionRules=function(){return[]},r.equals=function(e){return this===e||e instanceof t&&this._offset.equals(e._offset)},r.toString=function(){return"FixedRules:"+this._offset.toString()},t}(K),Q={},X={},J=function(e){function t(r){var n;return n=e.call(this)||this,t._validateTotalSeconds(r),n._totalSeconds=S.safeToInt(r),n._rules=K.of(_(n)),n._id=t._buildId(r),n}g(t,e);var r=t.prototype;return r.totalSeconds=function(){return this._totalSeconds},r.id=function(){return this._id},t._buildId=function(e){if(0===e)return"Z";var t=Math.abs(e),r=S.intDiv(t,e8.SECONDS_PER_HOUR),n=S.intMod(S.intDiv(t,e8.SECONDS_PER_MINUTE),e8.MINUTES_PER_HOUR),i=(e<0?"-":"+")+(r<10?"0":"")+r+(n<10?":0":":")+n,o=S.intMod(t,e8.SECONDS_PER_MINUTE);return 0!==o&&(i+=(o<10?":0":":")+o),i},t._validateTotalSeconds=function(e){if(Math.abs(e)>t.MAX_SECONDS)throw new c("Zone offset not in valid range: -18:00 to +18:00")},t._validate=function(e,t,r){if(e<-18||e>18)throw new c("Zone offset hours not in valid range: value "+e+" is not in the range -18 to 18");if(e>0){if(t<0||r<0)throw new c("Zone offset minutes and seconds must be positive because hours is positive")}else if(e<0){if(t>0||r>0)throw new c("Zone offset minutes and seconds must be negative because hours is negative")}else if(t>0&&r<0||t<0&&r>0)throw new c("Zone offset minutes and seconds must have the same sign");if(Math.abs(t)>59)throw new c("Zone offset minutes not in valid range: abs(value) "+Math.abs(t)+" is not in the range 0 to 59");if(Math.abs(r)>59)throw new c("Zone offset seconds not in valid range: abs(value) "+Math.abs(r)+" is not in the range 0 to 59");if(18===Math.abs(e)&&(Math.abs(t)>0||Math.abs(r)>0))throw new c("Zone offset not in valid range: -18:00 to +18:00")},t.of=function(e){T(e,"offsetId");var r,n,i,o=X[e];if(null!=o)return o;switch(e.length){case 2:e=e[0]+"0"+e[1];case 3:r=t._parseNumber(e,1,!1),n=0,i=0;break;case 5:r=t._parseNumber(e,1,!1),n=t._parseNumber(e,3,!1),i=0;break;case 6:r=t._parseNumber(e,1,!1),n=t._parseNumber(e,4,!0),i=0;break;case 7:r=t._parseNumber(e,1,!1),n=t._parseNumber(e,3,!1),i=t._parseNumber(e,5,!1);break;case 9:r=t._parseNumber(e,1,!1),n=t._parseNumber(e,4,!0),i=t._parseNumber(e,7,!0);break;default:throw new c("Invalid ID for ZoneOffset, invalid format: "+e)}var s=e[0];if("+"!==s&&"-"!==s)throw new c("Invalid ID for ZoneOffset, plus/minus not found when expected: "+e);return"-"===s?t.ofHoursMinutesSeconds(-r,-n,-i):t.ofHoursMinutesSeconds(r,n,i)},t._parseNumber=function(e,t,r){if(r&&":"!==e[t-1])throw new c("Invalid ID for ZoneOffset, colon not found when expected: "+e);var n=e[t],i=e[t+1];if(n<"0"||n>"9"||i<"0"||i>"9")throw new c("Invalid ID for ZoneOffset, non numeric characters found: "+e);return(n.charCodeAt(0)-48)*10+(i.charCodeAt(0)-48)},t.ofHours=function(e){return t.ofHoursMinutesSeconds(e,0,0)},t.ofHoursMinutes=function(e,r){return t.ofHoursMinutesSeconds(e,r,0)},t.ofHoursMinutesSeconds=function(e,r,n){t._validate(e,r,n);var i=e*e8.SECONDS_PER_HOUR+r*e8.SECONDS_PER_MINUTE+n;return t.ofTotalSeconds(i)},t.ofTotalMinutes=function(e){var r=e*e8.SECONDS_PER_MINUTE;return t.ofTotalSeconds(r)},t.ofTotalSeconds=function(e){if(e%(15*e8.SECONDS_PER_MINUTE)!=0)return new t(e);var r=Q[e];return null==r&&(r=new t(e),Q[e]=r,X[r.id()]=r),r},r.rules=function(){return this._rules},r.get=function(e){return this.getLong(e)},r.getLong=function(e){if(e===P.OFFSET_SECONDS)return this._totalSeconds;if(e instanceof P)throw new c("Unsupported field: "+e);return e.getFrom(this)},r.query=function(e){return(T(e,"query"),e===M.offset()||e===M.zone())?this:e===M.localDate()||e===M.localTime()||e===M.precision()||e===M.chronology()||e===M.zoneId()?null:e.queryFrom(this)},r.adjustInto=function(e){return e.with(P.OFFSET_SECONDS,this._totalSeconds)},r.compareTo=function(e){return T(e,"other"),e._totalSeconds-this._totalSeconds},r.equals=function(e){return this===e||e instanceof t&&this._totalSeconds===e._totalSeconds},r.hashCode=function(){return this._totalSeconds},r.toString=function(){return this._id},t}(G),ee=function(e){function t(){var t;return(t=e.call(this)||this).fieldValues=new H,t.chrono=null,t.zone=null,t.date=null,t.time=null,t.leapSecond=!1,t.excessDays=null,t}g(t,e),t.create=function(e,r){var n=new t;return n._addFieldValue(e,r),n};var r=t.prototype;return r.getFieldValue0=function(e){return this.fieldValues.get(e)},r._addFieldValue=function(e,t){T(e,"field");var r=this.getFieldValue0(e);if(null!=r&&r!==t)throw new c("Conflict found: "+e+" "+r+" differs from "+e+" "+t+": "+this);return this._putFieldValue0(e,t)},r._putFieldValue0=function(e,t){return this.fieldValues.put(e,t),this},r.resolve=function(e,t){return null!=t&&this.fieldValues.retainAll(t),this._mergeDate(e),this._mergeTime(e),this._resolveTimeInferZeroes(e),null!=this.excessDays&&!1===this.excessDays.isZero()&&null!=this.date&&null!=this.time&&(this.date=this.date.plus(this.excessDays),this.excessDays=j.ZERO),this._resolveInstant(),this},r._mergeDate=function(e){this._checkDate(eQ.INSTANCE.resolveDate(this.fieldValues,e))},r._checkDate=function(e){if(null!=e)for(var t in this._addObject(e),this.fieldValues.keySet()){var r=P.byName(t);if(r&&void 0!==this.fieldValues.get(r)&&r.isDateBased()){var n=void 0;try{n=e.getLong(r)}catch(e){if(e instanceof c)continue;throw e}var i=this.fieldValues.get(r);if(n!==i)throw new c("Conflict found: Field "+r+" "+n+" differs from "+r+" "+i+" derived from "+e)}}},r._mergeTime=function(e){if(this.fieldValues.containsKey(P.CLOCK_HOUR_OF_DAY)){var t=this.fieldValues.remove(P.CLOCK_HOUR_OF_DAY);e!==V.LENIENT&&(e===V.SMART&&0===t||P.CLOCK_HOUR_OF_DAY.checkValidValue(t)),this._addFieldValue(P.HOUR_OF_DAY,24===t?0:t)}if(this.fieldValues.containsKey(P.CLOCK_HOUR_OF_AMPM)){var r=this.fieldValues.remove(P.CLOCK_HOUR_OF_AMPM);e!==V.LENIENT&&(e===V.SMART&&0===r||P.CLOCK_HOUR_OF_AMPM.checkValidValue(r)),this._addFieldValue(P.HOUR_OF_AMPM,12===r?0:r)}if(e!==V.LENIENT&&(this.fieldValues.containsKey(P.AMPM_OF_DAY)&&P.AMPM_OF_DAY.checkValidValue(this.fieldValues.get(P.AMPM_OF_DAY)),this.fieldValues.containsKey(P.HOUR_OF_AMPM)&&P.HOUR_OF_AMPM.checkValidValue(this.fieldValues.get(P.HOUR_OF_AMPM))),this.fieldValues.containsKey(P.AMPM_OF_DAY)&&this.fieldValues.containsKey(P.HOUR_OF_AMPM)){var n=this.fieldValues.remove(P.AMPM_OF_DAY),i=this.fieldValues.remove(P.HOUR_OF_AMPM);this._addFieldValue(P.HOUR_OF_DAY,12*n+i)}if(this.fieldValues.containsKey(P.NANO_OF_DAY)){var o=this.fieldValues.remove(P.NANO_OF_DAY);e!==V.LENIENT&&P.NANO_OF_DAY.checkValidValue(o),this._addFieldValue(P.SECOND_OF_DAY,S.intDiv(o,1e9)),this._addFieldValue(P.NANO_OF_SECOND,S.intMod(o,1e9))}if(this.fieldValues.containsKey(P.MICRO_OF_DAY)){var s=this.fieldValues.remove(P.MICRO_OF_DAY);e!==V.LENIENT&&P.MICRO_OF_DAY.checkValidValue(s),this._addFieldValue(P.SECOND_OF_DAY,S.intDiv(s,1e6)),this._addFieldValue(P.MICRO_OF_SECOND,S.intMod(s,1e6))}if(this.fieldValues.containsKey(P.MILLI_OF_DAY)){var a=this.fieldValues.remove(P.MILLI_OF_DAY);e!==V.LENIENT&&P.MILLI_OF_DAY.checkValidValue(a),this._addFieldValue(P.SECOND_OF_DAY,S.intDiv(a,1e3)),this._addFieldValue(P.MILLI_OF_SECOND,S.intMod(a,1e3))}if(this.fieldValues.containsKey(P.SECOND_OF_DAY)){var l=this.fieldValues.remove(P.SECOND_OF_DAY);e!==V.LENIENT&&P.SECOND_OF_DAY.checkValidValue(l),this._addFieldValue(P.HOUR_OF_DAY,S.intDiv(l,3600)),this._addFieldValue(P.MINUTE_OF_HOUR,S.intMod(S.intDiv(l,60),60)),this._addFieldValue(P.SECOND_OF_MINUTE,S.intMod(l,60))}if(this.fieldValues.containsKey(P.MINUTE_OF_DAY)){var c=this.fieldValues.remove(P.MINUTE_OF_DAY);e!==V.LENIENT&&P.MINUTE_OF_DAY.checkValidValue(c),this._addFieldValue(P.HOUR_OF_DAY,S.intDiv(c,60)),this._addFieldValue(P.MINUTE_OF_HOUR,S.intMod(c,60))}if(e!==V.LENIENT&&(this.fieldValues.containsKey(P.MILLI_OF_SECOND)&&P.MILLI_OF_SECOND.checkValidValue(this.fieldValues.get(P.MILLI_OF_SECOND)),this.fieldValues.containsKey(P.MICRO_OF_SECOND)&&P.MICRO_OF_SECOND.checkValidValue(this.fieldValues.get(P.MICRO_OF_SECOND))),this.fieldValues.containsKey(P.MILLI_OF_SECOND)&&this.fieldValues.containsKey(P.MICRO_OF_SECOND)){var u=this.fieldValues.remove(P.MILLI_OF_SECOND),h=this.fieldValues.get(P.MICRO_OF_SECOND);this._putFieldValue0(P.MICRO_OF_SECOND,1e3*u+S.intMod(h,1e3))}if(this.fieldValues.containsKey(P.MICRO_OF_SECOND)&&this.fieldValues.containsKey(P.NANO_OF_SECOND)){var d=this.fieldValues.get(P.NANO_OF_SECOND);this._putFieldValue0(P.MICRO_OF_SECOND,S.intDiv(d,1e3)),this.fieldValues.remove(P.MICRO_OF_SECOND)}if(this.fieldValues.containsKey(P.MILLI_OF_SECOND)&&this.fieldValues.containsKey(P.NANO_OF_SECOND)){var f=this.fieldValues.get(P.NANO_OF_SECOND);this._putFieldValue0(P.MILLI_OF_SECOND,S.intDiv(f,1e6)),this.fieldValues.remove(P.MILLI_OF_SECOND)}if(this.fieldValues.containsKey(P.MICRO_OF_SECOND)){var p=this.fieldValues.remove(P.MICRO_OF_SECOND);this._putFieldValue0(P.NANO_OF_SECOND,1e3*p)}else if(this.fieldValues.containsKey(P.MILLI_OF_SECOND)){var m=this.fieldValues.remove(P.MILLI_OF_SECOND);this._putFieldValue0(P.NANO_OF_SECOND,1e6*m)}},r._resolveTimeInferZeroes=function(e){var t=this.fieldValues.get(P.HOUR_OF_DAY),r=this.fieldValues.get(P.MINUTE_OF_HOUR),n=this.fieldValues.get(P.SECOND_OF_MINUTE),i=this.fieldValues.get(P.NANO_OF_SECOND);if(null!=t&&(null!=r||null==n&&null==i)&&(null==r||null!=n||null==i)){if(e!==V.LENIENT){if(null!=t){e===V.SMART&&24===t&&(null==r||0===r)&&(null==n||0===n)&&(null==i||0===i)&&(t=0,this.excessDays=j.ofDays(1));var o=P.HOUR_OF_DAY.checkValidIntValue(t);if(null!=r){var s=P.MINUTE_OF_HOUR.checkValidIntValue(r);if(null!=n){var a=P.SECOND_OF_MINUTE.checkValidIntValue(n);if(null!=i){var l=P.NANO_OF_SECOND.checkValidIntValue(i);this._addObject(e8.of(o,s,a,l))}else this._addObject(e8.of(o,s,a))}else null==i&&this._addObject(e8.of(o,s))}else null==n&&null==i&&this._addObject(e8.of(o,0))}}else if(null!=t){var c=t;if(null!=r){if(null!=n){null==i&&(i=0);var u=S.safeMultiply(c,36e11);u=S.safeAdd(u,S.safeMultiply(r,6e10)),u=S.safeAdd(u,S.safeMultiply(n,1e9)),u=S.safeAdd(u,i);var h=S.floorDiv(u,864e11),d=S.floorMod(u,864e11);this._addObject(e8.ofNanoOfDay(d)),this.excessDays=j.ofDays(h)}else{var f=S.safeMultiply(c,3600);f=S.safeAdd(f,S.safeMultiply(r,60));var p=S.floorDiv(f,86400),m=S.floorMod(f,86400);this._addObject(e8.ofSecondOfDay(m)),this.excessDays=j.ofDays(p)}}else{var g=S.safeToInt(S.floorDiv(c,24));c=S.floorMod(c,24),this._addObject(e8.of(c,0)),this.excessDays=j.ofDays(g)}}this.fieldValues.remove(P.HOUR_OF_DAY),this.fieldValues.remove(P.MINUTE_OF_HOUR),this.fieldValues.remove(P.SECOND_OF_MINUTE),this.fieldValues.remove(P.NANO_OF_SECOND)}},r._addObject=function(e){e instanceof z?this.date=e:e instanceof e8&&(this.time=e)},r._resolveInstant=function(){if(null!=this.date&&null!=this.time){var e=this.fieldValues.get(P.OFFSET_SECONDS);if(null!=e){var t=J.ofTotalSeconds(e),r=this.date.atTime(this.time).atZone(t).getLong(P.INSTANT_SECONDS);this.fieldValues.put(P.INSTANT_SECONDS,r)}else if(null!=this.zone){var n=this.date.atTime(this.time).atZone(this.zone).getLong(P.INSTANT_SECONDS);this.fieldValues.put(P.INSTANT_SECONDS,n)}}},r.build=function(e){return e.queryFrom(this)},r.isSupported=function(e){return null!=e&&(this.fieldValues.containsKey(e)&&void 0!==this.fieldValues.get(e)||null!=this.date&&this.date.isSupported(e)||null!=this.time&&this.time.isSupported(e))},r.getLong=function(e){T(e,"field");var t=this.getFieldValue0(e);if(null==t){if(null!=this.date&&this.date.isSupported(e))return this.date.getLong(e);if(null!=this.time&&this.time.isSupported(e))return this.time.getLong(e);throw new c("Field not found: "+e)}return t},r.query=function(e){if(e===M.zoneId())return this.zone;if(e===M.chronology())return this.chrono;if(e===M.localDate())return null!=this.date?e2.from(this.date):null;if(e===M.localTime())return this.time;if(e===M.zone()||e===M.offset());else if(e===M.precision())return null;return e.queryFrom(this)},t}(L),et=function(){function e(){if(1==arguments.length){if(arguments[0]instanceof e){this._constructorSelf.apply(this,arguments);return}this._constructorFormatter.apply(this,arguments)}else this._constructorParam.apply(this,arguments);this._caseSensitive=!0,this._strict=!0,this._parsed=[new er(this)]}var t=e.prototype;return t._constructorParam=function(e,t,r){this._locale=e,this._symbols=t,this._overrideChronology=r},t._constructorFormatter=function(e){this._locale=e.locale(),this._symbols=e.decimalStyle(),this._overrideChronology=e.chronology()},t._constructorSelf=function(e){this._locale=e._locale,this._symbols=e._symbols,this._overrideChronology=e._overrideChronology,this._overrideZone=e._overrideZone,this._caseSensitive=e._caseSensitive,this._strict=e._strict,this._parsed=[new er(this)]},t.copy=function(){return new e(this)},t.symbols=function(){return this._symbols},t.isStrict=function(){return this._strict},t.setStrict=function(e){this._strict=e},t.locale=function(){return this._locale},t.setLocale=function(e){this._locale=e},t.startOptional=function(){this._parsed.push(this.currentParsed().copy())},t.endOptional=function(e){e?this._parsed.splice(this._parsed.length-2,1):this._parsed.splice(this._parsed.length-1,1)},t.isCaseSensitive=function(){return this._caseSensitive},t.setCaseSensitive=function(e){this._caseSensitive=e},t.subSequenceEquals=function(e,t,r,n,i){if(t+i>e.length||n+i>r.length)return!1;this.isCaseSensitive()||(e=e.toLowerCase(),r=r.toLowerCase());for(var o=0;o<i;o++)if(e[t+o]!==r[n+o])return!1;return!0},t.charEquals=function(e,t){return this.isCaseSensitive()?e===t:this.charEqualsIgnoreCase(e,t)},t.charEqualsIgnoreCase=function(e,t){return e===t||e.toLowerCase()===t.toLowerCase()},t.setParsedField=function(e,t,r,n){var i=this.currentParsed().fieldValues,o=i.get(e);return i.set(e,t),null!=o&&o!==t?~r:n},t.setParsedZone=function(e){T(e,"zone"),this.currentParsed().zone=e},t.getParsed=function(e){return this.currentParsed().fieldValues.get(e)},t.toParsed=function(){return this.currentParsed()},t.currentParsed=function(){return this._parsed[this._parsed.length-1]},t.setParsedLeapSecond=function(){this.currentParsed().leapSecond=!0},t.getEffectiveChronology=function(){var e=this.currentParsed().chrono;return null==e&&null==(e=this._overrideChronology)&&(e=eQ.INSTANCE),e},e}(),er=function(e){function t(t){var r;return(r=e.call(this)||this).chrono=null,r.zone=null,r.fieldValues=new H,r.leapSecond=!1,r.dateTimeParseContext=t,r}g(t,e);var r=t.prototype;return r.copy=function(){var e=new t;return e.chrono=this.chrono,e.zone=this.zone,e.fieldValues.putAll(this.fieldValues),e.leapSecond=this.leapSecond,e.dateTimeParseContext=this.dateTimeParseContext,e},r.toString=function(){return this.fieldValues+", "+this.chrono+", "+this.zone},r.isSupported=function(e){return this.fieldValues.containsKey(e)},r.get=function(e){var t=this.fieldValues.get(e);return E(null!=t),t},r.query=function(t){return t===M.chronology()?this.chrono:t===M.zoneId()||t===M.zone()?this.zone:e.prototype.query.call(this,t)},r.toBuilder=function(){var e=new ee;return e.fieldValues.putAll(this.fieldValues),e.chrono=this.dateTimeParseContext.getEffectiveChronology(),null!=this.zone?e.zone=this.zone:e.zone=this.overrideZone,e.leapSecond=this.leapSecond,e.excessDays=this.excessDays,e},t}($),en=function(){function e(t,r,n){2==arguments.length&&arguments[1]instanceof eY?(this._temporal=e.adjust(t,r),this._locale=r.locale(),this._symbols=r.decimalStyle()):(this._temporal=t,this._locale=r,this._symbols=n),this._optional=0}e.adjust=function(e,t){return e};var t=e.prototype;return t.symbols=function(){return this._symbols},t.startOptional=function(){this._optional++},t.endOptional=function(){this._optional--},t.getValueQuery=function(e){var t=this._temporal.query(e);if(null==t&&0===this._optional)throw new c("Unable to extract value: "+this._temporal);return t},t.getValue=function(e){try{return this._temporal.getLong(e)}catch(e){if(e instanceof c&&this._optional>0)return null;throw e}},t.temporal=function(){return this._temporal},t.locale=function(){return this._locale},t.setDateTime=function(e){this._temporal=e},t.setLocale=function(e){this._locale=e},e}(),ei={},eo=[0,90,181,273,0,91,182,274],es=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.isDateBased=function(){return!0},r.isTimeBased=function(){return!1},r._isIso=function(){return!0},t._getWeekRangeByLocalDate=function(e){var r=t._getWeekBasedYear(e);return k.of(1,t._getWeekRangeByYear(r))},t._getWeekRangeByYear=function(e){var t=e2.of(e,1,1);return t.dayOfWeek()===F.THURSDAY||t.dayOfWeek()===F.WEDNESDAY&&t.isLeapYear()?53:52},t._getWeek=function(e){var r=e.dayOfWeek().ordinal(),n=e.dayOfYear()-1,i=n+(3-r),o=S.intDiv(i,7),s=i-7*o-3;if(s<-3&&(s+=7),n<s)return t._getWeekRangeByLocalDate(e.withDayOfYear(180).minusYears(1)).maximum();var a=S.intDiv(n-s,7)+1;return 53===a&&!1===(-3===s||-2===s&&e.isLeapYear())&&(a=1),a},t._getWeekBasedYear=function(e){var t=e.year(),r=e.dayOfYear();if(r<=3)r-e.dayOfWeek().ordinal()<-2&&t--;else if(r>=363){var n=e.dayOfWeek().ordinal();(r=r-363-(e.isLeapYear()?1:0))-n>=0&&t++}return t},r.displayName=function(){return this.toString()},r.resolve=function(){return null},r.name=function(){return this.toString()},t}(D),ea=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.toString=function(){return"DayOfQuarter"},r.baseUnit=function(){return R.DAYS},r.rangeUnit=function(){return ey},r.range=function(){return k.of(1,90,92)},r.isSupportedBy=function(e){return e.isSupported(P.DAY_OF_YEAR)&&e.isSupported(P.MONTH_OF_YEAR)&&e.isSupported(P.YEAR)&&this._isIso(e)},r.rangeRefinedBy=function(e){if(!1===e.isSupported(this))throw new h("Unsupported field: DayOfQuarter");var t=e.getLong(ef);if(1===t){var r=e.getLong(P.YEAR);return eQ.isLeapYear(r)?k.of(1,91):k.of(1,90)}return 2===t?k.of(1,91):3===t||4===t?k.of(1,92):this.range()},r.getFrom=function(e){if(!1===e.isSupported(this))throw new h("Unsupported field: DayOfQuarter");var t=e.get(P.DAY_OF_YEAR),r=e.get(P.MONTH_OF_YEAR),n=e.getLong(P.YEAR);return t-eo[S.intDiv(r-1,3)+(eQ.isLeapYear(n)?4:0)]},r.adjustInto=function(e,t){var r=this.getFrom(e);return this.range().checkValidValue(t,this),e.with(P.DAY_OF_YEAR,e.getLong(P.DAY_OF_YEAR)+(t-r))},r.resolve=function(e,t,r){var n,i=e.get(P.YEAR),o=e.get(ef);if(null==i||null==o)return null;var s=P.YEAR.checkValidIntValue(i),a=e.get(ed);if(r===V.LENIENT)n=(n=(n=e2.of(s,1,1)).plusMonths(S.safeMultiply(S.safeSubtract(o,1),3))).plusDays(S.safeSubtract(a,1));else{var l=ef.range().checkValidIntValue(o,ef);if(r===V.STRICT){var c=92;1===l?c=eQ.isLeapYear(s)?91:90:2===l&&(c=91),k.of(1,c).checkValidValue(a,this)}else this.range().checkValidValue(a,this);n=e2.of(s,(l-1)*3+1,1).plusDays(a-1)}return e.remove(this),e.remove(P.YEAR),e.remove(ef),n},t}(es),el=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.toString=function(){return"QuarterOfYear"},r.baseUnit=function(){return ey},r.rangeUnit=function(){return R.YEARS},r.range=function(){return k.of(1,4)},r.isSupportedBy=function(e){return e.isSupported(P.MONTH_OF_YEAR)&&this._isIso(e)},r.rangeRefinedBy=function(e){return this.range()},r.getFrom=function(e){if(!1===e.isSupported(this))throw new h("Unsupported field: QuarterOfYear");var t=e.getLong(P.MONTH_OF_YEAR);return S.intDiv(t+2,3)},r.adjustInto=function(e,t){var r=this.getFrom(e);return this.range().checkValidValue(t,this),e.with(P.MONTH_OF_YEAR,e.getLong(P.MONTH_OF_YEAR)+(t-r)*3)},t}(es),ec=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.toString=function(){return"WeekOfWeekBasedYear"},r.baseUnit=function(){return R.WEEKS},r.rangeUnit=function(){return eg},r.range=function(){return k.of(1,52,53)},r.isSupportedBy=function(e){return e.isSupported(P.EPOCH_DAY)&&this._isIso(e)},r.rangeRefinedBy=function(e){if(!1===e.isSupported(this))throw new h("Unsupported field: WeekOfWeekBasedYear");return es._getWeekRangeByLocalDate(e2.from(e))},r.getFrom=function(e){if(!1===e.isSupported(this))throw new h("Unsupported field: WeekOfWeekBasedYear");return es._getWeek(e2.from(e))},r.adjustInto=function(e,t){return this.range().checkValidValue(t,this),e.plus(S.safeSubtract(t,this.getFrom(e)),R.WEEKS)},r.resolve=function(e,t,r){var n,i=e.get(em),o=e.get(P.DAY_OF_WEEK);if(null==i||null==o)return null;var s=em.range().checkValidIntValue(i,em),a=e.get(ep);if(r===V.LENIENT){var l=o,c=0;l>7?(c=S.intDiv(l-1,7),l=S.intMod(l-1,7)+1):l<1&&(c=S.intDiv(l,7)-1,l=S.intMod(l,7)+7),n=e2.of(s,1,4).plusWeeks(a-1).plusWeeks(c).with(P.DAY_OF_WEEK,l)}else{var u=P.DAY_OF_WEEK.checkValidIntValue(o);if(r===V.STRICT){var h=e2.of(s,1,4);es._getWeekRangeByLocalDate(h).checkValidValue(a,this)}else this.range().checkValidValue(a,this);n=e2.of(s,1,4).plusWeeks(a-1).with(P.DAY_OF_WEEK,u)}return e.remove(this),e.remove(em),e.remove(P.DAY_OF_WEEK),n},r.displayName=function(){return"Week"},t}(es),eu=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.toString=function(){return"WeekBasedYear"},r.baseUnit=function(){return eg},r.rangeUnit=function(){return R.FOREVER},r.range=function(){return P.YEAR.range()},r.isSupportedBy=function(e){return e.isSupported(P.EPOCH_DAY)&&this._isIso(e)},r.rangeRefinedBy=function(e){return P.YEAR.range()},r.getFrom=function(e){if(!1===e.isSupported(this))throw new h("Unsupported field: WeekBasedYear");return es._getWeekBasedYear(e2.from(e))},r.adjustInto=function(e,t){if(!1===this.isSupportedBy(e))throw new h("Unsupported field: WeekBasedYear");var r=this.range().checkValidIntValue(t,em),n=e2.from(e),i=n.get(P.DAY_OF_WEEK),o=es._getWeek(n);53===o&&52===es._getWeekRangeByYear(r)&&(o=52);var s=e2.of(r,1,4),a=i-s.get(P.DAY_OF_WEEK)+(o-1)*7;return s=s.plusDays(a),e.with(s)},t}(es),eh=function(e){function t(t,r){var n;return(n=e.call(this)||this)._name=t,n._duration=r,n}g(t,e);var r=t.prototype;return r.duration=function(){return this._duration},r.isDurationEstimated=function(){return!0},r.isDateBased=function(){return!0},r.isTimeBased=function(){return!1},r.isSupportedBy=function(e){return e.isSupported(P.EPOCH_DAY)},r.addTo=function(e,t){switch(this){case eg:var r=S.safeAdd(e.get(em),t);return e.with(em,r);case ey:return e.plus(S.intDiv(t,256),R.YEARS).plus(3*S.intMod(t,256),R.MONTHS);default:throw new p("Unreachable")}},r.between=function(e,t){switch(this){case eg:return S.safeSubtract(t.getLong(em),e.getLong(em));case ey:return S.intDiv(e.until(t,R.MONTHS),3);default:throw new p("Unreachable")}},r.toString=function(){return this._name},t}(C),ed=null,ef=null,ep=null,em=null,eg=null,ey=null,e_=function(){function e(e,t,r,n){this._zeroDigit=e,this._zeroDigitCharCode=e.charCodeAt(0),this._positiveSign=t,this._negativeSign=r,this._decimalSeparator=n}var t=e.prototype;return t.positiveSign=function(){return this._positiveSign},t.withPositiveSign=function(t){return t===this._positiveSign?this:new e(this._zeroDigit,t,this._negativeSign,this._decimalSeparator)},t.negativeSign=function(){return this._negativeSign},t.withNegativeSign=function(t){return t===this._negativeSign?this:new e(this._zeroDigit,this._positiveSign,t,this._decimalSeparator)},t.zeroDigit=function(){return this._zeroDigit},t.withZeroDigit=function(t){return t===this._zeroDigit?this:new e(t,this._positiveSign,this._negativeSign,this._decimalSeparator)},t.decimalSeparator=function(){return this._decimalSeparator},t.withDecimalSeparator=function(t){return t===this._decimalSeparator?this:new e(this._zeroDigit,this._positiveSign,this._negativeSign,t)},t.convertToDigit=function(e){var t=e.charCodeAt(0)-this._zeroDigitCharCode;return t>=0&&t<=9?t:-1},t.convertNumberToI18N=function(e){if("0"===this._zeroDigit)return e;for(var t=this._zeroDigitCharCode-48,r="",n=0;n<e.length;n++)r+=String.fromCharCode(e.charCodeAt(n)+t);return r},t.equals=function(t){return this===t||t instanceof e&&this._zeroDigit===t._zeroDigit&&this._positiveSign===t._positiveSign&&this._negativeSign===t._negativeSign&&this._decimalSeparator===t._decimalSeparator},t.hashCode=function(){return this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator},t.toString=function(){return"DecimalStyle["+this._zeroDigit+this._positiveSign+this._negativeSign+this._decimalSeparator+"]"},e.of=function(){throw Error("not yet supported")},e.availableLocales=function(){throw Error("not yet supported")},e}();e_.STANDARD=new e_("0","+","-",".");var eE=function(e){function t(){return e.apply(this,arguments)||this}return g(t,e),t.prototype.parse=function(e,r,n){switch(this){case t.NORMAL:return!e||!r;case t.ALWAYS:case t.EXCEEDS_PAD:return!0;default:return!r&&!n}},t}(A);eE.NORMAL=new eE("NORMAL"),eE.NEVER=new eE("NEVER"),eE.ALWAYS=new eE("ALWAYS"),eE.EXCEEDS_PAD=new eE("EXCEEDS_PAD"),eE.NOT_NEGATIVE=new eE("NOT_NEGATIVE");var eT=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.isStandalone=function(){switch(this){case t.FULL_STANDALONE:case t.SHORT_STANDALONE:case t.NARROW_STANDALONE:return!0;default:return!1}},r.asStandalone=function(){switch(this){case t.FULL:return t.FULL_STANDALONE;case t.SHORT:return t.SHORT_STANDALONE;case t.NARROW:return t.NARROW_STANDALONE;default:return this}},r.asNormal=function(){switch(this){case t.FULL_STANDALONE:return t.FULL;case t.SHORT_STANDALONE:return t.SHORT;case t.NARROW_STANDALONE:return t.NARROW;default:return this}},t}(A);eT.FULL=new eT("FULL"),eT.FULL_STANDALONE=new eT("FULL_STANDALONE"),eT.SHORT=new eT("SHORT"),eT.SHORT_STANDALONE=new eT("SHORT_STANDALONE"),eT.NARROW=new eT("NARROW"),eT.NARROW_STANDALONE=new eT("NARROW_STANDALONE");/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var eb=function(){function e(e){if(e.length>1)throw new f('invalid literal, too long: "'+e+'"');this._literal=e}var t=e.prototype;return t.print=function(e,t){return t.append(this._literal),!0},t.parse=function(e,t,r){if(r===t.length)return~r;var n=t.charAt(r);return!1===e.charEquals(this._literal,n)?~r:r+this._literal.length},t.toString=function(){return"'"===this._literal?"''":"'"+this._literal+"'"},e}(),ew=function(){function e(e,t){this._printerParsers=e,this._optional=t}var t=e.prototype;return t.withOptional=function(t){return t===this._optional?this:new e(this._printerParsers,t)},t.print=function(e,t){var r=t.length();this._optional&&e.startOptional();try{for(var n=0;n<this._printerParsers.length;n++){var i=this._printerParsers[n];if(!1===i.print(e,t))return t.setLength(r),!0}}finally{this._optional&&e.endOptional()}return!0},t.parse=function(e,t,r){if(this._optional){e.startOptional();for(var n=r,i=0;i<this._printerParsers.length;i++)if((n=this._printerParsers[i].parse(e,t,n))<0)return e.endOptional(!1),r;return e.endOptional(!0),n}for(var o=0;o<this._printerParsers.length&&!((r=this._printerParsers[o].parse(e,t,r))<0);o++);return r},t.toString=function(){var e="";if(null!=this._printerParsers){e+=this._optional?"[":"(";for(var t=0;t<this._printerParsers.length;t++)e+=this._printerParsers[t].toString();e+=this._optional?"]":")"}return e},e}(),ev=function(){function e(e,t,r,n){if(T(e,"field"),!1===e.range().isFixed())throw new f("Field must have a fixed set of values: "+e);if(t<0||t>9)throw new f("Minimum width must be from 0 to 9 inclusive but was "+t);if(r<1||r>9)throw new f("Maximum width must be from 1 to 9 inclusive but was "+r);if(r<t)throw new f("Maximum width must exceed or equal the minimum width but "+r+" < "+t);this.field=e,this.minWidth=t,this.maxWidth=r,this.decimalPoint=n}var t=e.prototype;return t.print=function(e,t){var r=e.getValue(this.field);if(null===r)return!1;var n=e.symbols();if(0===r){if(this.minWidth>0){this.decimalPoint&&t.append(n.decimalSeparator());for(var i=0;i<this.minWidth;i++)t.append(n.zeroDigit())}}else{var o=this.convertToFraction(r,n.zeroDigit()),s=Math.min(Math.max(o.length,this.minWidth),this.maxWidth);if(1*(o=o.substr(0,s))>0)for(;o.length>this.minWidth&&"0"===o[o.length-1];)o=o.substr(0,o.length-1);var a=o;a=n.convertNumberToI18N(a),this.decimalPoint&&t.append(n.decimalSeparator()),t.append(a)}return!0},t.parse=function(e,t,r){var n=e.isStrict()?this.minWidth:0,i=e.isStrict()?this.maxWidth:9,o=t.length;if(r===o)return n>0?~r:r;if(this.decimalPoint){if(t[r]!==e.symbols().decimalSeparator())return n>0?~r:r;r++}var s=r+n;if(s>o)return~r;for(var a=Math.min(r+i,o),l=0,c=r;c<a;){var u=t.charAt(c++),h=e.symbols().convertToDigit(u);if(h<0){if(c<s)return~r;c--;break}l=10*l+h}var d=c-r,f=this.convertFromFraction(l,Math.pow(10,d));return e.setParsedField(this.field,f,r,c)},t.convertToFraction=function(e,t){var r=this.field.range();r.checkValidValue(e,this.field);for(var n=r.minimum(),i=r.maximum()-n+1,o=e-n,s=""+S.intDiv(1e9*o,i);s.length<9;)s=t+s;return s},t.convertFromFraction=function(e,t){var r=this.field.range(),n=r.minimum(),i=r.maximum()-n+1;return S.intDiv(e*i,t)},t.toString=function(){var e=this.decimalPoint?",DecimalPoint":"";return"Fraction("+this.field+","+this.minWidth+","+this.maxWidth+e+")"},e}(),eS=[0,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9],eA=function(){function e(e,t,r,n,i){void 0===i&&(i=0),this._field=e,this._minWidth=t,this._maxWidth=r,this._signStyle=n,this._subsequentWidth=i}var t=e.prototype;return t.field=function(){return this._field},t.minWidth=function(){return this._minWidth},t.maxWidth=function(){return this._maxWidth},t.signStyle=function(){return this._signStyle},t.withFixedWidth=function(){return -1===this._subsequentWidth?this:new e(this._field,this._minWidth,this._maxWidth,this._signStyle,-1)},t.withSubsequentWidth=function(t){return new e(this._field,this._minWidth,this._maxWidth,this._signStyle,this._subsequentWidth+t)},t._isFixedWidth=function(){return -1===this._subsequentWidth||this._subsequentWidth>0&&this._minWidth===this._maxWidth&&this._signStyle===eE.NOT_NEGATIVE},t.print=function(e,t){var r=e.getValue(this._field);if(null==r)return!1;var n=this._getValue(e,r),i=e.symbols(),o=""+Math.abs(n);if(o.length>this._maxWidth)throw new c("Field "+this._field+" cannot be printed as the value "+n+" exceeds the maximum print width of "+this._maxWidth);if(o=i.convertNumberToI18N(o),n>=0)switch(this._signStyle){case eE.EXCEEDS_PAD:this._minWidth<15&&n>=eS[this._minWidth]&&t.append(i.positiveSign());break;case eE.ALWAYS:t.append(i.positiveSign())}else switch(this._signStyle){case eE.NORMAL:case eE.EXCEEDS_PAD:case eE.ALWAYS:t.append(i.negativeSign());break;case eE.NOT_NEGATIVE:throw new c("Field "+this._field+" cannot be printed as the value "+n+" cannot be negative according to the SignStyle")}for(var s=0;s<this._minWidth-o.length;s++)t.append(i.zeroDigit());return t.append(o),!0},t.parse=function(e,t,r){var n=t.length;if(r===n)return~r;E(r>=0&&r<n);var i=t.charAt(r),o=!1,s=!1;if(i===e.symbols().positiveSign()){if(!1===this._signStyle.parse(!0,e.isStrict(),this._minWidth===this._maxWidth))return~r;s=!0,r++}else if(i===e.symbols().negativeSign()){if(!1===this._signStyle.parse(!1,e.isStrict(),this._minWidth===this._maxWidth))return~r;o=!0,r++}else if(this._signStyle===eE.ALWAYS&&e.isStrict())return~r;var a=e.isStrict()||this._isFixedWidth()?this._minWidth:1,l=r+a;if(l>n)return~r;for(var c=(e.isStrict()||this._isFixedWidth()?this._maxWidth:9)+Math.max(this._subsequentWidth,0),u=0,h=r,f=0;f<2;f++){for(var p=Math.min(h+c,n);h<p;){var m=t.charAt(h++),g=e.symbols().convertToDigit(m);if(g<0){if(--h<l)return~r;break}if(h-r>15)throw new d("number text exceeds length");u=10*u+g}if(this._subsequentWidth>0&&0===f)c=Math.max(a,h-r-this._subsequentWidth),h=r,u=0;else break}if(o){if(0===u&&e.isStrict())return~(r-1);0!==u&&(u=-u)}else if(this._signStyle===eE.EXCEEDS_PAD&&e.isStrict()){var y=h-r;if(s){if(y<=this._minWidth)return~(r-1)}else if(y>this._minWidth)return~r}return this._setValue(e,u,r,h)},t._getValue=function(e,t){return t},t._setValue=function(e,t,r,n){return e.setParsedField(this._field,t,r,n)},t.toString=function(){return 1===this._minWidth&&15===this._maxWidth&&this._signStyle===eE.NORMAL?"Value("+this._field+")":this._minWidth===this._maxWidth&&this._signStyle===eE.NOT_NEGATIVE?"Value("+this._field+","+this._minWidth+")":"Value("+this._field+","+this._minWidth+","+this._maxWidth+","+this._signStyle+")"},e}(),eI=function(e){function t(t,r,n,i,o){var s;if(s=e.call(this,t,r,n,eE.NOT_NEGATIVE)||this,r<1||r>10)throw new f("The width must be from 1 to 10 inclusive but was "+r);if(n<1||n>10)throw new f("The maxWidth must be from 1 to 10 inclusive but was "+n);if(n<r)throw new f("The maxWidth must be greater than the width");if(null===o){if(!1===t.range().isValidValue(i))throw new f("The base value must be within the range of the field");if(i+eS[r]>S.MAX_SAFE_INTEGER)throw new c("Unable to add printer-parser as the range exceeds the capacity of an int")}return s._baseValue=i,s._baseDate=o,s}g(t,e);var r=t.prototype;return r._getValue=function(e,t){var r=Math.abs(t),n=this._baseValue;return(null!==this._baseDate&&(e.temporal(),n=eQ.INSTANCE.date(this._baseDate).get(this._field)),t>=n&&t<n+eS[this._minWidth])?r%eS[this._minWidth]:r%eS[this._maxWidth]},r._setValue=function(e,t,r,n){var i=this._baseValue;if(null!=this._baseDate&&(i=e.getEffectiveChronology().date(this._baseDate).get(this._field)),n-r===this._minWidth&&t>=0){var o=eS[this._minWidth],s=i%o,a=i-s;(t=i>0?a+t:a-t)<i&&(t+=o)}return e.setParsedField(this._field,t,r,n)},r.withFixedWidth=function(){return -1===this._subsequentWidth?this:new t(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate)},r.withSubsequentWidth=function(e){return new t(this._field,this._minWidth,this._maxWidth,this._baseValue,this._baseDate,this._subsequentWidth+e)},r.isFixedWidth=function(t){return!1!==t.isStrict()&&e.prototype.isFixedWidth.call(this,t)},r.toString=function(){return"ReducedValue("+this._field+","+this._minWidth+","+this._maxWidth+","+(null!=this._baseDate?this._baseDate:this._baseValue)+")"},t}(eA),eC=["+HH","+HHmm","+HH:mm","+HHMM","+HH:MM","+HHMMss","+HH:MM:ss","+HHMMSS","+HH:MM:SS"],eO=function(){function e(e,t){T(e,"noOffsetText"),T(t,"pattern"),this.noOffsetText=e,this.type=this._checkPattern(t)}var t=e.prototype;return t._checkPattern=function(e){for(var t=0;t<eC.length;t++)if(eC[t]===e)return t;throw new f("Invalid zone offset pattern: "+e)},t.print=function(e,t){var r=e.getValue(P.OFFSET_SECONDS);if(null==r)return!1;var n=S.safeToInt(r);if(0===n)t.append(this.noOffsetText);else{var i=Math.abs(S.intMod(S.intDiv(n,3600),100)),o=Math.abs(S.intMod(S.intDiv(n,60),60)),s=Math.abs(S.intMod(n,60)),a=t.length(),l=i;t.append(n<0?"-":"+").appendChar(S.intDiv(i,10)+"0").appendChar(S.intMod(i,10)+"0"),(this.type>=3||this.type>=1&&o>0)&&(t.append(this.type%2==0?":":"").appendChar(S.intDiv(o,10)+"0").appendChar(o%10+"0"),l+=o,(this.type>=7||this.type>=5&&s>0)&&(t.append(this.type%2==0?":":"").appendChar(S.intDiv(s,10)+"0").appendChar(s%10+"0"),l+=s)),0===l&&(t.setLength(a),t.append(this.noOffsetText))}return!0},t.parse=function(e,t,r){var n=t.length,i=this.noOffsetText.length;if(0===i){if(r===n)return e.setParsedField(P.OFFSET_SECONDS,0,r,r)}else{if(r===n)return~r;if(e.subSequenceEquals(t,r,this.noOffsetText,0,i))return e.setParsedField(P.OFFSET_SECONDS,0,r,r+i)}var o=t[r];if("+"===o||"-"===o){var s=[0,0,0,0];if(s[0]=r+1,!1===(this._parseNumber(s,1,t,!0)||this._parseNumber(s,2,t,this.type>=3)||this._parseNumber(s,3,t,!1))){var a=S.safeZero(("-"===o?-1:1)*(3600*s[1]+60*s[2]+s[3]));return e.setParsedField(P.OFFSET_SECONDS,a,r,s[0])}}return 0===i?e.setParsedField(P.OFFSET_SECONDS,0,r,r+i):~r},t._parseNumber=function(e,t,r,n){if((this.type+3)/2<t)return!1;var i=e[0];if(this.type%2==0&&t>1){if(i+1>r.length||":"!==r[i])return n;i++}if(i+2>r.length)return n;var o=r[i++],s=r[i++];if(o<"0"||o>"9"||s<"0"||s>"9")return n;var a=(o.charCodeAt(0)-48)*10+(s.charCodeAt(0)-48);return a<0||a>59?n:(e[t]=a,e[0]=i,!1)},t.toString=function(){var e=this.noOffsetText.replace("'","''");return"Offset("+eC[this.type]+",'"+e+"')"},e}();eO.INSTANCE_ID=new eO("Z","+HH:MM:ss"),eO.PATTERNS=eC;/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var eN=function(){function e(e,t,r){this._printerParser=e,this._padWidth=t,this._padChar=r}var t=e.prototype;return t.print=function(e,t){var r=t.length();if(!1===this._printerParser.print(e,t))return!1;var n=t.length()-r;if(n>this._padWidth)throw new c("Cannot print as output of "+n+" characters exceeds pad width of "+this._padWidth);for(var i=0;i<this._padWidth-n;i++)t.insert(r,this._padChar);return!0},t.parse=function(e,t,r){var n=e.isStrict(),i=e.isCaseSensitive();if(E(!(r>t.length)),E(r>=0),r===t.length)return~r;var o=r+this._padWidth;if(o>t.length){if(n)return~r;o=t.length}for(var s=r;s<o&&(i?t[s]===this._padChar:e.charEquals(t[s],this._padChar));)s++;t=t.substring(0,o);var a=this._printerParser.parse(e,t,s);return a!==o&&n?~(r+s):a},t.toString=function(){return"Pad("+this._printerParser+","+this._padWidth+(" "===this._padChar?")":",'"+this._padChar+"')")},e}(),eR=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.print=function(){return!0},r.parse=function(e,r,n){switch(this){case t.SENSITIVE:e.setCaseSensitive(!0);break;case t.INSENSITIVE:e.setCaseSensitive(!1);break;case t.STRICT:e.setStrict(!0);break;case t.LENIENT:e.setStrict(!1)}return n},r.toString=function(){switch(this){case t.SENSITIVE:return"ParseCaseSensitive(true)";case t.INSENSITIVE:return"ParseCaseSensitive(false)";case t.STRICT:return"ParseStrict(true)";case t.LENIENT:return"ParseStrict(false)"}},t}(A);eR.SENSITIVE=new eR("SENSITIVE"),eR.INSENSITIVE=new eR("INSENSITIVE"),eR.STRICT=new eR("STRICT"),eR.LENIENT=new eR("LENIENT");/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @copyright (c) 2007-present, Stephen Colebourne & Michael Nascimento Santos
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var eD=function(){function e(e){this._literal=e}var t=e.prototype;return t.print=function(e,t){return t.append(this._literal),!0},t.parse=function(e,t,r){return(E(!(r>t.length||r<0)),!1===e.subSequenceEquals(t,r,this._literal,0,this._literal.length))?~r:r+this._literal.length},t.toString=function(){return"'"+this._literal.replace("'","''")+"'"},e}(),ek=function(){function e(){}return e.getRules=function(e){throw new c("unsupported ZoneId:"+e)},e.getAvailableZoneIds=function(){return[]},e}(),eP=function(e){function t(t,r){var n;return(n=e.call(this)||this)._id=t,n._rules=r,n}g(t,e),t.ofId=function(e){var r=ek.getRules(e);return new t(e,r)};var r=t.prototype;return r.id=function(){return this._id},r.rules=function(){return this._rules},t}(G),eM=function(){function e(e,t){this.query=e,this.description=t}var t=e.prototype;return t.print=function(e,t){var r=e.getValueQuery(this.query);return null!=r&&(t.append(r.id()),!0)},t.parse=function(e,t,r){var n=t.length;if(r>n||r===n)return~r;var i=t.charAt(r);if("+"===i||"-"===i){var o=e.copy(),s=eO.INSTANCE_ID.parse(o,t,r);if(s<0)return s;var a=o.getParsed(P.OFFSET_SECONDS),l=J.ofTotalSeconds(a);return e.setParsedZone(l),s}if(n>=r+2){var c=t.charAt(r+1);if(e.charEquals(i,"U")&&e.charEquals(c,"T"))return n>=r+3&&e.charEquals(t.charAt(r+2),"C")?this._parsePrefixedOffset(e,t,r,r+3):this._parsePrefixedOffset(e,t,r,r+2);if(e.charEquals(i,"G")&&n>=r+3&&e.charEquals(c,"M")&&e.charEquals(t.charAt(r+2),"T"))return this._parsePrefixedOffset(e,t,r,r+3)}if("SYSTEM"===t.substr(r,6))return e.setParsedZone(G.systemDefault()),r+6;if(e.charEquals(i,"Z"))return e.setParsedZone(J.UTC),r+1;var u=ek.getAvailableZoneIds();eU.size!==u.length&&(eU=eL.createTreeMap(u));for(var h=n-r,d=eU.treeMap,f=null,p=0;null!=d;){var m=t.substr(r,Math.min(d.length,h));null!=(d=d.get(m))&&d.isLeaf&&(f=m,p=d.length)}return null!=f?(e.setParsedZone(eP.ofId(f)),r+p):~r},t._parsePrefixedOffset=function(e,t,r,n){var i=t.substring(r,n).toUpperCase(),o=e.copy();if(n<t.length&&e.charEquals(t.charAt(n),"Z"))return e.setParsedZone(G.ofOffset(i,J.UTC)),n;var s=eO.INSTANCE_ID.parse(o,t,n);if(s<0)return e.setParsedZone(G.ofOffset(i,J.UTC)),n;var a=o.getParsed(P.OFFSET_SECONDS),l=J.ofTotalSeconds(a);return e.setParsedZone(G.ofOffset(i,l)),s},t.toString=function(){return this.description},e}(),eL=function(){function e(e,t){this.size=e,this.treeMap=t}return e.createTreeMap=function(t){for(var r=t.sort(function(e,t){return e.length-t.length}),n=new ex(r[0].length,!1),i=0;i<r.length;i++)n.add(r[i]);return new e(r.length,n)},e}(),ex=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=!1),this.length=e,this.isLeaf=t,this._treeMap={}}var t=e.prototype;return t.add=function(t){var r=t.length;if(r===this.length)this._treeMap[t]=new e(r,!0);else if(r>this.length){var n=t.substr(0,this.length),i=this._treeMap[n];null==i&&(i=new e(r,!1),this._treeMap[n]=i),i.add(t)}},t.get=function(e){return this._treeMap[e]},e}(),eU=new eL([]),eF=function(){function e(){this._active=this,this._parent=null,this._printerParsers=[],this._optional=!1,this._padNextWidth=0,this._padNextChar=null,this._valueParserIndex=-1}e._of=function(t,r){T(t,"parent"),T(r,"optional");var n=new e;return n._parent=t,n._optional=r,n};var t=e.prototype;return t.parseCaseSensitive=function(){return this._appendInternalPrinterParser(eR.SENSITIVE),this},t.parseCaseInsensitive=function(){return this._appendInternalPrinterParser(eR.INSENSITIVE),this},t.parseStrict=function(){return this._appendInternalPrinterParser(eR.STRICT),this},t.parseLenient=function(){return this._appendInternalPrinterParser(eR.LENIENT),this},t.parseDefaulting=function(e,t){return T(e),this._appendInternal(new eq(e,t)),this},t.appendValue=function(){return 1==arguments.length?this._appendValue1.apply(this,arguments):2==arguments.length?this._appendValue2.apply(this,arguments):this._appendValue4.apply(this,arguments)},t._appendValue1=function(e){return T(e),this._appendValuePrinterParser(new eA(e,1,15,eE.NORMAL)),this},t._appendValue2=function(e,t){if(T(e),t<1||t>15)throw new f("The width must be from 1 to 15 inclusive but was "+t);var r=new eA(e,t,t,eE.NOT_NEGATIVE);return this._appendValuePrinterParser(r),this},t._appendValue4=function(e,t,r,n){if(T(e),T(n),t===r&&n===eE.NOT_NEGATIVE)return this._appendValue2(e,r);if(t<1||t>15)throw new f("The minimum width must be from 1 to 15 inclusive but was "+t);if(r<1||r>15)throw new f("The minimum width must be from 1 to 15 inclusive but was "+r);if(r<t)throw new f("The maximum width must exceed or equal the minimum width but "+r+" < "+t);var i=new eA(e,t,r,n);return this._appendValuePrinterParser(i),this},t.appendValueReduced=function(){return 4==arguments.length&&arguments[3]instanceof z?this._appendValueReducedFieldWidthMaxWidthBaseDate.apply(this,arguments):this._appendValueReducedFieldWidthMaxWidthBaseValue.apply(this,arguments)},t._appendValueReducedFieldWidthMaxWidthBaseValue=function(e,t,r,n){T(e,"field");var i=new eI(e,t,r,n,null);return this._appendValuePrinterParser(i),this},t._appendValueReducedFieldWidthMaxWidthBaseDate=function(e,t,r,n){T(e,"field"),T(n,"baseDate"),b(n,z,"baseDate");var i=new eI(e,t,r,0,n);return this._appendValuePrinterParser(i),this},t._appendValuePrinterParser=function(e){if(E(null!=e),this._active._valueParserIndex>=0&&this._active._printerParsers[this._active._valueParserIndex]instanceof eA){var t=this._active._valueParserIndex,r=this._active._printerParsers[t];e.minWidth()===e.maxWidth()&&e.signStyle()===eE.NOT_NEGATIVE?(r=r.withSubsequentWidth(e.maxWidth()),this._appendInternal(e.withFixedWidth()),this._active._valueParserIndex=t):(r=r.withFixedWidth(),this._active._valueParserIndex=this._appendInternal(e)),this._active._printerParsers[t]=r}else this._active._valueParserIndex=this._appendInternal(e);return this},t.appendFraction=function(e,t,r,n){return this._appendInternal(new ev(e,t,r,n)),this},t.appendInstant=function(e){if(void 0===e&&(e=-2),e<-2||e>9)throw new f("Invalid fractional digits: "+e);return this._appendInternal(new eB(e)),this},t.appendOffsetId=function(){return this._appendInternal(eO.INSTANCE_ID),this},t.appendOffset=function(e,t){return this._appendInternalPrinterParser(new eO(t,e)),this},t.appendZoneId=function(){return this._appendInternal(new eM(M.zoneId(),"ZoneId()")),this},t.appendPattern=function(e){return T(e,"pattern"),this._parsePattern(e),this},t.appendZoneText=function(){throw new f("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},t.appendText=function(){throw new f("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},t.appendLocalizedOffset=function(){throw new f("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},t.appendWeekField=function(){throw new f("Pattern using (localized) text not implemented, use @js-joda/locale plugin!")},t._parsePattern=function(e){for(var t={G:P.ERA,y:P.YEAR_OF_ERA,u:P.YEAR,Q:ei.QUARTER_OF_YEAR,q:ei.QUARTER_OF_YEAR,M:P.MONTH_OF_YEAR,L:P.MONTH_OF_YEAR,D:P.DAY_OF_YEAR,d:P.DAY_OF_MONTH,F:P.ALIGNED_DAY_OF_WEEK_IN_MONTH,E:P.DAY_OF_WEEK,c:P.DAY_OF_WEEK,e:P.DAY_OF_WEEK,a:P.AMPM_OF_DAY,H:P.HOUR_OF_DAY,k:P.CLOCK_HOUR_OF_DAY,K:P.HOUR_OF_AMPM,h:P.CLOCK_HOUR_OF_AMPM,m:P.MINUTE_OF_HOUR,s:P.SECOND_OF_MINUTE,S:P.NANO_OF_SECOND,A:P.MILLI_OF_DAY,n:P.NANO_OF_SECOND,N:P.NANO_OF_DAY},r=0;r<e.length;r++){var n=e.charAt(r);if(n>="A"&&n<="Z"||n>="a"&&n<="z"){for(var i=r++;r<e.length&&e.charAt(r)===n;r++);var o=r-i;if("p"===n){var s=0;if(r<e.length&&((n=e.charAt(r))>="A"&&n<="Z"||n>="a"&&n<="z")){for(s=o,i=r++;r<e.length&&e.charAt(r)===n;r++);o=r-i}if(0===s)throw new f("Pad letter 'p' must be followed by valid pad pattern: "+e);this.padNext(s)}var a=t[n];if(null!=a)this._parseField(n,o,a);else if("z"===n){if(o>4)throw new f("Too many pattern letters: "+n);4===o?this.appendZoneText(eT.FULL):this.appendZoneText(eT.SHORT)}else if("V"===n){if(2!==o)throw new f("Pattern letter count must be 2: "+n);this.appendZoneId()}else if("Z"===n){if(o<4)this.appendOffset("+HHMM","+0000");else if(4===o)this.appendLocalizedOffset(eT.FULL);else if(5===o)this.appendOffset("+HH:MM:ss","Z");else throw new f("Too many pattern letters: "+n)}else if("O"===n){if(1===o)this.appendLocalizedOffset(eT.SHORT);else if(4===o)this.appendLocalizedOffset(eT.FULL);else throw new f("Pattern letter count must be 1 or 4: "+n)}else if("X"===n){if(o>5)throw new f("Too many pattern letters: "+n);this.appendOffset(eO.PATTERNS[o+(1===o?0:1)],"Z")}else if("x"===n){if(o>5)throw new f("Too many pattern letters: "+n);var l=1===o?"+00":o%2==0?"+0000":"+00:00";this.appendOffset(eO.PATTERNS[o+(1===o?0:1)],l)}else if("W"===n){if(o>1)throw new f("Too many pattern letters: "+n);this.appendWeekField("W",o)}else if("w"===n){if(o>2)throw new f("Too many pattern letters: "+n);this.appendWeekField("w",o)}else if("Y"===n)this.appendWeekField("Y",o);else throw new f("Unknown pattern letter: "+n);r--}else if("'"===n){for(var c=r++;r<e.length;r++)if("'"===e.charAt(r)){if(r+1<e.length&&"'"===e.charAt(r+1))r++;else break}if(r>=e.length)throw new f("Pattern ends with an incomplete string literal: "+e);var u=e.substring(c+1,r);0===u.length?this.appendLiteral("'"):this.appendLiteral(u.replace("''","'"))}else if("["===n)this.optionalStart();else if("]"===n){if(null===this._active._parent)throw new f("Pattern invalid as it contains ] without previous [");this.optionalEnd()}else if("{"===n||"}"===n||"#"===n)throw new f("Pattern includes reserved character: '"+n+"'");else this.appendLiteral(n)}},t._parseField=function(e,t,r){switch(e){case"u":case"y":2===t?this.appendValueReduced(r,2,2,eI.BASE_DATE):t<4?this.appendValue(r,t,15,eE.NORMAL):this.appendValue(r,t,15,eE.EXCEEDS_PAD);break;case"M":case"Q":switch(t){case 1:this.appendValue(r);break;case 2:this.appendValue(r,2);break;case 3:this.appendText(r,eT.SHORT);break;case 4:this.appendText(r,eT.FULL);break;case 5:this.appendText(r,eT.NARROW);break;default:throw new f("Too many pattern letters: "+e)}break;case"L":case"q":switch(t){case 1:this.appendValue(r);break;case 2:this.appendValue(r,2);break;case 3:this.appendText(r,eT.SHORT_STANDALONE);break;case 4:this.appendText(r,eT.FULL_STANDALONE);break;case 5:this.appendText(r,eT.NARROW_STANDALONE);break;default:throw new f("Too many pattern letters: "+e)}break;case"e":switch(t){case 1:case 2:this.appendWeekField("e",t);break;case 3:this.appendText(r,eT.SHORT);break;case 4:this.appendText(r,eT.FULL);break;case 5:this.appendText(r,eT.NARROW);break;default:throw new f("Too many pattern letters: "+e)}break;case"c":switch(t){case 1:this.appendWeekField("c",t);break;case 2:throw new f("Invalid number of pattern letters: "+e);case 3:this.appendText(r,eT.SHORT_STANDALONE);break;case 4:this.appendText(r,eT.FULL_STANDALONE);break;case 5:this.appendText(r,eT.NARROW_STANDALONE);break;default:throw new f("Too many pattern letters: "+e)}break;case"a":if(1===t)this.appendText(r,eT.SHORT);else throw new f("Too many pattern letters: "+e);break;case"E":case"G":switch(t){case 1:case 2:case 3:this.appendText(r,eT.SHORT);break;case 4:this.appendText(r,eT.FULL);break;case 5:this.appendText(r,eT.NARROW);break;default:throw new f("Too many pattern letters: "+e)}break;case"S":this.appendFraction(P.NANO_OF_SECOND,t,t,!1);break;case"F":if(1===t)this.appendValue(r);else throw new f("Too many pattern letters: "+e);break;case"d":case"h":case"H":case"k":case"K":case"m":case"s":if(1===t)this.appendValue(r);else if(2===t)this.appendValue(r,t);else throw new f("Too many pattern letters: "+e);break;case"D":if(1===t)this.appendValue(r);else if(t<=3)this.appendValue(r,t);else throw new f("Too many pattern letters: "+e);break;default:1===t?this.appendValue(r):this.appendValue(r,t)}},t.padNext=function(){return 1==arguments.length?this._padNext1.apply(this,arguments):this._padNext2.apply(this,arguments)},t._padNext1=function(e){return this._padNext2(e," ")},t._padNext2=function(e,t){if(e<1)throw new f("The pad width must be at least one but was "+e);return this._active._padNextWidth=e,this._active._padNextChar=t,this._active._valueParserIndex=-1,this},t.optionalStart=function(){return this._active._valueParserIndex=-1,this._active=e._of(this._active,!0),this},t.optionalEnd=function(){if(null==this._active._parent)throw new p("Cannot call optionalEnd() as there was no previous call to optionalStart()");if(this._active._printerParsers.length>0){var e=new ew(this._active._printerParsers,this._active._optional);this._active=this._active._parent,this._appendInternal(e)}else this._active=this._active._parent;return this},t._appendInternal=function(e){return E(null!=e),this._active._padNextWidth>0&&(null!=e&&(e=new eN(e,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(e),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},t.appendLiteral=function(e){return E(null!=e),e.length>0&&(1===e.length?this._appendInternalPrinterParser(new eb(e.charAt(0))):this._appendInternalPrinterParser(new eD(e))),this},t._appendInternalPrinterParser=function(e){return E(null!=e),this._active._padNextWidth>0&&(null!=e&&(e=new eN(e,this._active._padNextWidth,this._active._padNextChar)),this._active._padNextWidth=0,this._active._padNextChar=0),this._active._printerParsers.push(e),this._active._valueParserIndex=-1,this._active._printerParsers.length-1},t.append=function(e){return T(e,"formatter"),this._appendInternal(e._toPrinterParser(!1)),this},t.toFormatter=function(e){for(void 0===e&&(e=V.SMART);null!=this._active._parent;)this.optionalEnd();return new eY(new ew(this._printerParsers,!1),null,e_.STANDARD,e,null,null,null)},e}(),eB=function(){function e(e){this.fractionalDigits=e}var t=e.prototype;return t.print=function(e,t){var r=e.getValue(P.INSTANT_SECONDS),n=0;if(e.temporal().isSupported(P.NANO_OF_SECOND)&&(n=e.temporal().getLong(P.NANO_OF_SECOND)),null==r)return!1;var i=P.NANO_OF_SECOND.checkValidIntValue(n);if(r>=-62167219200){var o=r-31556952e4+62167219200,s=S.floorDiv(o,31556952e4)+1,a=S.floorMod(o,31556952e4),l=e4.ofEpochSecond(a-62167219200,0,J.UTC);s>0&&t.append("+").append(s),t.append(l.toString()),0===l.second()&&t.append(":00")}else{var c=r+62167219200,u=S.intDiv(c,31556952e4),h=S.intMod(c,31556952e4),d=e4.ofEpochSecond(h-62167219200,0,J.UTC),f=t.length();t.append(d.toString()),0===d.second()&&t.append(":00"),u<0&&(-1e4===d.year()?t.replace(f,f+2,""+(u-1)):0===h?t.insert(f,u):t.insert(f+1,Math.abs(u)))}if(-2===this.fractionalDigits)0!==i&&(t.append("."),0===S.intMod(i,1e6)?t.append((""+(S.intDiv(i,1e6)+1e3)).substring(1)):0===S.intMod(i,1e3)?t.append((""+(S.intDiv(i,1e3)+1e6)).substring(1)):t.append((""+(i+1e9)).substring(1)));else if(this.fractionalDigits>0||-1===this.fractionalDigits&&i>0){t.append(".");for(var p=1e8,m=0;-1===this.fractionalDigits&&i>0||m<this.fractionalDigits;m++){var g=S.intDiv(i,p);t.append(g),i-=g*p,p=S.intDiv(p,10)}}return t.append("Z"),!0},t.parse=function(e,t,r){var n,i=e.copy(),o=this.fractionalDigits<0?0:this.fractionalDigits,s=this.fractionalDigits<0?9:this.fractionalDigits,a=new eF().append(eY.ISO_LOCAL_DATE).appendLiteral("T").appendValue(P.HOUR_OF_DAY,2).appendLiteral(":").appendValue(P.MINUTE_OF_HOUR,2).appendLiteral(":").appendValue(P.SECOND_OF_MINUTE,2).appendFraction(P.NANO_OF_SECOND,o,s,!0).appendLiteral("Z").toFormatter()._toPrinterParser(!1).parse(i,t,r);if(a<0)return a;var l=i.getParsed(P.YEAR),c=i.getParsed(P.MONTH_OF_YEAR),u=i.getParsed(P.DAY_OF_MONTH),h=i.getParsed(P.HOUR_OF_DAY),d=i.getParsed(P.MINUTE_OF_HOUR),f=i.getParsed(P.SECOND_OF_MINUTE),p=i.getParsed(P.NANO_OF_SECOND),m=null!=f?f:0,g=null!=p?p:0,y=S.intMod(l,1e4),_=0;24===h&&0===d&&0===m&&0===g?(h=0,_=1):23===h&&59===d&&60===m&&(e.setParsedLeapSecond(),m=59);try{n=e4.of(y,c,u,h,d,m,0).plusDays(_).toEpochSecond(J.UTC)+S.safeMultiply(S.intDiv(l,1e4),31556952e4)}catch(e){return~r}var E=a;return E=e.setParsedField(P.INSTANT_SECONDS,n,r,E),e.setParsedField(P.NANO_OF_SECOND,g,r,E)},t.toString=function(){return"Instant()"},e}(),eq=function(){function e(e,t){this._field=e,this._value=t}var t=e.prototype;return t.print=function(){return!0},t.parse=function(e,t,r){return null==e.getParsed(this._field)&&e.setParsedField(this._field,this._value,r,r),r},e}(),ej=function(){function e(){this._str=""}var t=e.prototype;return t.append=function(e){return this._str+=e,this},t.appendChar=function(e){return this._str+=e[0],this},t.insert=function(e,t){return this._str=this._str.slice(0,e)+t+this._str.slice(e),this},t.replace=function(e,t,r){return this._str=this._str.slice(0,e)+r+this._str.slice(t),this},t.length=function(){return this._str.length},t.setLength=function(e){return this._str=this._str.slice(0,e),this},t.toString=function(){return this._str},e}(),eY=function(){function e(e,t,r,n,i,o,s){void 0===o&&(o=eQ.INSTANCE),E(null!=e),E(null!=r),E(null!=n),this._printerParser=e,this._locale=t,this._decimalStyle=r,this._resolverStyle=n,this._resolverFields=i,this._chrono=o,this._zone=s}e.parsedExcessDays=function(){return e.PARSED_EXCESS_DAYS},e.parsedLeapSecond=function(){return e.PARSED_LEAP_SECOND},e.ofPattern=function(e){return new eF().appendPattern(e).toFormatter()};var t=e.prototype;return t.locale=function(){return this._locale},t.decimalStyle=function(){return this._decimalStyle},t.chronology=function(){return this._chrono},t.withChronology=function(t){return null!=this._chrono&&this._chrono.equals(t)?this:new e(this._printerParser,this._locale,this._decimalStyle,this._resolverStyle,this._resolverFields,t,this._zone)},t.withLocale=function(){return this},t.withResolverStyle=function(t){return(T(t,"resolverStyle"),t.equals(this._resolverStyle))?this:new e(this._printerParser,this._locale,this._decimalStyle,t,this._resolverFields,this._chrono,this._zone)},t.format=function(e){var t=new ej(32);return this._formatTo(e,t),t.toString()},t._formatTo=function(e,t){T(e,"temporal"),T(t,"appendable");var r=new en(e,this);this._printerParser.print(r,t)},t.parse=function(e,t){return 1==arguments.length?this.parse1(e):this.parse2(e,t)},t.parse1=function(e){T(e,"text");try{return this._parseToBuilder(e,null).resolve(this._resolverStyle,this._resolverFields)}catch(t){if(t instanceof u)throw t;throw this._createError(e,t)}},t.parse2=function(e,t){T(e,"text"),T(t,"type");try{return this._parseToBuilder(e,null).resolve(this._resolverStyle,this._resolverFields).build(t)}catch(t){if(t instanceof u)throw t;throw this._createError(e,t)}},t._createError=function(e,t){return new u("Text '"+(e.length>64?e.substring(0,64)+"...":e)+"' could not be parsed: "+t.message,e,0,t)},t._parseToBuilder=function(e,t){var r=null!=t?t:new Y(0),n=this._parseUnresolved0(e,r);if(null==n||r.getErrorIndex()>=0||null==t&&r.getIndex()<e.length){var i="";if(i=e.length>64?e.substr(0,64).toString()+"...":e,r.getErrorIndex()>=0)throw new u("Text '"+i+"' could not be parsed at index "+r.getErrorIndex(),e,r.getErrorIndex());throw new u("Text '"+i+"' could not be parsed, unparsed text found at index "+r.getIndex(),e,r.getIndex())}return n.toBuilder()},t.parseUnresolved=function(e,t){return this._parseUnresolved0(e,t)},t._parseUnresolved0=function(e,t){E(null!=e,"text",m),E(null!=t,"position",m);var r=new et(this),n=t.getIndex();return(n=this._printerParser.parse(r,e,n))<0?(t.setErrorIndex(~n),null):(t.setIndex(n),r.toParsed())},t._toPrinterParser=function(e){return this._printerParser.withOptional(e)},t.toString=function(){var e=this._printerParser.toString();return 0===e.indexOf("[")?e:e.substring(1,e.length-1)},e}(),eH=function(e){function t(t,r){var n;return(n=e.call(this)||this)._month=S.safeToInt(t),n._day=S.safeToInt(r),n}g(t,e),t.now=function(e){return 0==arguments.length?t.now0():1==arguments.length&&e instanceof G?t.nowZoneId(e):t.nowClock(e)},t.now0=function(){return this.nowClock(e3.systemDefaultZone())},t.nowZoneId=function(e){return T(e,"zone"),this.nowClock(e3.system(e))},t.nowClock=function(e){T(e,"clock");var r=e2.now(e);return t.of(r.month(),r.dayOfMonth())},t.of=function(e,r){return 2==arguments.length&&e instanceof B?t.ofMonthNumber(e,r):t.ofNumberNumber(e,r)},t.ofMonthNumber=function(e,r){if(T(e,"month"),P.DAY_OF_MONTH.checkValidValue(r),r>e.maxLength())throw new c("Illegal value for DayOfMonth field, value "+r+" is not valid for month "+e.toString());return new t(e.value(),r)},t.ofNumberNumber=function(e,r){return T(e,"month"),T(r,"dayOfMonth"),t.of(B.of(e),r)},t.from=function(e){if(T(e,"temporal"),b(e,L,"temporal"),e instanceof t)return e;try{return t.of(e.get(P.MONTH_OF_YEAR),e.get(P.DAY_OF_MONTH))}catch(t){throw new c("Unable to obtain MonthDay from TemporalAccessor: "+e+", type "+(e&&null!=e.constructor?e.constructor.name:""))}},t.parse=function(e,r){return 1==arguments.length?t.parseString(e):t.parseStringFormatter(e,r)},t.parseString=function(e){return t.parseStringFormatter(e,s)},t.parseStringFormatter=function(e,r){return T(e,"text"),T(r,"formatter"),b(r,eY,"formatter"),r.parse(e,t.FROM)};var r=t.prototype;return r.monthValue=function(){return this._month},r.month=function(){return B.of(this._month)},r.dayOfMonth=function(){return this._day},r.isSupported=function(e){return e instanceof P?e===P.MONTH_OF_YEAR||e===P.DAY_OF_MONTH:null!=e&&e.isSupportedBy(this)},r.range=function(t){return t===P.MONTH_OF_YEAR?t.range():t===P.DAY_OF_MONTH?k.of(1,this.month().minLength(),this.month().maxLength()):e.prototype.range.call(this,t)},r.get=function(e){return this.range(e).checkValidIntValue(this.getLong(e),e)},r.getLong=function(e){if(T(e,"field"),e instanceof P){switch(e){case P.DAY_OF_MONTH:return this._day;case P.MONTH_OF_YEAR:return this._month}throw new h("Unsupported field: "+e)}return e.getFrom(this)},r.isValidYear=function(e){return!1==(29===this._day&&2===this._month&&!1===e$.isLeap(e))},r.withMonth=function(e){return this.with(B.of(e))},r.with=function(e){if(T(e,"month"),e.value()===this._month)return this;var r=Math.min(this._day,e.maxLength());return new t(e.value(),r)},r.withDayOfMonth=function(e){return e===this._day?this:t.of(this._month,e)},r.query=function(t){return(T(t,"query"),b(t,x,"query"),t===M.chronology())?eQ.INSTANCE:e.prototype.query.call(this,t)},r.adjustInto=function(e){return T(e,"temporal"),(e=e.with(P.MONTH_OF_YEAR,this._month)).with(P.DAY_OF_MONTH,Math.min(e.range(P.DAY_OF_MONTH).maximum(),this._day))},r.atYear=function(e){return e2.of(e,this._month,this.isValidYear(e)?this._day:28)},r.compareTo=function(e){T(e,"other"),b(e,t,"other");var r=this._month-e.monthValue();return 0===r&&(r=this._day-e.dayOfMonth()),r},r.isAfter=function(e){return T(e,"other"),b(e,t,"other"),this.compareTo(e)>0},r.isBefore=function(e){return T(e,"other"),b(e,t,"other"),0>this.compareTo(e)},r.equals=function(e){return this===e||e instanceof t&&this.monthValue()===e.monthValue()&&this.dayOfMonth()===e.dayOfMonth()},r.toString=function(){return"--"+(this._month<10?"0":"")+this._month+(this._day<10?"-0":"-")+this._day},r.toJSON=function(){return this.toString()},r.format=function(e){return T(e,"formatter"),b(e,eY,"formatter"),e.format(this)},t}(L),eV=function(e){function t(t,r){var n;return(n=e.call(this)||this)._year=S.safeToInt(t),n._month=S.safeToInt(r),n}g(t,e),t.now=function(e){return 0==arguments.length?t.now0():1==arguments.length&&e instanceof G?t.nowZoneId(e):t.nowClock(e)},t.now0=function(){return t.nowClock(e3.systemDefaultZone())},t.nowZoneId=function(e){return t.nowClock(e3.system(e))},t.nowClock=function(e){var r=e2.now(e);return t.of(r.year(),r.month())},t.of=function(e,r){return 2==arguments.length&&r instanceof B?t.ofNumberMonth(e,r):t.ofNumberNumber(e,r)},t.ofNumberMonth=function(e,r){return T(r,"month"),b(r,B,"month"),t.ofNumberNumber(e,r.value())},t.ofNumberNumber=function(e,r){return T(e,"year"),T(r,"month"),P.YEAR.checkValidValue(e),P.MONTH_OF_YEAR.checkValidValue(r),new t(e,r)},t.from=function(e){if(T(e,"temporal"),e instanceof t)return e;try{return t.of(e.get(P.YEAR),e.get(P.MONTH_OF_YEAR))}catch(t){throw new c("Unable to obtain YearMonth from TemporalAccessor: "+e+", type "+(e&&null!=e.constructor?e.constructor.name:""))}},t.parse=function(e,r){return 1==arguments.length?t.parseString(e):t.parseStringFormatter(e,r)},t.parseString=function(e){return t.parseStringFormatter(e,a)},t.parseStringFormatter=function(e,r){return T(r,"formatter"),r.parse(e,t.FROM)};var r=t.prototype;return r.isSupported=function(e){return 1==arguments.length&&e instanceof D?this.isSupportedField(e):this.isSupportedUnit(e)},r.isSupportedField=function(e){return e instanceof P?e===P.YEAR||e===P.MONTH_OF_YEAR||e===P.PROLEPTIC_MONTH||e===P.YEAR_OF_ERA||e===P.ERA:null!=e&&e.isSupportedBy(this)},r.isSupportedUnit=function(e){return e instanceof R?e===R.MONTHS||e===R.YEARS||e===R.DECADES||e===R.CENTURIES||e===R.MILLENNIA||e===R.ERAS:null!=e&&e.isSupportedBy(this)},r.range=function(t){return t===P.YEAR_OF_ERA?0>=this.year()?k.of(1,e$.MAX_VALUE+1):k.of(1,e$.MAX_VALUE):e.prototype.range.call(this,t)},r.get=function(e){return T(e,"field"),b(e,D,"field"),this.range(e).checkValidIntValue(this.getLong(e),e)},r.getLong=function(e){if(T(e,"field"),b(e,D,"field"),e instanceof P){switch(e){case P.MONTH_OF_YEAR:return this._month;case P.PROLEPTIC_MONTH:return this._getProlepticMonth();case P.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case P.YEAR:return this._year;case P.ERA:return this._year<1?0:1}throw new h("Unsupported field: "+e)}return e.getFrom(this)},r._getProlepticMonth=function(){return S.safeAdd(S.safeMultiply(this._year,12),this._month-1)},r.year=function(){return this._year},r.monthValue=function(){return this._month},r.month=function(){return B.of(this._month)},r.isLeapYear=function(){return eQ.isLeapYear(this._year)},r.isValidDay=function(e){return e>=1&&e<=this.lengthOfMonth()},r.lengthOfMonth=function(){return this.month().length(this.isLeapYear())},r.lengthOfYear=function(){return this.isLeapYear()?366:365},r.with=function(e,t){return 1==arguments.length?this._withAdjuster(e):this._withField(e,t)},r._withField=function(e,t){if(T(e,"field"),b(e,D,"field"),e instanceof P){switch(e.checkValidValue(t),e){case P.MONTH_OF_YEAR:return this.withMonth(t);case P.PROLEPTIC_MONTH:return this.plusMonths(t-this.getLong(P.PROLEPTIC_MONTH));case P.YEAR_OF_ERA:return this.withYear(this._year<1?1-t:t);case P.YEAR:return this.withYear(t);case P.ERA:return this.getLong(P.ERA)===t?this:this.withYear(1-this._year)}throw new h("Unsupported field: "+e)}return e.adjustInto(this,t)},r.withYear=function(e){return P.YEAR.checkValidValue(e),new t(e,this._month)},r.withMonth=function(e){return P.MONTH_OF_YEAR.checkValidValue(e),new t(this._year,e)},r._plusUnit=function(e,t){if(T(t,"unit"),b(t,C,"unit"),t instanceof R){switch(t){case R.MONTHS:return this.plusMonths(e);case R.YEARS:return this.plusYears(e);case R.DECADES:return this.plusYears(S.safeMultiply(e,10));case R.CENTURIES:return this.plusYears(S.safeMultiply(e,100));case R.MILLENNIA:return this.plusYears(S.safeMultiply(e,1e3));case R.ERAS:return this.with(P.ERA,S.safeAdd(this.getLong(P.ERA),e))}throw new h("Unsupported unit: "+t)}return t.addTo(this,e)},r.plusYears=function(e){if(0===e)return this;var t=P.YEAR.checkValidIntValue(this._year+e);return this.withYear(t)},r.plusMonths=function(e){if(0===e)return this;var r=12*this._year+(this._month-1)+e;return new t(P.YEAR.checkValidIntValue(S.floorDiv(r,12)),S.floorMod(r,12)+1)},r.minusYears=function(e){return e===S.MIN_SAFE_INTEGER?this.plusYears(S.MIN_SAFE_INTEGER).plusYears(1):this.plusYears(-e)},r.minusMonths=function(e){return e===S.MIN_SAFE_INTEGER?this.plusMonths(Math.MAX_SAFE_INTEGER).plusMonths(1):this.plusMonths(-e)},r.query=function(t){return(T(t,"query"),b(t,x,"query"),t===M.chronology())?eQ.INSTANCE:t===M.precision()?R.MONTHS:t===M.localDate()||t===M.localTime()||t===M.zone()||t===M.zoneId()||t===M.offset()?null:e.prototype.query.call(this,t)},r.adjustInto=function(e){return T(e,"temporal"),b(e,$,"temporal"),e.with(P.PROLEPTIC_MONTH,this._getProlepticMonth())},r.until=function(e,r){T(e,"endExclusive"),T(r,"unit"),b(e,$,"endExclusive"),b(r,C,"unit");var n=t.from(e);if(r instanceof R){var i=n._getProlepticMonth()-this._getProlepticMonth();switch(r){case R.MONTHS:return i;case R.YEARS:return S.intDiv(i,12);case R.DECADES:return S.intDiv(i,120);case R.CENTURIES:return S.intDiv(i,1200);case R.MILLENNIA:return S.intDiv(i,12e3);case R.ERAS:return n.getLong(P.ERA)-this.getLong(P.ERA)}throw new h("Unsupported unit: "+r)}return r.between(this,n)},r.atDay=function(e){return T(e,"dayOfMonth"),e2.of(this._year,this._month,e)},r.atEndOfMonth=function(){return e2.of(this._year,this._month,this.lengthOfMonth())},r.compareTo=function(e){T(e,"other"),b(e,t,"other");var r=this._year-e.year();return 0===r&&(r=this._month-e.monthValue()),r},r.isAfter=function(e){return this.compareTo(e)>0},r.isBefore=function(e){return 0>this.compareTo(e)},r.equals=function(e){return this===e||e instanceof t&&this.year()===e.year()&&this.monthValue()===e.monthValue()},r.toString=function(){return a.format(this)},r.toJSON=function(){return this.toString()},r.format=function(e){return T(e,"formatter"),e.format(this)},t}($),e$=function(e){function t(t){var r;return(r=e.call(this)||this)._year=S.safeToInt(t),r}g(t,e);var r=t.prototype;return r.value=function(){return this._year},t.now=function(e){return(void 0===e&&(e=void 0),void 0===e)?t.now0():e instanceof G?t.nowZoneId(e):t.nowClock(e)},t.now0=function(){return t.nowClock(e3.systemDefaultZone())},t.nowZoneId=function(e){return T(e,"zone"),b(e,G,"zone"),t.nowClock(e3.system(e))},t.nowClock=function(e){T(e,"clock"),b(e,e3,"clock");var r=e2.now(e);return t.of(r.year())},t.of=function(e){return T(e,"isoYear"),P.YEAR.checkValidValue(e),new t(e)},t.from=function(e){if(T(e,"temporal"),b(e,L,"temporal"),e instanceof t)return e;try{return t.of(e.get(P.YEAR))}catch(t){throw new c("Unable to obtain Year from TemporalAccessor: "+e+", type "+(e&&null!=e.constructor?e.constructor.name:""))}},t.parse=function(e,r){return arguments.length<=1?t.parseText(e):t.parseTextFormatter(e,r)},t.parseText=function(e){return T(e,"text"),t.parse(e,l)},t.parseTextFormatter=function(e,r){return void 0===r&&(r=l),T(e,"text"),T(r,"formatter"),b(r,eY,"formatter"),r.parse(e,t.FROM)},t.isLeap=function(e){return 0===S.intMod(e,4)&&(0!==S.intMod(e,100)||0===S.intMod(e,400))},r.isSupported=function(e){return 1==arguments.length&&e instanceof D?this.isSupportedField(e):this.isSupportedUnit(e)},r.isSupportedField=function(e){return e instanceof P?e===P.YEAR||e===P.YEAR_OF_ERA||e===P.ERA:null!=e&&e.isSupportedBy(this)},r.isSupportedUnit=function(e){return e instanceof R?e===R.YEARS||e===R.DECADES||e===R.CENTURIES||e===R.MILLENNIA||e===R.ERAS:null!=e&&e.isSupportedBy(this)},r.range=function(t){if(this.isSupported(t))return t.range();if(t instanceof P)throw new h("Unsupported field: "+t);return e.prototype.range.call(this,t)},r.get=function(e){return this.range(e).checkValidIntValue(this.getLong(e),e)},r.getLong=function(e){if(T(e,"field"),e instanceof P){switch(e){case P.YEAR_OF_ERA:return this._year<1?1-this._year:this._year;case P.YEAR:return this._year;case P.ERA:return this._year<1?0:1}throw new h("Unsupported field: "+e)}return e.getFrom(this)},r.isLeap=function(){return t.isLeap(this._year)},r._withField=function(e,r){if(T(e,"field"),b(e,D,"field"),e instanceof P){switch(e.checkValidValue(r),e){case P.YEAR_OF_ERA:return t.of(this._year<1?1-r:r);case P.YEAR:return t.of(r);case P.ERA:return this.getLong(P.ERA)===r?this:t.of(1-this._year)}throw new h("Unsupported field: "+e)}return e.adjustInto(this,r)},r._plusUnit=function(e,t){if(T(e,"amountToAdd"),T(t,"unit"),b(t,C,"unit"),t instanceof R){switch(t){case R.YEARS:return this.plusYears(e);case R.DECADES:return this.plusYears(S.safeMultiply(e,10));case R.CENTURIES:return this.plusYears(S.safeMultiply(e,100));case R.MILLENNIA:return this.plusYears(S.safeMultiply(e,1e3));case R.ERAS:return this.with(P.ERA,S.safeAdd(this.getLong(P.ERA),e))}throw new h("Unsupported unit: "+t)}return t.addTo(this,e)},r.plusYears=function(e){return 0===e?this:t.of(P.YEAR.checkValidIntValue(S.safeAdd(this._year,e)))},r.minusYears=function(e){return e===S.MIN_SAFE_INTEGER?this.plusYears(S.MAX_SAFE_INTEGER).plusYears(1):this.plusYears(-e)},r.adjustInto=function(e){return T(e,"temporal"),e.with(P.YEAR,this._year)},r.isValidMonthDay=function(e){return null!=e&&e.isValidYear(this._year)},r.length=function(){return this.isLeap()?366:365},r.atDay=function(e){return e2.ofYearDay(this._year,e)},r.atMonth=function(e){return 1==arguments.length&&e instanceof B?this.atMonthMonth(e):this.atMonthNumber(e)},r.atMonthMonth=function(e){return T(e,"month"),b(e,B,"month"),eV.of(this._year,e)},r.atMonthNumber=function(e){return T(e,"month"),eV.of(this._year,e)},r.atMonthDay=function(e){return T(e,"monthDay"),b(e,eH,"monthDay"),e.atYear(this._year)},r.query=function(t){return(T(t,"query()"),b(t,x,"query()"),t===M.chronology())?eQ.INSTANCE:t===M.precision()?R.YEARS:t===M.localDate()||t===M.localTime()||t===M.zone()||t===M.zoneId()||t===M.offset()?null:e.prototype.query.call(this,t)},r.compareTo=function(e){return T(e,"other"),b(e,t,"other"),this._year-e._year},r.isAfter=function(e){return T(e,"other"),b(e,t,"other"),this._year>e._year},r.isBefore=function(e){return T(e,"other"),b(e,t,"other"),this._year<e._year},r.format=function(e){return T(e,"formatter"),b(e,eY,"formatter"),e.format(this)},r.equals=function(e){return this===e||e instanceof t&&this.value()===e.value()},r.toString=function(){return""+this._year},r.toJSON=function(){return this.toString()},r.until=function(e,r){var n=t.from(e);if(r instanceof R){var i=n.value()-this.value();switch(r){case R.YEARS:return i;case R.DECADES:return S.intDiv(i,10);case R.CENTURIES:return S.intDiv(i,100);case R.MILLENNIA:return S.intDiv(i,1e3);case R.ERAS:return n.getLong(P.ERA)-this.getLong(P.ERA)}throw new h("Unsupported unit: "+r)}return r.between(this,n)},t}($),ez=function(){function e(){}return e.prototype.adjustInto=function(e){w("adjustInto")},e}(),eW=function(){function e(){}return e.firstDayOfMonth=function(){return eG.FIRST_DAY_OF_MONTH},e.lastDayOfMonth=function(){return eG.LAST_DAY_OF_MONTH},e.firstDayOfNextMonth=function(){return eG.FIRST_DAY_OF_NEXT_MONTH},e.firstDayOfYear=function(){return eG.FIRST_DAY_OF_YEAR},e.lastDayOfYear=function(){return eG.LAST_DAY_OF_YEAR},e.firstDayOfNextYear=function(){return eG.FIRST_DAY_OF_NEXT_YEAR},e.firstInMonth=function(e){return T(e,"dayOfWeek"),new eK(1,e)},e.lastInMonth=function(e){return T(e,"dayOfWeek"),new eK(-1,e)},e.dayOfWeekInMonth=function(e,t){return T(t,"dayOfWeek"),new eK(e,t)},e.next=function(e){return new eZ(2,e)},e.nextOrSame=function(e){return new eZ(0,e)},e.previous=function(e){return new eZ(3,e)},e.previousOrSame=function(e){return new eZ(1,e)},e}(),eG=function(e){function t(t){var r;return(r=e.call(this)||this)._ordinal=t,r}return g(t,e),t.prototype.adjustInto=function(e){switch(this._ordinal){case 0:return e.with(P.DAY_OF_MONTH,1);case 1:return e.with(P.DAY_OF_MONTH,e.range(P.DAY_OF_MONTH).maximum());case 2:return e.with(P.DAY_OF_MONTH,1).plus(1,R.MONTHS);case 3:return e.with(P.DAY_OF_YEAR,1);case 4:return e.with(P.DAY_OF_YEAR,e.range(P.DAY_OF_YEAR).maximum());case 5:return e.with(P.DAY_OF_YEAR,1).plus(1,R.YEARS)}throw new p("Unreachable")},t}(ez);eG.FIRST_DAY_OF_MONTH=new eG(0),eG.LAST_DAY_OF_MONTH=new eG(1),eG.FIRST_DAY_OF_NEXT_MONTH=new eG(2),eG.FIRST_DAY_OF_YEAR=new eG(3),eG.LAST_DAY_OF_YEAR=new eG(4),eG.FIRST_DAY_OF_NEXT_YEAR=new eG(5);var eK=function(e){function t(t,r){var n;return(n=e.call(this)||this)._ordinal=t,n._dowValue=r.value(),n}return g(t,e),t.prototype.adjustInto=function(e){if(this._ordinal>=0){var t=e.with(P.DAY_OF_MONTH,1),r=t.get(P.DAY_OF_WEEK),n=S.intMod(this._dowValue-r+7,7);return n+=(this._ordinal-1)*7,t.plus(n,R.DAYS)}var i=e.with(P.DAY_OF_MONTH,e.range(P.DAY_OF_MONTH).maximum()),o=i.get(P.DAY_OF_WEEK),s=this._dowValue-o;return s=(0===s?0:s>0?s-7:s)-(-this._ordinal-1)*7,i.plus(s,R.DAYS)},t}(ez),eZ=function(e){function t(t,r){var n;return n=e.call(this)||this,T(r,"dayOfWeek"),n._relative=t,n._dowValue=r.value(),n}return g(t,e),t.prototype.adjustInto=function(e){var t=e.get(P.DAY_OF_WEEK);if(this._relative<2&&t===this._dowValue)return e;if((1&this._relative)==0){var r=t-this._dowValue;return e.plus(r>=0?7-r:-r,R.DAYS)}var n=this._dowValue-t;return e.minus(n>=0?7-n:-n,R.DAYS)},t}(ez),eQ=function(e){function t(){return e.apply(this,arguments)||this}g(t,e),t.isLeapYear=function(e){return(3&e)==0&&(e%100!=0||e%400==0)};var r=t.prototype;return r._updateResolveMap=function(e,t,r){T(e,"fieldValues"),T(t,"field");var n=e.get(t);if(null!=n&&n!==r)throw new c("Invalid state, field: "+t+" "+n+" conflicts with "+t+" "+r);e.put(t,r)},r.resolveDate=function(e,t){if(e.containsKey(P.EPOCH_DAY))return e2.ofEpochDay(e.remove(P.EPOCH_DAY));var r=e.remove(P.PROLEPTIC_MONTH);null!=r&&(t!==V.LENIENT&&P.PROLEPTIC_MONTH.checkValidValue(r),this._updateResolveMap(e,P.MONTH_OF_YEAR,S.floorMod(r,12)+1),this._updateResolveMap(e,P.YEAR,S.floorDiv(r,12)));var n=e.remove(P.YEAR_OF_ERA);if(null!=n){t!==V.LENIENT&&P.YEAR_OF_ERA.checkValidValue(n);var i=e.remove(P.ERA);if(null==i){var o=e.get(P.YEAR);t===V.STRICT?null!=o?this._updateResolveMap(e,P.YEAR,o>0?n:S.safeSubtract(1,n)):e.put(P.YEAR_OF_ERA,n):this._updateResolveMap(e,P.YEAR,null==o||o>0?n:S.safeSubtract(1,n))}else if(1===i)this._updateResolveMap(e,P.YEAR,n);else if(0===i)this._updateResolveMap(e,P.YEAR,S.safeSubtract(1,n));else throw new c("Invalid value for era: "+i)}else e.containsKey(P.ERA)&&P.ERA.checkValidValue(e.get(P.ERA));if(e.containsKey(P.YEAR)){if(e.containsKey(P.MONTH_OF_YEAR)&&e.containsKey(P.DAY_OF_MONTH)){var s=P.YEAR.checkValidIntValue(e.remove(P.YEAR)),a=e.remove(P.MONTH_OF_YEAR),l=e.remove(P.DAY_OF_MONTH);if(t===V.LENIENT){var u=l-1;return e2.of(s,1,1).plusMonths(a-1).plusDays(u)}return t===V.SMART&&(P.DAY_OF_MONTH.checkValidValue(l),4===a||6===a||9===a||11===a?l=Math.min(l,30):2===a&&(l=Math.min(l,B.FEBRUARY.length(e$.isLeap(s))))),e2.of(s,a,l)}if(e.containsKey(P.DAY_OF_YEAR)){var h=P.YEAR.checkValidIntValue(e.remove(P.YEAR));if(t===V.LENIENT){var d=S.safeSubtract(e.remove(P.DAY_OF_YEAR),1);return e2.ofYearDay(h,1).plusDays(d)}var f=P.DAY_OF_YEAR.checkValidIntValue(e.remove(P.DAY_OF_YEAR));return e2.ofYearDay(h,f)}if(e.containsKey(P.ALIGNED_WEEK_OF_YEAR)){if(e.containsKey(P.ALIGNED_DAY_OF_WEEK_IN_YEAR)){var p=P.YEAR.checkValidIntValue(e.remove(P.YEAR));if(t===V.LENIENT){var m=S.safeSubtract(e.remove(P.ALIGNED_WEEK_OF_YEAR),1),g=S.safeSubtract(e.remove(P.ALIGNED_DAY_OF_WEEK_IN_YEAR),1);return e2.of(p,1,1).plusWeeks(m).plusDays(g)}var y=P.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(e.remove(P.ALIGNED_WEEK_OF_YEAR)),_=P.ALIGNED_DAY_OF_WEEK_IN_YEAR.checkValidIntValue(e.remove(P.ALIGNED_DAY_OF_WEEK_IN_YEAR)),E=e2.of(p,1,1).plusDays((y-1)*7+(_-1));if(t===V.STRICT&&E.get(P.YEAR)!==p)throw new c("Strict mode rejected date parsed to a different year");return E}if(e.containsKey(P.DAY_OF_WEEK)){var T=P.YEAR.checkValidIntValue(e.remove(P.YEAR));if(t===V.LENIENT){var b=S.safeSubtract(e.remove(P.ALIGNED_WEEK_OF_YEAR),1),w=S.safeSubtract(e.remove(P.DAY_OF_WEEK),1);return e2.of(T,1,1).plusWeeks(b).plusDays(w)}var v=P.ALIGNED_WEEK_OF_YEAR.checkValidIntValue(e.remove(P.ALIGNED_WEEK_OF_YEAR)),A=P.DAY_OF_WEEK.checkValidIntValue(e.remove(P.DAY_OF_WEEK)),I=e2.of(T,1,1).plusWeeks(v-1).with(eW.nextOrSame(F.of(A)));if(t===V.STRICT&&I.get(P.YEAR)!==T)throw new c("Strict mode rejected date parsed to a different month");return I}}}return null},r.date=function(e){return e2.from(e)},t}(A),eX=function(e){function t(t,r){var n;return n=e.call(this)||this,T(t,"time"),b(t,e8,"time"),T(r,"offset"),b(r,J,"offset"),n._time=t,n._offset=r,n}g(t,e),t.from=function(e){if(T(e,"temporal"),e instanceof t)return e;if(e instanceof e1)return e.toOffsetTime();try{var r=e8.from(e),n=J.from(e);return new t(r,n)}catch(t){throw new c("Unable to obtain OffsetTime TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""))}},t.now=function(e){return 0==arguments.length?t._now(e3.systemDefaultZone()):e instanceof e3?t._now(e):t._now(e3.system(e))},t._now=function(e){T(e,"clock");var r=e.instant();return t.ofInstant(r,e.zone().rules().offset(r))},t.of=function(){return arguments.length<=2?t.ofTimeAndOffset.apply(this,arguments):t.ofNumbers.apply(this,arguments)},t.ofNumbers=function(e,r,n,i,o){return new t(e8.of(e,r,n,i),o)},t.ofTimeAndOffset=function(e,r){return new t(e,r)},t.ofInstant=function(e,r){T(e,"instant"),b(e,e6,"instant"),T(r,"zone"),b(r,G,"zone");var n=r.rules().offset(e),i=e.epochSecond()%e8.SECONDS_PER_DAY;return(i=(i+n.totalSeconds())%e8.SECONDS_PER_DAY)<0&&(i+=e8.SECONDS_PER_DAY),new t(e8.ofSecondOfDay(i,e.nano()),n)},t.parse=function(e,r){return void 0===r&&(r=eY.ISO_OFFSET_TIME),T(r,"formatter"),r.parse(e,t.FROM)};var r=t.prototype;return r.adjustInto=function(e){return e.with(P.NANO_OF_DAY,this._time.toNanoOfDay()).with(P.OFFSET_SECONDS,this.offset().totalSeconds())},r.atDate=function(e){return e1.of(e,this._time,this._offset)},r.format=function(e){return T(e,"formatter"),e.format(this,t.FROM)},r.get=function(t){return e.prototype.get.call(this,t)},r.getLong=function(e){return e instanceof P?e===P.OFFSET_SECONDS?this._offset.totalSeconds():this._time.getLong(e):e.getFrom(this)},r.hour=function(){return this._time.hour()},r.minute=function(){return this._time.minute()},r.second=function(){return this._time.second()},r.nano=function(){return this._time.nano()},r.offset=function(){return this._offset},r.isAfter=function(e){return T(e,"other"),this._toEpochNano()>e._toEpochNano()},r.isBefore=function(e){return T(e,"other"),this._toEpochNano()<e._toEpochNano()},r.isEqual=function(e){return T(e,"other"),this._toEpochNano()===e._toEpochNano()},r.isSupported=function(e){return e instanceof P?e.isTimeBased()||e===P.OFFSET_SECONDS:e instanceof R?e.isTimeBased():null!=e&&e.isSupportedBy(this)},r.minusHours=function(e){return this._withLocalTimeOffset(this._time.minusHours(e),this._offset)},r.minusMinutes=function(e){return this._withLocalTimeOffset(this._time.minusMinutes(e),this._offset)},r.minusSeconds=function(e){return this._withLocalTimeOffset(this._time.minusSeconds(e),this._offset)},r.minusNanos=function(e){return this._withLocalTimeOffset(this._time.minusNanos(e),this._offset)},r._minusAmount=function(e){return T(e),e.subtractFrom(this)},r._minusUnit=function(e,t){return this.plus(-1*e,t)},r._plusAmount=function(e){return T(e),e.addTo(this)},r._plusUnit=function(e,t){return t instanceof R?this._withLocalTimeOffset(this._time.plus(e,t),this._offset):t.addTo(this,e)},r.plusHours=function(e){return this._withLocalTimeOffset(this._time.plusHours(e),this._offset)},r.plusMinutes=function(e){return this._withLocalTimeOffset(this._time.plusMinutes(e),this._offset)},r.plusSeconds=function(e){return this._withLocalTimeOffset(this._time.plusSeconds(e),this._offset)},r.plusNanos=function(e){return this._withLocalTimeOffset(this._time.plusNanos(e),this._offset)},r.query=function(t){return(T(t,"query"),t===M.precision())?R.NANOS:t===M.offset()||t===M.zone()?this.offset():t===M.localTime()?this._time:t===M.chronology()||t===M.localDate()||t===M.zoneId()?null:e.prototype.query.call(this,t)},r.range=function(e){return e instanceof P?e===P.OFFSET_SECONDS?e.range():this._time.range(e):e.rangeRefinedBy(this)},r.toLocalTime=function(){return this._time},r.truncatedTo=function(e){return this._withLocalTimeOffset(this._time.truncatedTo(e),this._offset)},r.until=function(e,r){T(e,"endExclusive"),T(r,"unit");var n=t.from(e);if(r instanceof R){var i=n._toEpochNano()-this._toEpochNano();switch(r){case R.NANOS:return i;case R.MICROS:return S.intDiv(i,1e3);case R.MILLIS:return S.intDiv(i,1e6);case R.SECONDS:return S.intDiv(i,e8.NANOS_PER_SECOND);case R.MINUTES:return S.intDiv(i,e8.NANOS_PER_MINUTE);case R.HOURS:return S.intDiv(i,e8.NANOS_PER_HOUR);case R.HALF_DAYS:return S.intDiv(i,12*e8.NANOS_PER_HOUR)}throw new h("Unsupported unit: "+r)}return r.between(this,n)},r.withHour=function(e){return this._withLocalTimeOffset(this._time.withHour(e),this._offset)},r.withMinute=function(e){return this._withLocalTimeOffset(this._time.withMinute(e),this._offset)},r.withSecond=function(e){return this._withLocalTimeOffset(this._time.withSecond(e),this._offset)},r.withNano=function(e){return this._withLocalTimeOffset(this._time.withNano(e),this._offset)},r.withOffsetSameInstant=function(e){if(T(e,"offset"),e.equals(this._offset))return this;var r=e.totalSeconds()-this._offset.totalSeconds();return new t(this._time.plusSeconds(r),e)},r.withOffsetSameLocal=function(e){return null!=e&&e.equals(this._offset)?this:new t(this._time,e)},r._toEpochNano=function(){return this._time.toNanoOfDay()-this._offset.totalSeconds()*e8.NANOS_PER_SECOND},r._withAdjuster=function(e){return(T(e,"adjuster"),e instanceof e8)?this._withLocalTimeOffset(e,this._offset):e instanceof J?this._withLocalTimeOffset(this._time,e):e instanceof t?e:e.adjustInto(this)},r._withField=function(e,t){return(T(e,"field"),e instanceof P)?e===P.OFFSET_SECONDS?this._withLocalTimeOffset(this._time,J.ofTotalSeconds(e.checkValidIntValue(t))):this._withLocalTimeOffset(this._time.with(e,t),this._offset):e.adjustInto(this,t)},r._withLocalTimeOffset=function(e,r){return this._time===e&&this._offset.equals(r)?this:new t(e,r)},r.compareTo=function(e){if(T(e,"other"),b(e,t,"other"),this._offset.equals(e._offset))return this._time.compareTo(e._time);var r=S.compareNumbers(this._toEpochNano(),e._toEpochNano());return 0===r?this._time.compareTo(e._time):r},r.equals=function(e){return this===e||e instanceof t&&this._time.equals(e._time)&&this._offset.equals(e._offset)},r.hashCode=function(){return this._time.hashCode()^this._offset.hashCode()},r.toString=function(){return this._time.toString()+this._offset.toString()},r.toJSON=function(){return this.toString()},t}($),eJ=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.query=function(t){return t===M.zoneId()||t===M.zone()?this.zone():t===M.chronology()?this.toLocalDate().chronology():t===M.precision()?R.NANOS:t===M.offset()?this.offset():t===M.localDate()?e2.ofEpochDay(this.toLocalDate().toEpochDay()):t===M.localTime()?this.toLocalTime():e.prototype.query.call(this,t)},r.format=function(e){return T(e,"formatter"),e.format(this)},r.toInstant=function(){return e6.ofEpochSecond(this.toEpochSecond(),this.toLocalTime().nano())},r.toEpochSecond=function(){return 86400*this.toLocalDate().toEpochDay()+this.toLocalTime().toSecondOfDay()-this.offset().totalSeconds()},r.compareTo=function(e){T(e,"other");var t,r,n=S.compareNumbers(this.toEpochSecond(),e.toEpochSecond());return 0===n&&0==(n=this.toLocalTime().nano()-e.toLocalTime().nano())&&0===(n=this.toLocalDateTime().compareTo(e.toLocalDateTime()))&&(n=(t=this.zone().id())<(r=e.zone().id())?-1:t>r?1:0),n},r.isAfter=function(e){T(e,"other");var t=this.toEpochSecond(),r=e.toEpochSecond();return t>r||t===r&&this.toLocalTime().nano()>e.toLocalTime().nano()},r.isBefore=function(e){T(e,"other");var t=this.toEpochSecond(),r=e.toEpochSecond();return t<r||t===r&&this.toLocalTime().nano()<e.toLocalTime().nano()},r.isEqual=function(e){return T(e,"other"),this.toEpochSecond()===e.toEpochSecond()&&this.toLocalTime().nano()===e.toLocalTime().nano()},r.equals=function(e){return this===e||e instanceof t&&0===this.compareTo(e)},t}($),e0=function(e){function t(t,r,n){var i;return T(t,"dateTime"),T(r,"offset"),T(n,"zone"),(i=e.call(this)||this)._dateTime=t,i._offset=r,i._zone=n,i}g(t,e),t.now=function(e){var r;return r=e instanceof G?e3.system(e):null==e?e3.systemDefaultZone():e,t.ofInstant(r.instant(),r.zone())},t.of=function(){return arguments.length<=2?t.of2.apply(this,arguments):3==arguments.length&&arguments[0]instanceof e2?t.of3.apply(this,arguments):t.of8.apply(this,arguments)},t.of3=function(e,r,n){return t.of2(e4.of(e,r),n)},t.of2=function(e,r){return t.ofLocal(e,r,null)},t.of8=function(e,r,n,i,o,s,a,l){var c=e4.of(e,r,n,i,o,s,a);return t.ofLocal(c,l,null)},t.ofLocal=function(e,r,n){if(T(e,"localDateTime"),T(r,"zone"),r instanceof J)return new t(e,r,r);var i=null,o=r.rules(),s=o.validOffsets(e);if(1===s.length)i=s[0];else if(0===s.length){var a=o.transition(e);e=e.plusSeconds(a.duration().seconds()),i=a.offsetAfter()}else i=null!=n&&s.some(function(e){return e.equals(n)})?n:T(s[0],"offset");return new t(e,i,r)},t.ofInstant=function(){return 2==arguments.length?t.ofInstant2.apply(this,arguments):t.ofInstant3.apply(this,arguments)},t.ofInstant2=function(e,r){return T(e,"instant"),T(r,"zone"),t._create(e.epochSecond(),e.nano(),r)},t.ofInstant3=function(e,r,n){return T(e,"localDateTime"),T(r,"offset"),T(n,"zone"),t._create(e.toEpochSecond(r),e.nano(),n)},t._create=function(e,r,n){var i=n.rules(),o=e6.ofEpochSecond(e,r),s=i.offset(o);return new t(e4.ofEpochSecond(e,r,s),s,n)},t.ofStrict=function(e,r,n){T(e,"localDateTime"),T(r,"offset"),T(n,"zone");var i=n.rules();if(!1===i.isValidOffset(e,r)){var o=i.transition(e);if(null!=o&&o.isGap())throw new c("LocalDateTime "+e+" does not exist in zone "+n+" due to a gap in the local time-line, typically caused by daylight savings");throw new c('ZoneOffset "'+r+'" is not valid for LocalDateTime "'+e+'" in zone "'+n+'"')}return new t(e,r,n)},t.ofLenient=function(e,r,n){if(T(e,"localDateTime"),T(r,"offset"),T(n,"zone"),n instanceof J&&!1===r.equals(n))throw new f("ZoneId must match ZoneOffset");return new t(e,r,n)},t.from=function(e){if(T(e,"temporal"),e instanceof t)return e;var r=G.from(e);if(e.isSupported(P.INSTANT_SECONDS)){var n=t._from(e,r);if(null!=n)return n}var i=e4.from(e);return t.of2(i,r)},t._from=function(e,r){try{return t.__from(e,r)}catch(e){if(!(e instanceof c))throw e}},t.__from=function(e,r){var n=e.getLong(P.INSTANT_SECONDS),i=e.get(P.NANO_OF_SECOND);return t._create(n,i,r)},t.parse=function(e,r){return void 0===r&&(r=eY.ISO_ZONED_DATE_TIME),T(r,"formatter"),r.parse(e,t.FROM)};var r=t.prototype;return r._resolveLocal=function(e){return T(e,"newDateTime"),t.ofLocal(e,this._zone,this._offset)},r._resolveInstant=function(e){return t.ofInstant3(e,this._offset,this._zone)},r._resolveOffset=function(e){return!1===e.equals(this._offset)&&this._zone.rules().isValidOffset(this._dateTime,e)?new t(this._dateTime,e,this._zone):this},r.isSupported=function(e){return e instanceof P||(e instanceof R?e.isDateBased()||e.isTimeBased():null!=e&&e.isSupportedBy(this))},r.range=function(e){return e instanceof P?e===P.INSTANT_SECONDS||e===P.OFFSET_SECONDS?e.range():this._dateTime.range(e):e.rangeRefinedBy(this)},r.get=function(e){return this.getLong(e)},r.getLong=function(e){if(e instanceof P){switch(e){case P.INSTANT_SECONDS:return this.toEpochSecond();case P.OFFSET_SECONDS:return this._offset.totalSeconds()}return this._dateTime.getLong(e)}return T(e,"field"),e.getFrom(this)},r.offset=function(){return this._offset},r.withEarlierOffsetAtOverlap=function(){var e=this._zone.rules().transition(this._dateTime);if(null!=e&&e.isOverlap()){var r=e.offsetBefore();if(!1===r.equals(this._offset))return new t(this._dateTime,r,this._zone)}return this},r.withLaterOffsetAtOverlap=function(){var e=this._zone.rules().transition(this.toLocalDateTime());if(null!=e){var r=e.offsetAfter();if(!1===r.equals(this._offset))return new t(this._dateTime,r,this._zone)}return this},r.zone=function(){return this._zone},r.withZoneSameLocal=function(e){return T(e,"zone"),this._zone.equals(e)?this:t.ofLocal(this._dateTime,e,this._offset)},r.withZoneSameInstant=function(e){return T(e,"zone"),this._zone.equals(e)?this:t._create(this._dateTime.toEpochSecond(this._offset),this._dateTime.nano(),e)},r.withFixedOffsetZone=function(){return this._zone.equals(this._offset)?this:new t(this._dateTime,this._offset,this._offset)},r.year=function(){return this._dateTime.year()},r.monthValue=function(){return this._dateTime.monthValue()},r.month=function(){return this._dateTime.month()},r.dayOfMonth=function(){return this._dateTime.dayOfMonth()},r.dayOfYear=function(){return this._dateTime.dayOfYear()},r.dayOfWeek=function(){return this._dateTime.dayOfWeek()},r.hour=function(){return this._dateTime.hour()},r.minute=function(){return this._dateTime.minute()},r.second=function(){return this._dateTime.second()},r.nano=function(){return this._dateTime.nano()},r._withAdjuster=function(r){return r instanceof e2?this._resolveLocal(e4.of(r,this._dateTime.toLocalTime())):r instanceof e8?this._resolveLocal(e4.of(this._dateTime.toLocalDate(),r)):r instanceof e4?this._resolveLocal(r):r instanceof e6?t._create(r.epochSecond(),r.nano(),this._zone):r instanceof J?this._resolveOffset(r):e.prototype._withAdjuster.call(this,r)},r._withField=function(e,r){if(e instanceof P){switch(e){case P.INSTANT_SECONDS:return t._create(r,this.nano(),this._zone);case P.OFFSET_SECONDS:var n=J.ofTotalSeconds(e.checkValidIntValue(r));return this._resolveOffset(n)}return this._resolveLocal(this._dateTime.with(e,r))}return e.adjustInto(this,r)},r.withYear=function(e){return this._resolveLocal(this._dateTime.withYear(e))},r.withMonth=function(e){return this._resolveLocal(this._dateTime.withMonth(e))},r.withDayOfMonth=function(e){return this._resolveLocal(this._dateTime.withDayOfMonth(e))},r.withDayOfYear=function(e){return this._resolveLocal(this._dateTime.withDayOfYear(e))},r.withHour=function(e){return this._resolveLocal(this._dateTime.withHour(e))},r.withMinute=function(e){return this._resolveLocal(this._dateTime.withMinute(e))},r.withSecond=function(e){return this._resolveLocal(this._dateTime.withSecond(e))},r.withNano=function(e){return this._resolveLocal(this._dateTime.withNano(e))},r.truncatedTo=function(e){return this._resolveLocal(this._dateTime.truncatedTo(e))},r._plusUnit=function(e,t){return t instanceof R?t.isDateBased()?this._resolveLocal(this._dateTime.plus(e,t)):this._resolveInstant(this._dateTime.plus(e,t)):(T(t,"unit"),t.addTo(this,e))},r.plusYears=function(e){return this._resolveLocal(this._dateTime.plusYears(e))},r.plusMonths=function(e){return this._resolveLocal(this._dateTime.plusMonths(e))},r.plusWeeks=function(e){return this._resolveLocal(this._dateTime.plusWeeks(e))},r.plusDays=function(e){return this._resolveLocal(this._dateTime.plusDays(e))},r.plusHours=function(e){return this._resolveInstant(this._dateTime.plusHours(e))},r.plusMinutes=function(e){return this._resolveInstant(this._dateTime.plusMinutes(e))},r.plusSeconds=function(e){return this._resolveInstant(this._dateTime.plusSeconds(e))},r.plusNanos=function(e){return this._resolveInstant(this._dateTime.plusNanos(e))},r._minusUnit=function(e,t){return this._plusUnit(-1*e,t)},r.minusYears=function(e){return this.plusYears(-1*e)},r.minusMonths=function(e){return this.plusMonths(-1*e)},r.minusWeeks=function(e){return this.plusWeeks(-1*e)},r.minusDays=function(e){return this.plusDays(-1*e)},r.minusHours=function(e){return this.plusHours(-1*e)},r.minusMinutes=function(e){return this.plusMinutes(-1*e)},r.minusSeconds=function(e){return this.plusSeconds(-1*e)},r.minusNanos=function(e){return this.plusNanos(-1*e)},r.query=function(t){return t===M.localDate()?this.toLocalDate():(T(t,"query"),e.prototype.query.call(this,t))},r.until=function(e,r){var n=t.from(e);if(r instanceof R){if(n=n.withZoneSameInstant(this._zone),r.isDateBased())return this._dateTime.until(n._dateTime,r);var i=this._offset.totalSeconds()-n._offset.totalSeconds(),o=n._dateTime.plusSeconds(i);return this._dateTime.until(o,r)}return r.between(this,n)},r.toLocalDateTime=function(){return this._dateTime},r.toLocalDate=function(){return this._dateTime.toLocalDate()},r.toLocalTime=function(){return this._dateTime.toLocalTime()},r.toOffsetDateTime=function(){return e1.of(this._dateTime,this._offset)},r.equals=function(e){return this===e||e instanceof t&&this._dateTime.equals(e._dateTime)&&this._offset.equals(e._offset)&&this._zone.equals(e._zone)},r.hashCode=function(){return S.hashCode(this._dateTime.hashCode(),this._offset.hashCode(),this._zone.hashCode())},r.toString=function(){var e=this._dateTime.toString()+this._offset.toString();return this._offset!==this._zone&&(e+="["+this._zone.toString()+"]"),e},r.toJSON=function(){return this.toString()},r.format=function(t){return e.prototype.format.call(this,t)},t}(eJ),e1=function(e){function t(t,r){var n;return n=e.call(this)||this,T(t,"dateTime"),b(t,e4,"dateTime"),T(r,"offset"),b(r,J,"offset"),n._dateTime=t,n._offset=r,n}g(t,e),t.from=function(e){if(T(e,"temporal"),e instanceof t)return e;try{var r=J.from(e);try{var n=e4.from(e);return t.of(n,r)}catch(n){var i=e6.from(e);return t.ofInstant(i,r)}}catch(t){throw new c("Unable to obtain OffsetDateTime TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""))}},t.now=function(e){if(0==arguments.length)return t.now(e3.systemDefaultZone());if(T(e,"clockOrZone"),e instanceof G)return t.now(e3.system(e));if(e instanceof e3){var r=e.instant();return t.ofInstant(r,e.zone().rules().offset(r))}throw new f("clockOrZone must be an instance of ZoneId or Clock")},t.of=function(){return arguments.length<=2?t.ofDateTime.apply(this,arguments):3==arguments.length?t.ofDateAndTime.apply(this,arguments):t.ofNumbers.apply(this,arguments)},t.ofDateTime=function(e,r){return new t(e,r)},t.ofDateAndTime=function(e,r,n){return new t(e4.of(e,r),n)},t.ofNumbers=function(e,r,n,i,o,s,a,l){return void 0===i&&(i=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),new t(e4.of(e,r,n,i,o,s,a),l)},t.ofInstant=function(e,r){T(e,"instant"),T(r,"zone");var n=r.rules().offset(e);return new t(e4.ofEpochSecond(e.epochSecond(),e.nano(),n),n)},t.parse=function(e,r){return void 0===r&&(r=eY.ISO_OFFSET_DATE_TIME),T(r,"formatter"),r.parse(e,t.FROM)};var r=t.prototype;return r.adjustInto=function(e){return e.with(P.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(P.NANO_OF_DAY,this.toLocalTime().toNanoOfDay()).with(P.OFFSET_SECONDS,this.offset().totalSeconds())},r.until=function(e,r){var n=t.from(e);return r instanceof R?(n=n.withOffsetSameInstant(this._offset),this._dateTime.until(n._dateTime,r)):r.between(this,n)},r.atZoneSameInstant=function(e){return e0.ofInstant(this._dateTime,this._offset,e)},r.atZoneSimilarLocal=function(e){return e0.ofLocal(this._dateTime,e,this._offset)},r.query=function(t){return(T(t,"query"),t===M.chronology())?eQ.INSTANCE:t===M.precision()?R.NANOS:t===M.offset()||t===M.zone()?this.offset():t===M.localDate()?this.toLocalDate():t===M.localTime()?this.toLocalTime():t===M.zoneId()?null:e.prototype.query.call(this,t)},r.get=function(t){if(t instanceof P){switch(t){case P.INSTANT_SECONDS:throw new c("Field too large for an int: "+t);case P.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.get(t)}return e.prototype.get.call(this,t)},r.getLong=function(e){if(e instanceof P){switch(e){case P.INSTANT_SECONDS:return this.toEpochSecond();case P.OFFSET_SECONDS:return this.offset().totalSeconds()}return this._dateTime.getLong(e)}return e.getFrom(this)},r.offset=function(){return this._offset},r.year=function(){return this._dateTime.year()},r.monthValue=function(){return this._dateTime.monthValue()},r.month=function(){return this._dateTime.month()},r.dayOfMonth=function(){return this._dateTime.dayOfMonth()},r.dayOfYear=function(){return this._dateTime.dayOfYear()},r.dayOfWeek=function(){return this._dateTime.dayOfWeek()},r.hour=function(){return this._dateTime.hour()},r.minute=function(){return this._dateTime.minute()},r.second=function(){return this._dateTime.second()},r.nano=function(){return this._dateTime.nano()},r.toLocalDateTime=function(){return this._dateTime},r.toLocalDate=function(){return this._dateTime.toLocalDate()},r.toLocalTime=function(){return this._dateTime.toLocalTime()},r.toOffsetTime=function(){return eX.of(this._dateTime.toLocalTime(),this._offset)},r.toZonedDateTime=function(){return e0.of(this._dateTime,this._offset)},r.toInstant=function(){return this._dateTime.toInstant(this._offset)},r.toEpochSecond=function(){return this._dateTime.toEpochSecond(this._offset)},r.isSupported=function(e){return e instanceof P||e instanceof R?e.isDateBased()||e.isTimeBased():null!=e&&e.isSupportedBy(this)},r.range=function(e){return e instanceof P?e===P.INSTANT_SECONDS||e===P.OFFSET_SECONDS?e.range():this._dateTime.range(e):e.rangeRefinedBy(this)},r._withAdjuster=function(e){return(T(e),e instanceof e2||e instanceof e8||e instanceof e4)?this._withDateTimeOffset(this._dateTime.with(e),this._offset):e instanceof e6?t.ofInstant(e,this._offset):e instanceof J?this._withDateTimeOffset(this._dateTime,e):e instanceof t?e:e.adjustInto(this)},r._withField=function(e,r){if(T(e),e instanceof P){switch(e){case P.INSTANT_SECONDS:return t.ofInstant(e6.ofEpochSecond(r,this.nano()),this._offset);case P.OFFSET_SECONDS:return this._withDateTimeOffset(this._dateTime,J.ofTotalSeconds(e.checkValidIntValue(r)))}return this._withDateTimeOffset(this._dateTime.with(e,r),this._offset)}return e.adjustInto(this,r)},r._withDateTimeOffset=function(e,r){return this._dateTime===e&&this._offset.equals(r)?this:new t(e,r)},r.withYear=function(e){return this._withDateTimeOffset(this._dateTime.withYear(e),this._offset)},r.withMonth=function(e){return this._withDateTimeOffset(this._dateTime.withMonth(e),this._offset)},r.withDayOfMonth=function(e){return this._withDateTimeOffset(this._dateTime.withDayOfMonth(e),this._offset)},r.withDayOfYear=function(e){return this._withDateTimeOffset(this._dateTime.withDayOfYear(e),this._offset)},r.withHour=function(e){return this._withDateTimeOffset(this._dateTime.withHour(e),this._offset)},r.withMinute=function(e){return this._withDateTimeOffset(this._dateTime.withMinute(e),this._offset)},r.withSecond=function(e){return this._withDateTimeOffset(this._dateTime.withSecond(e),this._offset)},r.withNano=function(e){return this._withDateTimeOffset(this._dateTime.withNano(e),this._offset)},r.withOffsetSameLocal=function(e){return T(e,"offset"),this._withDateTimeOffset(this._dateTime,e)},r.withOffsetSameInstant=function(e){if(T(e,"offset"),e.equals(this._offset))return this;var r=e.totalSeconds()-this._offset.totalSeconds();return new t(this._dateTime.plusSeconds(r),e)},r.truncatedTo=function(e){return this._withDateTimeOffset(this._dateTime.truncatedTo(e),this._offset)},r._plusAmount=function(e){return T(e,"amount"),e.addTo(this)},r._plusUnit=function(e,t){return t instanceof R?this._withDateTimeOffset(this._dateTime.plus(e,t),this._offset):t.addTo(this,e)},r.plusYears=function(e){return this._withDateTimeOffset(this._dateTime.plusYears(e),this._offset)},r.plusMonths=function(e){return this._withDateTimeOffset(this._dateTime.plusMonths(e),this._offset)},r.plusWeeks=function(e){return this._withDateTimeOffset(this._dateTime.plusWeeks(e),this._offset)},r.plusDays=function(e){return this._withDateTimeOffset(this._dateTime.plusDays(e),this._offset)},r.plusHours=function(e){return this._withDateTimeOffset(this._dateTime.plusHours(e),this._offset)},r.plusMinutes=function(e){return this._withDateTimeOffset(this._dateTime.plusMinutes(e),this._offset)},r.plusSeconds=function(e){return this._withDateTimeOffset(this._dateTime.plusSeconds(e),this._offset)},r.plusNanos=function(e){return this._withDateTimeOffset(this._dateTime.plusNanos(e),this._offset)},r._minusAmount=function(e){return T(e),e.subtractFrom(this)},r._minusUnit=function(e,t){return this.plus(-1*e,t)},r.minusYears=function(e){return this._withDateTimeOffset(this._dateTime.minusYears(e),this._offset)},r.minusMonths=function(e){return this._withDateTimeOffset(this._dateTime.minusMonths(e),this._offset)},r.minusWeeks=function(e){return this._withDateTimeOffset(this._dateTime.minusWeeks(e),this._offset)},r.minusDays=function(e){return this._withDateTimeOffset(this._dateTime.minusDays(e),this._offset)},r.minusHours=function(e){return this._withDateTimeOffset(this._dateTime.minusHours(e),this._offset)},r.minusMinutes=function(e){return this._withDateTimeOffset(this._dateTime.minusMinutes(e),this._offset)},r.minusSeconds=function(e){return this._withDateTimeOffset(this._dateTime.minusSeconds(e),this._offset)},r.minusNanos=function(e){return this._withDateTimeOffset(this._dateTime.minusNanos(e),this._offset)},r.compareTo=function(e){if(T(e,"other"),b(e,t,"other"),this.offset().equals(e.offset()))return this.toLocalDateTime().compareTo(e.toLocalDateTime());var r=S.compareNumbers(this.toEpochSecond(),e.toEpochSecond());return 0===r&&0==(r=this.toLocalTime().nano()-e.toLocalTime().nano())&&(r=this.toLocalDateTime().compareTo(e.toLocalDateTime())),r},r.isAfter=function(e){T(e,"other");var t=this.toEpochSecond(),r=e.toEpochSecond();return t>r||t===r&&this.toLocalTime().nano()>e.toLocalTime().nano()},r.isBefore=function(e){T(e,"other");var t=this.toEpochSecond(),r=e.toEpochSecond();return t<r||t===r&&this.toLocalTime().nano()<e.toLocalTime().nano()},r.isEqual=function(e){return T(e,"other"),this.toEpochSecond()===e.toEpochSecond()&&this.toLocalTime().nano()===e.toLocalTime().nano()},r.equals=function(e){return this===e||e instanceof t&&this._dateTime.equals(e._dateTime)&&this._offset.equals(e._offset)},r.hashCode=function(){return this._dateTime.hashCode()^this._offset.hashCode()},r.toString=function(){return this._dateTime.toString()+this._offset.toString()},r.toJSON=function(){return this.toString()},r.format=function(e){return T(e,"formatter"),e.format(this)},t}($),e2=function(e){function t(r,n,i){var o;return o=e.call(this)||this,T(r,"year"),T(n,"month"),T(i,"dayOfMonth"),n instanceof B&&(n=n.value()),o._year=S.safeToInt(r),o._month=S.safeToInt(n),o._day=S.safeToInt(i),t._validate(o._year,o._month,o._day),o}g(t,e),t.now=function(e){var r;return r=null==e?e3.systemDefaultZone():e instanceof G?e3.system(e):e,t.ofInstant(r.instant(),r.zone())},t.ofInstant=function(e,r){void 0===r&&(r=G.systemDefault()),T(e,"instant");var n=r.rules().offset(e),i=e.epochSecond()+n.totalSeconds(),o=S.floorDiv(i,e8.SECONDS_PER_DAY);return t.ofEpochDay(o)},t.of=function(e,r,n){return new t(e,r,n)},t.ofYearDay=function(e,r){P.YEAR.checkValidValue(e);var n=eQ.isLeapYear(e);366===r&&!1===n&&E(!1,"Invalid date 'DayOfYear 366' as '"+e+"' is not a leap year",c);var i=B.of(Math.floor((r-1)/31+1));r>i.firstDayOfYear(n)+i.length(n)-1&&(i=i.plus(1));var o=r-i.firstDayOfYear(n)+1;return new t(e,i.value(),o)},t.ofEpochDay=function(e){void 0===e&&(e=0),r=0,(s=e+719528-60)<0&&(r=400*(n=S.intDiv(s+1,146097)-1),s+=-(146097*n)),o=S.intDiv(400*s+591,146097),(i=s-(365*o+S.intDiv(o,4)-S.intDiv(o,100)+S.intDiv(o,400)))<0&&(i=s-(365*--o+S.intDiv(o,4)-S.intDiv(o,100)+S.intDiv(o,400))),o+=r;var r,n,i,o,s,a=i,l=S.intDiv(5*a+2,153),c=a-S.intDiv(306*l+5,10)+1;return new t(o+=S.intDiv(l,10),(l+2)%12+1,c)},t.from=function(e){T(e,"temporal");var t=e.query(M.localDate());if(null==t)throw new c("Unable to obtain LocalDate from TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""));return t},t.parse=function(e,r){return void 0===r&&(r=eY.ISO_LOCAL_DATE),E(null!=r,"formatter",m),r.parse(e,t.FROM)},t._resolvePreviousValid=function(e,r,n){switch(r){case 2:n=Math.min(n,eQ.isLeapYear(e)?29:28);break;case 4:case 6:case 9:case 11:n=Math.min(n,30)}return t.of(e,r,n)},t._validate=function(e,t,r){var n;if(P.YEAR.checkValidValue(e),P.MONTH_OF_YEAR.checkValidValue(t),P.DAY_OF_MONTH.checkValidValue(r),r>28){switch(n=31,t){case 2:n=eQ.isLeapYear(e)?29:28;break;case 4:case 6:case 9:case 11:n=30}r>n&&(29===r?E(!1,"Invalid date 'February 29' as '"+e+"' is not a leap year",c):E(!1,"Invalid date '"+e+"' '"+t+"' '"+r+"'",c))}};var r=t.prototype;return r.isSupported=function(t){return e.prototype.isSupported.call(this,t)},r.range=function(e){if(e instanceof P){if(e.isDateBased()){switch(e){case P.DAY_OF_MONTH:return k.of(1,this.lengthOfMonth());case P.DAY_OF_YEAR:return k.of(1,this.lengthOfYear());case P.ALIGNED_WEEK_OF_MONTH:return k.of(1,this.month()===B.FEBRUARY&&!1===this.isLeapYear()?4:5);case P.YEAR_OF_ERA:return this._year<=0?k.of(1,e$.MAX_VALUE+1):k.of(1,e$.MAX_VALUE)}return e.range()}throw new h("Unsupported field: "+e)}return e.rangeRefinedBy(this)},r.get=function(e){return this.getLong(e)},r.getLong=function(e){return(E(null!=e,"",m),e instanceof P)?this._get0(e):e.getFrom(this)},r._get0=function(e){switch(e){case P.DAY_OF_WEEK:return this.dayOfWeek().value();case P.ALIGNED_DAY_OF_WEEK_IN_MONTH:return S.intMod(this._day-1,7)+1;case P.ALIGNED_DAY_OF_WEEK_IN_YEAR:return S.intMod(this.dayOfYear()-1,7)+1;case P.DAY_OF_MONTH:return this._day;case P.DAY_OF_YEAR:return this.dayOfYear();case P.EPOCH_DAY:return this.toEpochDay();case P.ALIGNED_WEEK_OF_MONTH:return S.intDiv(this._day-1,7)+1;case P.ALIGNED_WEEK_OF_YEAR:return S.intDiv(this.dayOfYear()-1,7)+1;case P.MONTH_OF_YEAR:return this._month;case P.PROLEPTIC_MONTH:return this._prolepticMonth();case P.YEAR_OF_ERA:return this._year>=1?this._year:1-this._year;case P.YEAR:return this._year;case P.ERA:return this._year>=1?1:0}throw new h("Unsupported field: "+e)},r._prolepticMonth=function(){return 12*this._year+(this._month-1)},r.chronology=function(){return eQ.INSTANCE},r.year=function(){return this._year},r.monthValue=function(){return this._month},r.month=function(){return B.of(this._month)},r.dayOfMonth=function(){return this._day},r.dayOfYear=function(){return this.month().firstDayOfYear(this.isLeapYear())+this._day-1},r.dayOfWeek=function(){var e=S.floorMod(this.toEpochDay()+3,7);return F.of(e+1)},r.isLeapYear=function(){return eQ.isLeapYear(this._year)},r.lengthOfMonth=function(){switch(this._month){case 2:return this.isLeapYear()?29:28;case 4:case 6:case 9:case 11:return 30;default:return 31}},r.lengthOfYear=function(){return this.isLeapYear()?366:365},r._withAdjuster=function(r){return(T(r,"adjuster"),r instanceof t)?r:e.prototype._withAdjuster.call(this,r)},r._withField=function(e,r){if(E(null!=e,"field",m),e instanceof P){switch(e.checkValidValue(r),e){case P.DAY_OF_WEEK:return this.plusDays(r-this.dayOfWeek().value());case P.ALIGNED_DAY_OF_WEEK_IN_MONTH:return this.plusDays(r-this.getLong(P.ALIGNED_DAY_OF_WEEK_IN_MONTH));case P.ALIGNED_DAY_OF_WEEK_IN_YEAR:return this.plusDays(r-this.getLong(P.ALIGNED_DAY_OF_WEEK_IN_YEAR));case P.DAY_OF_MONTH:return this.withDayOfMonth(r);case P.DAY_OF_YEAR:return this.withDayOfYear(r);case P.EPOCH_DAY:return t.ofEpochDay(r);case P.ALIGNED_WEEK_OF_MONTH:return this.plusWeeks(r-this.getLong(P.ALIGNED_WEEK_OF_MONTH));case P.ALIGNED_WEEK_OF_YEAR:return this.plusWeeks(r-this.getLong(P.ALIGNED_WEEK_OF_YEAR));case P.MONTH_OF_YEAR:return this.withMonth(r);case P.PROLEPTIC_MONTH:return this.plusMonths(r-this.getLong(P.PROLEPTIC_MONTH));case P.YEAR_OF_ERA:return this.withYear(this._year>=1?r:1-r);case P.YEAR:return this.withYear(r);case P.ERA:return this.getLong(P.ERA)===r?this:this.withYear(1-this._year)}throw new h("Unsupported field: "+e)}return e.adjustInto(this,r)},r.withYear=function(e){return this._year===e?this:(P.YEAR.checkValidValue(e),t._resolvePreviousValid(e,this._month,this._day))},r.withMonth=function(e){var r=e instanceof B?e.value():e;return this._month===r?this:(P.MONTH_OF_YEAR.checkValidValue(r),t._resolvePreviousValid(this._year,r,this._day))},r.withDayOfMonth=function(e){return this._day===e?this:t.of(this._year,this._month,e)},r.withDayOfYear=function(e){return this.dayOfYear()===e?this:t.ofYearDay(this._year,e)},r._plusUnit=function(e,t){if(T(e,"amountToAdd"),T(t,"unit"),t instanceof R){switch(t){case R.DAYS:return this.plusDays(e);case R.WEEKS:return this.plusWeeks(e);case R.MONTHS:return this.plusMonths(e);case R.YEARS:return this.plusYears(e);case R.DECADES:return this.plusYears(S.safeMultiply(e,10));case R.CENTURIES:return this.plusYears(S.safeMultiply(e,100));case R.MILLENNIA:return this.plusYears(S.safeMultiply(e,1e3));case R.ERAS:return this.with(P.ERA,S.safeAdd(this.getLong(P.ERA),e))}throw new h("Unsupported unit: "+t)}return t.addTo(this,e)},r.plusYears=function(e){if(0===e)return this;var r=P.YEAR.checkValidIntValue(this._year+e);return t._resolvePreviousValid(r,this._month,this._day)},r.plusMonths=function(e){if(0===e)return this;var r=12*this._year+(this._month-1)+e,n=P.YEAR.checkValidIntValue(S.floorDiv(r,12)),i=S.floorMod(r,12)+1;return t._resolvePreviousValid(n,i,this._day)},r.plusWeeks=function(e){return this.plusDays(S.safeMultiply(e,7))},r.plusDays=function(e){if(0===e)return this;var r=S.safeAdd(this.toEpochDay(),e);return t.ofEpochDay(r)},r._minusUnit=function(e,t){return T(e,"amountToSubtract"),T(t,"unit"),this._plusUnit(-1*e,t)},r.minusYears=function(e){return this.plusYears(-1*e)},r.minusMonths=function(e){return this.plusMonths(-1*e)},r.minusWeeks=function(e){return this.plusWeeks(-1*e)},r.minusDays=function(e){return this.plusDays(-1*e)},r.query=function(t){return(T(t,"query"),t===M.localDate())?this:e.prototype.query.call(this,t)},r.adjustInto=function(t){return e.prototype.adjustInto.call(this,t)},r.until=function(e,t){return arguments.length<2?this.until1(e):this.until2(e,t)},r.until2=function(e,r){var n=t.from(e);if(r instanceof R){switch(r){case R.DAYS:return this.daysUntil(n);case R.WEEKS:return S.intDiv(this.daysUntil(n),7);case R.MONTHS:return this._monthsUntil(n);case R.YEARS:return S.intDiv(this._monthsUntil(n),12);case R.DECADES:return S.intDiv(this._monthsUntil(n),120);case R.CENTURIES:return S.intDiv(this._monthsUntil(n),1200);case R.MILLENNIA:return S.intDiv(this._monthsUntil(n),12e3);case R.ERAS:return n.getLong(P.ERA)-this.getLong(P.ERA)}throw new h("Unsupported unit: "+r)}return r.between(this,n)},r.daysUntil=function(e){return e.toEpochDay()-this.toEpochDay()},r._monthsUntil=function(e){var t=32*this._prolepticMonth()+this.dayOfMonth(),r=32*e._prolepticMonth()+e.dayOfMonth();return S.intDiv(r-t,32)},r.until1=function(e){var r=t.from(e),n=r._prolepticMonth()-this._prolepticMonth(),i=r._day-this._day;if(n>0&&i<0){n--;var o=this.plusMonths(n);i=r.toEpochDay()-o.toEpochDay()}else n<0&&i>0&&(n++,i-=r.lengthOfMonth());var s=S.intDiv(n,12),a=S.intMod(n,12);return j.of(s,a,i)},r.atTime=function(){return 1==arguments.length?this.atTime1.apply(this,arguments):this.atTime4.apply(this,arguments)},r.atTime1=function(e){if(T(e,"time"),e instanceof e8)return e4.of(this,e);if(e instanceof eX)return this._atTimeOffsetTime(e);throw new f("time must be an instance of LocalTime or OffsetTime"+(e&&e.constructor&&e.constructor.name?", but is "+e.constructor.name:""))},r.atTime4=function(e,t,r,n){return void 0===r&&(r=0),void 0===n&&(n=0),this.atTime1(e8.of(e,t,r,n))},r._atTimeOffsetTime=function(e){return e1.of(e4.of(this,e.toLocalTime()),e.offset())},r.atStartOfDay=function(e){return null!=e?this._atStartOfDayWithZone(e):e4.of(this,e8.MIDNIGHT)},r._atStartOfDayWithZone=function(e){T(e,"zone");var t=this.atTime(e8.MIDNIGHT);if(e instanceof J==!1){var r=e.rules().transition(t);null!=r&&r.isGap()&&(t=r.dateTimeAfter())}return e0.of(t,e)},r.toEpochDay=function(){var e,t=this._year,r=this._month;return e=0+365*t,t>=0?e+=S.intDiv(t+3,4)-S.intDiv(t+99,100)+S.intDiv(t+399,400):e-=S.intDiv(t,-4)-S.intDiv(t,-100)+S.intDiv(t,-400),e+=S.intDiv(367*r-362,12)+(this.dayOfMonth()-1),r>2&&(e--,!eQ.isLeapYear(t)&&e--),e-719528},r.compareTo=function(e){return T(e,"other"),b(e,t,"other"),this._compareTo0(e)},r._compareTo0=function(e){var t=this._year-e._year;return 0===t&&0==(t=this._month-e._month)&&(t=this._day-e._day),t},r.isAfter=function(e){return this.compareTo(e)>0},r.isBefore=function(e){return 0>this.compareTo(e)},r.isEqual=function(e){return 0===this.compareTo(e)},r.equals=function(e){return this===e||e instanceof t&&0===this._compareTo0(e)},r.hashCode=function(){var e=this._year,t=this._month,r=this._day;return S.hash(4294965248&e^(e<<11)+(t<<6)+r)},r.toString=function(){var e=this._year,t=this._month,r=this._day;return(1e3>Math.abs(e)?e<0?"-"+(""+(e-1e4)).slice(-4):(""+(e+1e4)).slice(-4):e>9999?"+"+e:""+e)+(t<10?"-0"+t:"-"+t)+(r<10?"-0"+r:"-"+r)},r.toJSON=function(){return this.toString()},r.format=function(t){return T(t,"formatter"),b(t,eY,"formatter"),e.prototype.format.call(this,t)},t}(z),e5=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.chronology=function(){return this.toLocalDate().chronology()},r.query=function(t){return t===M.chronology()?this.chronology():t===M.precision()?R.NANOS:t===M.localDate()?e2.ofEpochDay(this.toLocalDate().toEpochDay()):t===M.localTime()?this.toLocalTime():t===M.zone()||t===M.zoneId()||t===M.offset()?null:e.prototype.query.call(this,t)},r.adjustInto=function(e){return e.with(P.EPOCH_DAY,this.toLocalDate().toEpochDay()).with(P.NANO_OF_DAY,this.toLocalTime().toNanoOfDay())},r.toInstant=function(e){return b(e,J,"zoneId"),e6.ofEpochSecond(this.toEpochSecond(e),this.toLocalTime().nano())},r.toEpochSecond=function(e){T(e,"offset");var t=86400*this.toLocalDate().toEpochDay()+this.toLocalTime().toSecondOfDay();return t-=e.totalSeconds(),S.safeToInt(t)},t}($),e4=function(e){function t(t,r){var n;return n=e.call(this)||this,b(t,e2,"date"),b(r,e8,"time"),n._date=t,n._time=r,n}g(t,e),t.now=function(e){return null==e?t._now(e3.systemDefaultZone()):e instanceof e3?t._now(e):t._now(e3.system(e))},t._now=function(e){return T(e,"clock"),t.ofInstant(e.instant(),e.zone())},t._ofEpochMillis=function(e,r){var n=S.floorDiv(e,1e3)+r.totalSeconds(),i=S.floorDiv(n,e8.SECONDS_PER_DAY),o=S.floorMod(n,e8.SECONDS_PER_DAY),s=1e6*S.floorMod(e,1e3);return new t(e2.ofEpochDay(i),e8.ofSecondOfDay(o,s))},t.of=function(){return arguments.length<=2?t.ofDateAndTime.apply(this,arguments):t.ofNumbers.apply(this,arguments)},t.ofNumbers=function(e,r,n,i,o,s,a){return void 0===i&&(i=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===a&&(a=0),new t(e2.of(e,r,n),e8.of(i,o,s,a))},t.ofDateAndTime=function(e,r){return T(e,"date"),T(r,"time"),new t(e,r)},t.ofInstant=function(e,r){void 0===r&&(r=G.systemDefault()),T(e,"instant"),b(e,e6,"instant"),T(r,"zone");var n=r.rules().offset(e);return t.ofEpochSecond(e.epochSecond(),e.nano(),n)},t.ofEpochSecond=function(e,r,n){void 0===e&&(e=0),void 0===r&&(r=0),2==arguments.length&&r instanceof J&&(n=r,r=0),T(n,"offset");var i=e+n.totalSeconds(),o=S.floorDiv(i,e8.SECONDS_PER_DAY),s=S.floorMod(i,e8.SECONDS_PER_DAY);return new t(e2.ofEpochDay(o),e8.ofSecondOfDay(s,r))},t.from=function(e){if(T(e,"temporal"),e instanceof t)return e;if(e instanceof e0)return e.toLocalDateTime();try{var r=e2.from(e),n=e8.from(e);return new t(r,n)}catch(t){throw new c("Unable to obtain LocalDateTime TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""))}},t.parse=function(e,r){return void 0===r&&(r=eY.ISO_LOCAL_DATE_TIME),T(r,"formatter"),r.parse(e,t.FROM)};var r=t.prototype;return r._withDateTime=function(e,r){return this._date.equals(e)&&this._time.equals(r)?this:new t(e,r)},r.isSupported=function(e){return e instanceof P?e.isDateBased()||e.isTimeBased():e instanceof R?e.isDateBased()||e.isTimeBased():null!=e&&e.isSupportedBy(this)},r.range=function(e){return e instanceof P?e.isTimeBased()?this._time.range(e):this._date.range(e):e.rangeRefinedBy(this)},r.get=function(t){return t instanceof P?t.isTimeBased()?this._time.get(t):this._date.get(t):e.prototype.get.call(this,t)},r.getLong=function(e){return(T(e,"field"),e instanceof P)?e.isTimeBased()?this._time.getLong(e):this._date.getLong(e):e.getFrom(this)},r.year=function(){return this._date.year()},r.monthValue=function(){return this._date.monthValue()},r.month=function(){return this._date.month()},r.dayOfMonth=function(){return this._date.dayOfMonth()},r.dayOfYear=function(){return this._date.dayOfYear()},r.dayOfWeek=function(){return this._date.dayOfWeek()},r.hour=function(){return this._time.hour()},r.minute=function(){return this._time.minute()},r.second=function(){return this._time.second()},r.nano=function(){return this._time.nano()},r._withAdjuster=function(r){return(T(r,"adjuster"),r instanceof e2)?this._withDateTime(r,this._time):r instanceof e8?this._withDateTime(this._date,r):r instanceof t?r:e.prototype._withAdjuster.call(this,r)},r._withField=function(e,t){return(T(e,"field"),e instanceof P)?e.isTimeBased()?this._withDateTime(this._date,this._time.with(e,t)):this._withDateTime(this._date.with(e,t),this._time):e.adjustInto(this,t)},r.withYear=function(e){return this._withDateTime(this._date.withYear(e),this._time)},r.withMonth=function(e){return this._withDateTime(this._date.withMonth(e),this._time)},r.withDayOfMonth=function(e){return this._withDateTime(this._date.withDayOfMonth(e),this._time)},r.withDayOfYear=function(e){return this._withDateTime(this._date.withDayOfYear(e),this._time)},r.withHour=function(e){var t=this._time.withHour(e);return this._withDateTime(this._date,t)},r.withMinute=function(e){var t=this._time.withMinute(e);return this._withDateTime(this._date,t)},r.withSecond=function(e){var t=this._time.withSecond(e);return this._withDateTime(this._date,t)},r.withNano=function(e){var t=this._time.withNano(e);return this._withDateTime(this._date,t)},r.truncatedTo=function(e){return this._withDateTime(this._date,this._time.truncatedTo(e))},r._plusUnit=function(e,t){if(T(t,"unit"),t instanceof R){switch(t){case R.NANOS:return this.plusNanos(e);case R.MICROS:return this.plusDays(S.intDiv(e,e8.MICROS_PER_DAY)).plusNanos(1e3*S.intMod(e,e8.MICROS_PER_DAY));case R.MILLIS:return this.plusDays(S.intDiv(e,e8.MILLIS_PER_DAY)).plusNanos(1e6*S.intMod(e,e8.MILLIS_PER_DAY));case R.SECONDS:return this.plusSeconds(e);case R.MINUTES:return this.plusMinutes(e);case R.HOURS:return this.plusHours(e);case R.HALF_DAYS:return this.plusDays(S.intDiv(e,256)).plusHours(12*S.intMod(e,256))}return this._withDateTime(this._date.plus(e,t),this._time)}return t.addTo(this,e)},r.plusYears=function(e){var t=this._date.plusYears(e);return this._withDateTime(t,this._time)},r.plusMonths=function(e){var t=this._date.plusMonths(e);return this._withDateTime(t,this._time)},r.plusWeeks=function(e){var t=this._date.plusWeeks(e);return this._withDateTime(t,this._time)},r.plusDays=function(e){var t=this._date.plusDays(e);return this._withDateTime(t,this._time)},r.plusHours=function(e){return this._plusWithOverflow(this._date,e,0,0,0,1)},r.plusMinutes=function(e){return this._plusWithOverflow(this._date,0,e,0,0,1)},r.plusSeconds=function(e){return this._plusWithOverflow(this._date,0,0,e,0,1)},r.plusNanos=function(e){return this._plusWithOverflow(this._date,0,0,0,e,1)},r._minusUnit=function(e,t){return T(t,"unit"),this._plusUnit(-1*e,t)},r.minusYears=function(e){return this.plusYears(-1*e)},r.minusMonths=function(e){return this.plusMonths(-1*e)},r.minusWeeks=function(e){return this.plusWeeks(-1*e)},r.minusDays=function(e){return this.plusDays(-1*e)},r.minusHours=function(e){return this._plusWithOverflow(this._date,e,0,0,0,-1)},r.minusMinutes=function(e){return this._plusWithOverflow(this._date,0,e,0,0,-1)},r.minusSeconds=function(e){return this._plusWithOverflow(this._date,0,0,e,0,-1)},r.minusNanos=function(e){return this._plusWithOverflow(this._date,0,0,0,e,-1)},r._plusWithOverflow=function(e,t,r,n,i,o){if(0===t&&0===r&&0===n&&0===i)return this._withDateTime(e,this._time);var s=S.intDiv(i,e8.NANOS_PER_DAY)+S.intDiv(n,e8.SECONDS_PER_DAY)+S.intDiv(r,e8.MINUTES_PER_DAY)+S.intDiv(t,e8.HOURS_PER_DAY);s*=o;var a=S.intMod(i,e8.NANOS_PER_DAY)+S.intMod(n,e8.SECONDS_PER_DAY)*e8.NANOS_PER_SECOND+S.intMod(r,e8.MINUTES_PER_DAY)*e8.NANOS_PER_MINUTE+S.intMod(t,e8.HOURS_PER_DAY)*e8.NANOS_PER_HOUR,l=this._time.toNanoOfDay();a=a*o+l,s+=S.floorDiv(a,e8.NANOS_PER_DAY);var c=S.floorMod(a,e8.NANOS_PER_DAY),u=c===l?this._time:e8.ofNanoOfDay(c);return this._withDateTime(e.plusDays(s),u)},r.query=function(t){return(T(t,"query"),t===M.localDate())?this.toLocalDate():e.prototype.query.call(this,t)},r.adjustInto=function(t){return e.prototype.adjustInto.call(this,t)},r.until=function(e,r){T(e,"endExclusive"),T(r,"unit");var n=t.from(e);if(r instanceof R){if(r.isTimeBased()){var i=this._date.daysUntil(n._date),o=n._time.toNanoOfDay()-this._time.toNanoOfDay();i>0&&o<0?(i--,o+=e8.NANOS_PER_DAY):i<0&&o>0&&(i++,o-=e8.NANOS_PER_DAY);var s=i;switch(r){case R.NANOS:return s=S.safeMultiply(s,e8.NANOS_PER_DAY),S.safeAdd(s,o);case R.MICROS:return s=S.safeMultiply(s,e8.MICROS_PER_DAY),S.safeAdd(s,S.intDiv(o,1e3));case R.MILLIS:return s=S.safeMultiply(s,e8.MILLIS_PER_DAY),S.safeAdd(s,S.intDiv(o,1e6));case R.SECONDS:return s=S.safeMultiply(s,e8.SECONDS_PER_DAY),S.safeAdd(s,S.intDiv(o,e8.NANOS_PER_SECOND));case R.MINUTES:return s=S.safeMultiply(s,e8.MINUTES_PER_DAY),S.safeAdd(s,S.intDiv(o,e8.NANOS_PER_MINUTE));case R.HOURS:return s=S.safeMultiply(s,e8.HOURS_PER_DAY),S.safeAdd(s,S.intDiv(o,e8.NANOS_PER_HOUR));case R.HALF_DAYS:return s=S.safeMultiply(s,2),S.safeAdd(s,S.intDiv(o,12*e8.NANOS_PER_HOUR))}throw new h("Unsupported unit: "+r)}var a=n._date,l=n._time;return a.isAfter(this._date)&&l.isBefore(this._time)?a=a.minusDays(1):a.isBefore(this._date)&&l.isAfter(this._time)&&(a=a.plusDays(1)),this._date.until(a,r)}return r.between(this,n)},r.atOffset=function(e){return e1.of(this,e)},r.atZone=function(e){return e0.of(this,e)},r.toLocalDate=function(){return this._date},r.toLocalTime=function(){return this._time},r.compareTo=function(e){return T(e,"other"),b(e,t,"other"),this._compareTo0(e)},r._compareTo0=function(e){var t=this._date.compareTo(e.toLocalDate());return 0===t&&(t=this._time.compareTo(e.toLocalTime())),t},r.isAfter=function(e){return this.compareTo(e)>0},r.isBefore=function(e){return 0>this.compareTo(e)},r.isEqual=function(e){return 0===this.compareTo(e)},r.equals=function(e){return this===e||e instanceof t&&this._date.equals(e._date)&&this._time.equals(e._time)},r.hashCode=function(){return this._date.hashCode()^this._time.hashCode()},r.toString=function(){return this._date.toString()+"T"+this._time.toString()},r.toJSON=function(){return this.toString()},r.format=function(e){return T(e,"formatter"),e.format(this)},t}(e5),e8=function(e){function t(r,n,i,o){void 0===r&&(r=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===o&&(o=0),s=e.call(this)||this;var s,a=S.safeToInt(r),l=S.safeToInt(n),c=S.safeToInt(i),u=S.safeToInt(o);return(t._validate(a,l,c,u),0===l&&0===c&&0===u)?(t.HOURS[a]||(s._hour=a,s._minute=l,s._second=c,s._nano=u,t.HOURS[a]=_(s)),t.HOURS[a]||_(s)):(s._hour=a,s._minute=l,s._second=c,s._nano=u,s)}g(t,e),t.now=function(e){return null==e?t._now(e3.systemDefaultZone()):e instanceof e3?t._now(e):t._now(e3.system(e))},t._now=function(e){return void 0===e&&(e=e3.systemDefaultZone()),T(e,"clock"),t.ofInstant(e.instant(),e.zone())},t.ofInstant=function(e,r){void 0===r&&(r=G.systemDefault());var n=r.rules().offset(e),i=S.intMod(e.epochSecond(),t.SECONDS_PER_DAY);return(i=S.intMod(i+n.totalSeconds(),t.SECONDS_PER_DAY))<0&&(i+=t.SECONDS_PER_DAY),t.ofSecondOfDay(i,e.nano())},t.of=function(e,r,n,i){return new t(e,r,n,i)},t.ofSecondOfDay=function(e,r){void 0===e&&(e=0),void 0===r&&(r=0),P.SECOND_OF_DAY.checkValidValue(e),P.NANO_OF_SECOND.checkValidValue(r);var n=S.intDiv(e,t.SECONDS_PER_HOUR);e-=n*t.SECONDS_PER_HOUR;var i=S.intDiv(e,t.SECONDS_PER_MINUTE);return e-=i*t.SECONDS_PER_MINUTE,new t(n,i,e,r)},t.ofNanoOfDay=function(e){void 0===e&&(e=0),P.NANO_OF_DAY.checkValidValue(e);var r=S.intDiv(e,t.NANOS_PER_HOUR);e-=r*t.NANOS_PER_HOUR;var n=S.intDiv(e,t.NANOS_PER_MINUTE);e-=n*t.NANOS_PER_MINUTE;var i=S.intDiv(e,t.NANOS_PER_SECOND);return e-=i*t.NANOS_PER_SECOND,new t(r,n,i,e)},t.from=function(e){T(e,"temporal");var t=e.query(M.localTime());if(null==t)throw new c("Unable to obtain LocalTime TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""));return t},t.parse=function(e,r){return void 0===r&&(r=eY.ISO_LOCAL_TIME),T(r,"formatter"),r.parse(e,t.FROM)},t._validate=function(e,t,r,n){P.HOUR_OF_DAY.checkValidValue(e),P.MINUTE_OF_HOUR.checkValidValue(t),P.SECOND_OF_MINUTE.checkValidValue(r),P.NANO_OF_SECOND.checkValidValue(n)};var r=t.prototype;return r.isSupported=function(e){return e instanceof P?e.isTimeBased():e instanceof R?e.isTimeBased():null!=e&&e.isSupportedBy(this)},r.range=function(t){return T(t),e.prototype.range.call(this,t)},r.get=function(e){return this.getLong(e)},r.getLong=function(e){return(T(e,"field"),e instanceof P)?this._get0(e):e.getFrom(this)},r._get0=function(e){switch(e){case P.NANO_OF_SECOND:return this._nano;case P.NANO_OF_DAY:return this.toNanoOfDay();case P.MICRO_OF_SECOND:return S.intDiv(this._nano,1e3);case P.MICRO_OF_DAY:return S.intDiv(this.toNanoOfDay(),1e3);case P.MILLI_OF_SECOND:return S.intDiv(this._nano,1e6);case P.MILLI_OF_DAY:return S.intDiv(this.toNanoOfDay(),1e6);case P.SECOND_OF_MINUTE:return this._second;case P.SECOND_OF_DAY:return this.toSecondOfDay();case P.MINUTE_OF_HOUR:return this._minute;case P.MINUTE_OF_DAY:return 60*this._hour+this._minute;case P.HOUR_OF_AMPM:return S.intMod(this._hour,12);case P.CLOCK_HOUR_OF_AMPM:var t=S.intMod(this._hour,12);return t%12==0?12:t;case P.HOUR_OF_DAY:return this._hour;case P.CLOCK_HOUR_OF_DAY:return 0===this._hour?24:this._hour;case P.AMPM_OF_DAY:return S.intDiv(this._hour,12)}throw new h("Unsupported field: "+e)},r.hour=function(){return this._hour},r.minute=function(){return this._minute},r.second=function(){return this._second},r.nano=function(){return this._nano},r._withAdjuster=function(r){return(T(r,"adjuster"),r instanceof t)?r:e.prototype._withAdjuster.call(this,r)},r._withField=function(e,r){if(T(e,"field"),b(e,D,"field"),e instanceof P){switch(e.checkValidValue(r),e){case P.NANO_OF_SECOND:return this.withNano(r);case P.NANO_OF_DAY:return t.ofNanoOfDay(r);case P.MICRO_OF_SECOND:return this.withNano(1e3*r);case P.MICRO_OF_DAY:return t.ofNanoOfDay(1e3*r);case P.MILLI_OF_SECOND:return this.withNano(1e6*r);case P.MILLI_OF_DAY:return t.ofNanoOfDay(1e6*r);case P.SECOND_OF_MINUTE:return this.withSecond(r);case P.SECOND_OF_DAY:return this.plusSeconds(r-this.toSecondOfDay());case P.MINUTE_OF_HOUR:return this.withMinute(r);case P.MINUTE_OF_DAY:return this.plusMinutes(r-(60*this._hour+this._minute));case P.HOUR_OF_AMPM:return this.plusHours(r-S.intMod(this._hour,12));case P.CLOCK_HOUR_OF_AMPM:return this.plusHours((12===r?0:r)-S.intMod(this._hour,12));case P.HOUR_OF_DAY:return this.withHour(r);case P.CLOCK_HOUR_OF_DAY:return this.withHour(24===r?0:r);case P.AMPM_OF_DAY:return this.plusHours((r-S.intDiv(this._hour,12))*12)}throw new h("Unsupported field: "+e)}return e.adjustInto(this,r)},r.withHour=function(e){return(void 0===e&&(e=0),this._hour===e)?this:new t(e,this._minute,this._second,this._nano)},r.withMinute=function(e){return(void 0===e&&(e=0),this._minute===e)?this:new t(this._hour,e,this._second,this._nano)},r.withSecond=function(e){return(void 0===e&&(e=0),this._second===e)?this:new t(this._hour,this._minute,e,this._nano)},r.withNano=function(e){return(void 0===e&&(e=0),this._nano===e)?this:new t(this._hour,this._minute,this._second,e)},r.truncatedTo=function(e){if(T(e,"unit"),e===R.NANOS)return this;var r=e.duration();if(r.seconds()>t.SECONDS_PER_DAY)throw new c("Unit is too large to be used for truncation");var n=r.toNanos();if(0!==S.intMod(t.NANOS_PER_DAY,n))throw new c("Unit must divide into a standard day without remainder");var i=this.toNanoOfDay();return t.ofNanoOfDay(S.intDiv(i,n)*n)},r._plusUnit=function(e,r){if(T(r,"unit"),r instanceof R){switch(r){case R.NANOS:return this.plusNanos(e);case R.MICROS:return this.plusNanos(1e3*S.intMod(e,t.MICROS_PER_DAY));case R.MILLIS:return this.plusNanos(1e6*S.intMod(e,t.MILLIS_PER_DAY));case R.SECONDS:return this.plusSeconds(e);case R.MINUTES:return this.plusMinutes(e);case R.HOURS:return this.plusHours(e);case R.HALF_DAYS:return this.plusHours(12*S.intMod(e,2))}throw new h("Unsupported unit: "+r)}return r.addTo(this,e)},r.plusHours=function(e){if(0===e)return this;var r=S.intMod(S.intMod(e,t.HOURS_PER_DAY)+this._hour+t.HOURS_PER_DAY,t.HOURS_PER_DAY);return new t(r,this._minute,this._second,this._nano)},r.plusMinutes=function(e){if(0===e)return this;var r=this._hour*t.MINUTES_PER_HOUR+this._minute,n=S.intMod(S.intMod(e,t.MINUTES_PER_DAY)+r+t.MINUTES_PER_DAY,t.MINUTES_PER_DAY);if(r===n)return this;var i=S.intDiv(n,t.MINUTES_PER_HOUR),o=S.intMod(n,t.MINUTES_PER_HOUR);return new t(i,o,this._second,this._nano)},r.plusSeconds=function(e){if(0===e)return this;var r=this._hour*t.SECONDS_PER_HOUR+this._minute*t.SECONDS_PER_MINUTE+this._second,n=S.intMod(S.intMod(e,t.SECONDS_PER_DAY)+r+t.SECONDS_PER_DAY,t.SECONDS_PER_DAY);if(r===n)return this;var i=S.intDiv(n,t.SECONDS_PER_HOUR),o=S.intMod(S.intDiv(n,t.SECONDS_PER_MINUTE),t.MINUTES_PER_HOUR),s=S.intMod(n,t.SECONDS_PER_MINUTE);return new t(i,o,s,this._nano)},r.plusNanos=function(e){if(0===e)return this;var r=this.toNanoOfDay(),n=S.intMod(S.intMod(e,t.NANOS_PER_DAY)+r+t.NANOS_PER_DAY,t.NANOS_PER_DAY);if(r===n)return this;var i=S.intDiv(n,t.NANOS_PER_HOUR),o=S.intMod(S.intDiv(n,t.NANOS_PER_MINUTE),t.MINUTES_PER_HOUR),s=S.intMod(S.intDiv(n,t.NANOS_PER_SECOND),t.SECONDS_PER_MINUTE),a=S.intMod(n,t.NANOS_PER_SECOND);return new t(i,o,s,a)},r._minusUnit=function(e,t){return T(t,"unit"),this._plusUnit(-1*e,t)},r.minusHours=function(e){return this.plusHours(-1*S.intMod(e,t.HOURS_PER_DAY))},r.minusMinutes=function(e){return this.plusMinutes(-1*S.intMod(e,t.MINUTES_PER_DAY))},r.minusSeconds=function(e){return this.plusSeconds(-1*S.intMod(e,t.SECONDS_PER_DAY))},r.minusNanos=function(e){return this.plusNanos(-1*S.intMod(e,t.NANOS_PER_DAY))},r.query=function(e){return(T(e,"query"),e===M.precision())?R.NANOS:e===M.localTime()?this:e===M.chronology()||e===M.zoneId()||e===M.zone()||e===M.offset()||e===M.localDate()?null:e.queryFrom(this)},r.adjustInto=function(e){return e.with(t.NANO_OF_DAY,this.toNanoOfDay())},r.until=function(e,r){T(e,"endExclusive"),T(r,"unit");var n=t.from(e);if(r instanceof R){var i=n.toNanoOfDay()-this.toNanoOfDay();switch(r){case R.NANOS:return i;case R.MICROS:return S.intDiv(i,1e3);case R.MILLIS:return S.intDiv(i,1e6);case R.SECONDS:return S.intDiv(i,t.NANOS_PER_SECOND);case R.MINUTES:return S.intDiv(i,t.NANOS_PER_MINUTE);case R.HOURS:return S.intDiv(i,t.NANOS_PER_HOUR);case R.HALF_DAYS:return S.intDiv(i,12*t.NANOS_PER_HOUR)}throw new h("Unsupported unit: "+r)}return r.between(this,n)},r.atDate=function(e){return e4.of(e,this)},r.atOffset=function(e){return eX.of(this,e)},r.toSecondOfDay=function(){return this._hour*t.SECONDS_PER_HOUR+(this._minute*t.SECONDS_PER_MINUTE+this._second)},r.toNanoOfDay=function(){return this._hour*t.NANOS_PER_HOUR+(this._minute*t.NANOS_PER_MINUTE+this._second*t.NANOS_PER_SECOND+this._nano)},r.compareTo=function(e){T(e,"other"),b(e,t,"other");var r=S.compareNumbers(this._hour,e._hour);return 0===r&&0===(r=S.compareNumbers(this._minute,e._minute))&&0===(r=S.compareNumbers(this._second,e._second))&&(r=S.compareNumbers(this._nano,e._nano)),r},r.isAfter=function(e){return this.compareTo(e)>0},r.isBefore=function(e){return 0>this.compareTo(e)},r.equals=function(e){return this===e||e instanceof t&&this._hour===e._hour&&this._minute===e._minute&&this._second===e._second&&this._nano===e._nano},r.hashCode=function(){var e=this.toNanoOfDay();return S.hash(e)},r.toString=function(){var e="",t=this._hour,r=this._minute,n=this._second,i=this._nano;return e+=(t<10?"0":"")+t+(r<10?":0":":")+r,(n>0||i>0)&&(e+=(n<10?":0":":")+n,i>0&&(e+=".",0===S.intMod(i,1e6)?e+=(""+(S.intDiv(i,1e6)+1e3)).substring(1):0===S.intMod(i,1e3)?e+=(""+(S.intDiv(i,1e3)+1e6)).substring(1):e+=(""+(i+1e9)).substring(1))),e},r.toJSON=function(){return this.toString()},r.format=function(e){return T(e,"formatter"),e.format(this)},t}($);e8.HOURS_PER_DAY=24,e8.MINUTES_PER_HOUR=60,e8.MINUTES_PER_DAY=e8.MINUTES_PER_HOUR*e8.HOURS_PER_DAY,e8.SECONDS_PER_MINUTE=60,e8.SECONDS_PER_HOUR=e8.SECONDS_PER_MINUTE*e8.MINUTES_PER_HOUR,e8.SECONDS_PER_DAY=e8.SECONDS_PER_HOUR*e8.HOURS_PER_DAY,e8.MILLIS_PER_DAY=1e3*e8.SECONDS_PER_DAY,e8.MICROS_PER_DAY=1e6*e8.SECONDS_PER_DAY,e8.NANOS_PER_SECOND=1e9,e8.NANOS_PER_MINUTE=e8.NANOS_PER_SECOND*e8.SECONDS_PER_MINUTE,e8.NANOS_PER_HOUR=e8.NANOS_PER_MINUTE*e8.MINUTES_PER_HOUR,e8.NANOS_PER_DAY=e8.NANOS_PER_HOUR*e8.HOURS_PER_DAY;var e6=function(e){function t(r,n){var i;return i=e.call(this)||this,t._validate(r,n),i._seconds=S.safeToInt(r),i._nanos=S.safeToInt(n),i}g(t,e),t.now=function(e){return void 0===e&&(e=e3.systemUTC()),e.instant()},t.ofEpochSecond=function(e,r){void 0===r&&(r=0);var n=e+S.floorDiv(r,e8.NANOS_PER_SECOND),i=S.floorMod(r,e8.NANOS_PER_SECOND);return t._create(n,i)},t.ofEpochMilli=function(e){var r=S.floorDiv(e,1e3),n=S.floorMod(e,1e3);return t._create(r,1e6*n)},t.ofEpochMicro=function(e){var r=S.floorDiv(e,1e6),n=S.floorMod(e,1e6);return t._create(r,1e3*n)},t.from=function(e){try{var r=e.getLong(P.INSTANT_SECONDS),n=e.get(P.NANO_OF_SECOND);return t.ofEpochSecond(r,n)}catch(t){throw new c("Unable to obtain Instant from TemporalAccessor: "+e+", type "+typeof e,t)}},t.parse=function(e){return eY.ISO_INSTANT.parse(e,t.FROM)},t._create=function(e,r){return 0===e&&0===r?t.EPOCH:new t(e,r)},t._validate=function(e,r){if(e<t.MIN_SECONDS||e>t.MAX_SECONDS||r<0||r>e8.NANOS_PER_SECOND)throw new c("Instant exceeds minimum or maximum instant")};var r=t.prototype;return r.isSupported=function(e){return e instanceof P?e===P.INSTANT_SECONDS||e===P.NANO_OF_SECOND||e===P.MICRO_OF_SECOND||e===P.MILLI_OF_SECOND:e instanceof R?e.isTimeBased()||e===R.DAYS:null!=e&&e.isSupportedBy(this)},r.range=function(t){return e.prototype.range.call(this,t)},r.get=function(e){return this.getLong(e)},r.getLong=function(e){if(e instanceof P){switch(e){case P.NANO_OF_SECOND:return this._nanos;case P.MICRO_OF_SECOND:return S.intDiv(this._nanos,1e3);case P.MILLI_OF_SECOND:return S.intDiv(this._nanos,1e6);case P.INSTANT_SECONDS:return this._seconds}throw new h("Unsupported field: "+e)}return e.getFrom(this)},r.epochSecond=function(){return this._seconds},r.nano=function(){return this._nanos},r._withField=function(e,r){if(T(e,"field"),e instanceof P){switch(e.checkValidValue(r),e){case P.MILLI_OF_SECOND:var n=1e6*r;return n!==this._nanos?t._create(this._seconds,n):this;case P.MICRO_OF_SECOND:var i=1e3*r;return i!==this._nanos?t._create(this._seconds,i):this;case P.NANO_OF_SECOND:return r!==this._nanos?t._create(this._seconds,r):this;case P.INSTANT_SECONDS:return r!==this._seconds?t._create(r,this._nanos):this}throw new h("Unsupported field: "+e)}return e.adjustInto(this,r)},r.truncatedTo=function(e){if(T(e,"unit"),e===R.NANOS)return this;var t=e.duration();if(t.seconds()>e8.SECONDS_PER_DAY)throw new c("Unit is too large to be used for truncation");var r=t.toNanos();if(0!==S.intMod(e8.NANOS_PER_DAY,r))throw new c("Unit must divide into a standard day without remainder");var n=S.intMod(this._seconds,e8.SECONDS_PER_DAY)*e8.NANOS_PER_SECOND+this._nanos,i=S.intDiv(n,r)*r;return this.plusNanos(i-n)},r._plusUnit=function(e,t){if(T(e,"amountToAdd"),T(t,"unit"),b(t,C),t instanceof R){switch(t){case R.NANOS:return this.plusNanos(e);case R.MICROS:return this.plusMicros(e);case R.MILLIS:return this.plusMillis(e);case R.SECONDS:return this.plusSeconds(e);case R.MINUTES:return this.plusSeconds(S.safeMultiply(e,e8.SECONDS_PER_MINUTE));case R.HOURS:return this.plusSeconds(S.safeMultiply(e,e8.SECONDS_PER_HOUR));case R.HALF_DAYS:return this.plusSeconds(S.safeMultiply(e,e8.SECONDS_PER_DAY/2));case R.DAYS:return this.plusSeconds(S.safeMultiply(e,e8.SECONDS_PER_DAY))}throw new h("Unsupported unit: "+t)}return t.addTo(this,e)},r.plusSeconds=function(e){return this._plus(e,0)},r.plusMillis=function(e){return this._plus(S.intDiv(e,1e3),1e6*S.intMod(e,1e3))},r.plusNanos=function(e){return this._plus(0,e)},r.plusMicros=function(e){return this._plus(S.intDiv(e,1e6),1e3*S.intMod(e,1e6))},r._plus=function(e,r){if(0===e&&0===r)return this;var n=this._seconds+e;n+=S.intDiv(r,e8.NANOS_PER_SECOND);var i=this._nanos+r%e8.NANOS_PER_SECOND;return t.ofEpochSecond(n,i)},r._minusUnit=function(e,t){return this._plusUnit(-1*e,t)},r.minusSeconds=function(e){return this.plusSeconds(-1*e)},r.minusMillis=function(e){return this.plusMillis(-1*e)},r.minusNanos=function(e){return this.plusNanos(-1*e)},r.minusMicros=function(e){return this.plusMicros(-1*e)},r.query=function(e){return(T(e,"query"),e===M.precision())?R.NANOS:e===M.localDate()||e===M.localTime()||e===M.chronology()||e===M.zoneId()||e===M.zone()||e===M.offset()?null:e.queryFrom(this)},r.adjustInto=function(e){return T(e,"temporal"),e.with(P.INSTANT_SECONDS,this._seconds).with(P.NANO_OF_SECOND,this._nanos)},r.until=function(e,r){T(e,"endExclusive"),T(r,"unit");var n=t.from(e);if(r instanceof R){switch(r){case R.NANOS:return this._nanosUntil(n);case R.MICROS:return this._microsUntil(n);case R.MILLIS:return S.safeSubtract(n.toEpochMilli(),this.toEpochMilli());case R.SECONDS:return this._secondsUntil(n);case R.MINUTES:return S.intDiv(this._secondsUntil(n),e8.SECONDS_PER_MINUTE);case R.HOURS:return S.intDiv(this._secondsUntil(n),e8.SECONDS_PER_HOUR);case R.HALF_DAYS:return S.intDiv(this._secondsUntil(n),12*e8.SECONDS_PER_HOUR);case R.DAYS:return S.intDiv(this._secondsUntil(n),e8.SECONDS_PER_DAY)}throw new h("Unsupported unit: "+r)}return r.between(this,n)},r._microsUntil=function(e){var t=S.safeSubtract(e.epochSecond(),this.epochSecond()),r=S.safeMultiply(t,1e6);return S.safeAdd(r,S.intDiv(e.nano()-this.nano(),1e3))},r._nanosUntil=function(e){var t=S.safeSubtract(e.epochSecond(),this.epochSecond()),r=S.safeMultiply(t,e8.NANOS_PER_SECOND);return S.safeAdd(r,e.nano()-this.nano())},r._secondsUntil=function(e){var t=S.safeSubtract(e.epochSecond(),this.epochSecond()),r=e.nano()-this.nano();return t>0&&r<0?t--:t<0&&r>0&&t++,t},r.atOffset=function(e){return e1.ofInstant(this,e)},r.atZone=function(e){return e0.ofInstant(this,e)},r.toEpochMilli=function(){return S.safeMultiply(this._seconds,1e3)+S.intDiv(this._nanos,1e6)},r.compareTo=function(e){T(e,"otherInstant"),b(e,t,"otherInstant");var r=S.compareNumbers(this._seconds,e._seconds);return 0!==r?r:this._nanos-e._nanos},r.isAfter=function(e){return this.compareTo(e)>0},r.isBefore=function(e){return 0>this.compareTo(e)},r.equals=function(e){return this===e||e instanceof t&&this.epochSecond()===e.epochSecond()&&this.nano()===e.nano()},r.hashCode=function(){return S.hashCode(this._seconds,this._nanos)},r.toString=function(){return eY.ISO_INSTANT.format(this)},r.toJSON=function(){return this.toString()},t}($),e3=function(){function e(){}e.systemUTC=function(){return new e9(J.UTC)},e.systemDefaultZone=function(){return new e9(G.systemDefault())},e.system=function(e){return new e9(e)},e.fixed=function(e,t){return new e7(e,t)},e.offset=function(e,t){return new te(e,t)};var t=e.prototype;return t.millis=function(){w("Clock.millis")},t.instant=function(){w("Clock.instant")},t.zone=function(){w("Clock.zone")},t.withZone=function(){w("Clock.withZone")},e}(),e9=function(e){function t(t){var r;return T(t,"zone"),(r=e.call(this)||this)._zone=t,r}g(t,e);var r=t.prototype;return r.zone=function(){return this._zone},r.millis=function(){return new Date().getTime()},r.instant=function(){return e6.ofEpochMilli(this.millis())},r.equals=function(e){return e instanceof t&&this._zone.equals(e._zone)},r.withZone=function(e){return e.equals(this._zone)?this:new t(e)},r.toString=function(){return"SystemClock["+this._zone.toString()+"]"},t}(e3),e7=function(e){function t(t,r){var n;return(n=e.call(this)||this)._instant=t,n._zoneId=r,n}g(t,e);var r=t.prototype;return r.instant=function(){return this._instant},r.millis=function(){return this._instant.toEpochMilli()},r.zone=function(){return this._zoneId},r.toString=function(){return"FixedClock[]"},r.equals=function(e){return e instanceof t&&this._instant.equals(e._instant)&&this._zoneId.equals(e._zoneId)},r.withZone=function(e){return e.equals(this._zoneId)?this:new t(this._instant,e)},t}(e3),te=function(e){function t(t,r){var n;return(n=e.call(this)||this)._baseClock=t,n._offset=r,n}g(t,e);var r=t.prototype;return r.zone=function(){return this._baseClock.zone()},r.withZone=function(e){return e.equals(this._baseClock.zone())?this:new t(this._baseClock.withZone(e),this._offset)},r.millis=function(){return this._baseClock.millis()+this._offset.toMillis()},r.instant=function(){return this._baseClock.instant().plus(this._offset)},r.equals=function(e){return e instanceof t&&this._baseClock.equals(e._baseClock)&&this._offset.equals(e._offset)},r.toString=function(){return"OffsetClock["+this._baseClock+","+this._offset+"]"},t}(e3),tt=function(){function e(e,t,r){if(T(e,"transition"),T(t,"offsetBefore"),T(r,"offsetAfter"),t.equals(r))throw new f("Offsets must not be equal");if(0!==e.nano())throw new f("Nano-of-second must be zero");e instanceof e4?this._transition=e:this._transition=e4.ofEpochSecond(e,0,t),this._offsetBefore=t,this._offsetAfter=r}e.of=function(t,r,n){return new e(t,r,n)};var t=e.prototype;return t.instant=function(){return this._transition.toInstant(this._offsetBefore)},t.toEpochSecond=function(){return this._transition.toEpochSecond(this._offsetBefore)},t.dateTimeBefore=function(){return this._transition},t.dateTimeAfter=function(){return this._transition.plusSeconds(this.durationSeconds())},t.offsetBefore=function(){return this._offsetBefore},t.offsetAfter=function(){return this._offsetAfter},t.duration=function(){return O.ofSeconds(this.durationSeconds())},t.durationSeconds=function(){return this._offsetAfter.totalSeconds()-this._offsetBefore.totalSeconds()},t.isGap=function(){return this._offsetAfter.totalSeconds()>this._offsetBefore.totalSeconds()},t.isOverlap=function(){return this._offsetAfter.totalSeconds()<this._offsetBefore.totalSeconds()},t.isValidOffset=function(e){return!this.isGap()&&(this._offsetBefore.equals(e)||this._offsetAfter.equals(e))},t.validOffsets=function(){return this.isGap()?[]:[this._offsetBefore,this._offsetAfter]},t.compareTo=function(e){return this.instant().compareTo(e.instant())},t.equals=function(t){return t===this||t instanceof e&&this._transition.equals(t._transition)&&this._offsetBefore.equals(t.offsetBefore())&&this._offsetAfter.equals(t.offsetAfter())},t.hashCode=function(){return this._transition.hashCode()^this._offsetBefore.hashCode()^this._offsetAfter.hashCode()>>>16},t.toString=function(){return"Transition["+(this.isGap()?"Gap":"Overlap")+" at "+this._transition.toString()+this._offsetBefore.toString()+" to "+this._offsetAfter+"]"},e}(),tr=function(e){function t(){return e.apply(this,arguments)||this}g(t,e);var r=t.prototype;return r.isFixedOffset=function(){return!1},r.offsetOfInstant=function(e){var t=new Date(e.toEpochMilli()).getTimezoneOffset();return J.ofTotalMinutes(-1*t)},r.offsetOfEpochMilli=function(e){var t=new Date(e).getTimezoneOffset();return J.ofTotalMinutes(-1*t)},r.offsetOfLocalDateTime=function(e){var t=1e3*e.toEpochSecond(J.UTC),r=new Date(t).getTimezoneOffset(),n=new Date(t+6e4*r).getTimezoneOffset();return J.ofTotalMinutes(-1*n)},r.validOffsets=function(e){return[this.offsetOfLocalDateTime(e)]},r.transition=function(){return null},r.standardOffset=function(e){return this.offsetOfInstant(e)},r.daylightSavings=function(){this._throwNotSupported()},r.isDaylightSavings=function(){this._throwNotSupported()},r.isValidOffset=function(e,t){return this.offsetOfLocalDateTime(e).equals(t)},r.nextTransition=function(){this._throwNotSupported()},r.previousTransition=function(){this._throwNotSupported()},r.transitions=function(){this._throwNotSupported()},r.transitionRules=function(){this._throwNotSupported()},r._throwNotSupported=function(){throw new c("not supported operation")},r.equals=function(e){return this===e||e instanceof t},r.toString=function(){return"SYSTEM"},t}(K),tn=function(e){function t(){var t;return(t=e.call(this)||this)._rules=new tr,t}g(t,e);var r=t.prototype;return r.rules=function(){return this._rules},r.equals=function(e){return this===e},r.id=function(){return"SYSTEM"},t}(G),ti=function(){function e(){}return e.systemDefault=function(){return to},e.getAvailableZoneIds=function(){return ek.getAvailableZoneIds()},e.of=function(e){if(T(e,"zoneId"),"Z"===e)return J.UTC;if(1===e.length)throw new c("Invalid zone: "+e);if(W.startsWith(e,"+")||W.startsWith(e,"-"))return J.of(e);if("UTC"===e||"GMT"===e||"GMT0"===e||"UT"===e)return new eP(e,J.UTC.rules());if(W.startsWith(e,"UTC+")||W.startsWith(e,"GMT+")||W.startsWith(e,"UTC-")||W.startsWith(e,"GMT-")){var t=J.of(e.substring(3));return 0===t.totalSeconds()?new eP(e.substring(0,3),t.rules()):new eP(e.substring(0,3)+t.id(),t.rules())}if(W.startsWith(e,"UT+")||W.startsWith(e,"UT-")){var r=J.of(e.substring(2));return 0===r.totalSeconds()?new eP("UT",r.rules()):new eP("UT"+r.id(),r.rules())}return"SYSTEM"===e?G.systemDefault():eP.ofId(e)},e.ofOffset=function(e,t){if(T(e,"prefix"),T(t,"offset"),0===e.length)return t;if("GMT"===e||"UTC"===e||"UT"===e)return 0===t.totalSeconds()?new eP(e,t.rules()):new eP(e+t.id(),t.rules());throw new f("Invalid prefix, must be GMT, UTC or UT: "+e)},e.from=function(e){T(e,"temporal");var t=e.query(M.zone());if(null==t)throw new c("Unable to obtain ZoneId from TemporalAccessor: "+e+", type "+(null!=e.constructor?e.constructor.name:""));return t},e}(),to=null,ts=!1;N.MIN_VALUE=-999999,N.MAX_VALUE=999999,O.ZERO=new O(0,0),R.NANOS=new R("Nanos",O.ofNanos(1)),R.MICROS=new R("Micros",O.ofNanos(1e3)),R.MILLIS=new R("Millis",O.ofNanos(1e6)),R.SECONDS=new R("Seconds",O.ofSeconds(1)),R.MINUTES=new R("Minutes",O.ofSeconds(60)),R.HOURS=new R("Hours",O.ofSeconds(3600)),R.HALF_DAYS=new R("HalfDays",O.ofSeconds(43200)),R.DAYS=new R("Days",O.ofSeconds(86400)),R.WEEKS=new R("Weeks",O.ofSeconds(604800)),R.MONTHS=new R("Months",O.ofSeconds(2629746)),R.YEARS=new R("Years",O.ofSeconds(31556952)),R.DECADES=new R("Decades",O.ofSeconds(315569520)),R.CENTURIES=new R("Centuries",O.ofSeconds(3155695200)),R.MILLENNIA=new R("Millennia",O.ofSeconds(31556952e3)),R.ERAS=new R("Eras",O.ofSeconds(31556952*(N.MAX_VALUE+1))),R.FOREVER=new R("Forever",O.ofSeconds(S.MAX_SAFE_INTEGER,999999999)),P.NANO_OF_SECOND=new P("NanoOfSecond",R.NANOS,R.SECONDS,k.of(0,999999999)),P.NANO_OF_DAY=new P("NanoOfDay",R.NANOS,R.DAYS,k.of(0,86399999999999)),P.MICRO_OF_SECOND=new P("MicroOfSecond",R.MICROS,R.SECONDS,k.of(0,999999)),P.MICRO_OF_DAY=new P("MicroOfDay",R.MICROS,R.DAYS,k.of(0,86399999999)),P.MILLI_OF_SECOND=new P("MilliOfSecond",R.MILLIS,R.SECONDS,k.of(0,999)),P.MILLI_OF_DAY=new P("MilliOfDay",R.MILLIS,R.DAYS,k.of(0,86399999)),P.SECOND_OF_MINUTE=new P("SecondOfMinute",R.SECONDS,R.MINUTES,k.of(0,59)),P.SECOND_OF_DAY=new P("SecondOfDay",R.SECONDS,R.DAYS,k.of(0,86399)),P.MINUTE_OF_HOUR=new P("MinuteOfHour",R.MINUTES,R.HOURS,k.of(0,59)),P.MINUTE_OF_DAY=new P("MinuteOfDay",R.MINUTES,R.DAYS,k.of(0,1439)),P.HOUR_OF_AMPM=new P("HourOfAmPm",R.HOURS,R.HALF_DAYS,k.of(0,11)),P.CLOCK_HOUR_OF_AMPM=new P("ClockHourOfAmPm",R.HOURS,R.HALF_DAYS,k.of(1,12)),P.HOUR_OF_DAY=new P("HourOfDay",R.HOURS,R.DAYS,k.of(0,23)),P.CLOCK_HOUR_OF_DAY=new P("ClockHourOfDay",R.HOURS,R.DAYS,k.of(1,24)),P.AMPM_OF_DAY=new P("AmPmOfDay",R.HALF_DAYS,R.DAYS,k.of(0,1)),P.DAY_OF_WEEK=new P("DayOfWeek",R.DAYS,R.WEEKS,k.of(1,7)),P.ALIGNED_DAY_OF_WEEK_IN_MONTH=new P("AlignedDayOfWeekInMonth",R.DAYS,R.WEEKS,k.of(1,7)),P.ALIGNED_DAY_OF_WEEK_IN_YEAR=new P("AlignedDayOfWeekInYear",R.DAYS,R.WEEKS,k.of(1,7)),P.DAY_OF_MONTH=new P("DayOfMonth",R.DAYS,R.MONTHS,k.of(1,28,31),"day"),P.DAY_OF_YEAR=new P("DayOfYear",R.DAYS,R.YEARS,k.of(1,365,366)),P.EPOCH_DAY=new P("EpochDay",R.DAYS,R.FOREVER,k.of(-365961662,364522971)),P.ALIGNED_WEEK_OF_MONTH=new P("AlignedWeekOfMonth",R.WEEKS,R.MONTHS,k.of(1,4,5)),P.ALIGNED_WEEK_OF_YEAR=new P("AlignedWeekOfYear",R.WEEKS,R.YEARS,k.of(1,53)),P.MONTH_OF_YEAR=new P("MonthOfYear",R.MONTHS,R.YEARS,k.of(1,12),"month"),P.PROLEPTIC_MONTH=new P("ProlepticMonth",R.MONTHS,R.FOREVER,k.of(12*N.MIN_VALUE,12*N.MAX_VALUE+11)),P.YEAR_OF_ERA=new P("YearOfEra",R.YEARS,R.FOREVER,k.of(1,N.MAX_VALUE,N.MAX_VALUE+1)),P.YEAR=new P("Year",R.YEARS,R.FOREVER,k.of(N.MIN_VALUE,N.MAX_VALUE),"year"),P.ERA=new P("Era",R.ERAS,R.FOREVER,k.of(0,1)),P.INSTANT_SECONDS=new P("InstantSeconds",R.SECONDS,R.FOREVER,k.of(-9007199254740991,9007199254740991)),P.OFFSET_SECONDS=new P("OffsetSeconds",R.SECONDS,R.FOREVER,k.of(-64800,64800)),function(){e8.HOURS=[];for(var e=0;e<24;e++)e8.of(e,0,0,0);e8.MIN=e8.HOURS[0],e8.MAX=new e8(23,59,59,999999999),e8.MIDNIGHT=e8.HOURS[0],e8.NOON=e8.HOURS[12],e8.FROM=U("LocalTime.FROM",function(e){return e8.from(e)})}(),ed=new ea,ef=new el,ep=new ec,em=new eu,eg=new eh("WeekBasedYears",O.ofSeconds(31556952)),ey=new eh("QuarterYears",O.ofSeconds(7889238)),ei.DAY_OF_QUARTER=ed,ei.QUARTER_OF_YEAR=ef,ei.WEEK_OF_WEEK_BASED_YEAR=ep,ei.WEEK_BASED_YEAR=em,ei.WEEK_BASED_YEARS=eg,ei.QUARTER_YEARS=ey,e2.prototype.isoWeekOfWeekyear=function(){return this.get(ei.WEEK_OF_WEEK_BASED_YEAR)},e2.prototype.isoWeekyear=function(){return this.get(ei.WEEK_BASED_YEAR)},M.ZONE_ID=U("ZONE_ID",function(e){return e.query(M.ZONE_ID)}),M.CHRONO=U("CHRONO",function(e){return e.query(M.CHRONO)}),M.PRECISION=U("PRECISION",function(e){return e.query(M.PRECISION)}),M.OFFSET=U("OFFSET",function(e){return e.isSupported(P.OFFSET_SECONDS)?J.ofTotalSeconds(e.get(P.OFFSET_SECONDS)):null}),M.ZONE=U("ZONE",function(e){var t=e.query(M.ZONE_ID);return null!=t?t:e.query(M.OFFSET)}),M.LOCAL_DATE=U("LOCAL_DATE",function(e){return e.isSupported(P.EPOCH_DAY)?e2.ofEpochDay(e.getLong(P.EPOCH_DAY)):null}),M.LOCAL_TIME=U("LOCAL_TIME",function(e){return e.isSupported(P.NANO_OF_DAY)?e8.ofNanoOfDay(e.getLong(P.NANO_OF_DAY)):null}),F.MONDAY=new F(0,"MONDAY"),F.TUESDAY=new F(1,"TUESDAY"),F.WEDNESDAY=new F(2,"WEDNESDAY"),F.THURSDAY=new F(3,"THURSDAY"),F.FRIDAY=new F(4,"FRIDAY"),F.SATURDAY=new F(5,"SATURDAY"),F.SUNDAY=new F(6,"SUNDAY"),F.FROM=U("DayOfWeek.FROM",function(e){return F.from(e)}),i=[F.MONDAY,F.TUESDAY,F.WEDNESDAY,F.THURSDAY,F.FRIDAY,F.SATURDAY,F.SUNDAY],e6.MIN_SECONDS=-31619119219200,e6.MAX_SECONDS=31494816403199,e6.EPOCH=new e6(0,0),e6.MIN=e6.ofEpochSecond(e6.MIN_SECONDS,0),e6.MAX=e6.ofEpochSecond(e6.MAX_SECONDS,999999999),e6.FROM=U("Instant.FROM",function(e){return e6.from(e)}),e2.MIN=e2.of(N.MIN_VALUE,1,1),e2.MAX=e2.of(N.MAX_VALUE,12,31),e2.EPOCH_0=e2.ofEpochDay(0),e2.FROM=U("LocalDate.FROM",function(e){return e2.from(e)}),e4.MIN=e4.of(e2.MIN,e8.MIN),e4.MAX=e4.of(e2.MAX,e8.MAX),e4.FROM=U("LocalDateTime.FROM",function(e){return e4.from(e)}),e$.MIN_VALUE=N.MIN_VALUE,e$.MAX_VALUE=N.MAX_VALUE,l=new eF().appendValue(P.YEAR,4,10,eE.EXCEEDS_PAD).toFormatter(),e$.FROM=U("Year.FROM",function(e){return e$.from(e)}),B.JANUARY=new B(1,"JANUARY"),B.FEBRUARY=new B(2,"FEBRUARY"),B.MARCH=new B(3,"MARCH"),B.APRIL=new B(4,"APRIL"),B.MAY=new B(5,"MAY"),B.JUNE=new B(6,"JUNE"),B.JULY=new B(7,"JULY"),B.AUGUST=new B(8,"AUGUST"),B.SEPTEMBER=new B(9,"SEPTEMBER"),B.OCTOBER=new B(10,"OCTOBER"),B.NOVEMBER=new B(11,"NOVEMBER"),B.DECEMBER=new B(12,"DECEMBER"),o=[B.JANUARY,B.FEBRUARY,B.MARCH,B.APRIL,B.MAY,B.JUNE,B.JULY,B.AUGUST,B.SEPTEMBER,B.OCTOBER,B.NOVEMBER,B.DECEMBER],a=new eF().appendValue(P.YEAR,4,10,eE.EXCEEDS_PAD).appendLiteral("-").appendValue(P.MONTH_OF_YEAR,2).toFormatter(),eV.FROM=U("YearMonth.FROM",function(e){return eV.from(e)}),s=new eF().appendLiteral("--").appendValue(P.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(P.DAY_OF_MONTH,2).toFormatter(),eH.FROM=U("MonthDay.FROM",function(e){return eH.from(e)}),j.ofDays(0),J.MAX_SECONDS=18*e8.SECONDS_PER_HOUR,J.UTC=J.ofTotalSeconds(0),J.MIN=J.ofTotalSeconds(-J.MAX_SECONDS),J.MAX=J.ofTotalSeconds(J.MAX_SECONDS),e0.FROM=U("ZonedDateTime.FROM",function(e){return e0.from(e)}),to=new tn,G.systemDefault=ti.systemDefault,G.getAvailableZoneIds=ti.getAvailableZoneIds,G.of=ti.of,G.ofOffset=ti.ofOffset,G.from=ti.from,J.from=ti.from,G.SYSTEM=to,G.UTC=J.ofTotalSeconds(0),eQ.INSTANCE=new eQ("IsoChronology"),eY.ISO_LOCAL_DATE=new eF().appendValue(P.YEAR,4,10,eE.EXCEEDS_PAD).appendLiteral("-").appendValue(P.MONTH_OF_YEAR,2).appendLiteral("-").appendValue(P.DAY_OF_MONTH,2).toFormatter(V.STRICT).withChronology(eQ.INSTANCE),eY.ISO_LOCAL_TIME=new eF().appendValue(P.HOUR_OF_DAY,2).appendLiteral(":").appendValue(P.MINUTE_OF_HOUR,2).optionalStart().appendLiteral(":").appendValue(P.SECOND_OF_MINUTE,2).optionalStart().appendFraction(P.NANO_OF_SECOND,0,9,!0).toFormatter(V.STRICT),eY.ISO_LOCAL_DATE_TIME=new eF().parseCaseInsensitive().append(eY.ISO_LOCAL_DATE).appendLiteral("T").append(eY.ISO_LOCAL_TIME).toFormatter(V.STRICT).withChronology(eQ.INSTANCE),eY.ISO_INSTANT=new eF().parseCaseInsensitive().appendInstant().toFormatter(V.STRICT),eY.ISO_OFFSET_DATE_TIME=new eF().parseCaseInsensitive().append(eY.ISO_LOCAL_DATE_TIME).appendOffsetId().toFormatter(V.STRICT).withChronology(eQ.INSTANCE),eY.ISO_ZONED_DATE_TIME=new eF().append(eY.ISO_OFFSET_DATE_TIME).optionalStart().appendLiteral("[").parseCaseSensitive().appendZoneId().appendLiteral("]").toFormatter(V.STRICT).withChronology(eQ.INSTANCE),eY.BASIC_ISO_DATE=new eF().appendValue(P.YEAR,4,10,eE.EXCEEDS_PAD).appendValue(P.MONTH_OF_YEAR,2).appendValue(P.DAY_OF_MONTH,2).toFormatter(V.STRICT).withChronology(eQ.INSTANCE),eY.ISO_OFFSET_DATE=new eF().parseCaseInsensitive().append(eY.ISO_LOCAL_DATE).appendOffsetId().toFormatter(V.STRICT).withChronology(eQ.INSTANCE),eY.ISO_OFFSET_TIME=new eF().parseCaseInsensitive().append(eY.ISO_LOCAL_TIME).appendOffsetId().toFormatter(V.STRICT).withChronology(eQ.INSTANCE),eY.ISO_ORDINAL_DATE=new eF().appendValue(P.YEAR,4,10,eE.EXCEEDS_PAD).appendLiteral("-").appendValue(P.DAY_OF_YEAR).toFormatter(V.STRICT),eY.ISO_WEEK_DATE=new eF().appendValue(P.YEAR,4,10,eE.EXCEEDS_PAD).appendLiteral("-W").appendValue(P.ALIGNED_WEEK_OF_YEAR).appendLiteral("-").appendValue(P.DAY_OF_WEEK).toFormatter(V.STRICT),eY.ISO_DATE=new eF().parseCaseInsensitive().append(eY.ISO_LOCAL_DATE).optionalStart().appendOffsetId().optionalEnd().toFormatter(V.STRICT).withChronology(eQ.INSTANCE),eY.ISO_TIME=new eF().parseCaseInsensitive().append(eY.ISO_LOCAL_TIME).optionalStart().appendOffsetId().optionalEnd().toFormatter(V.STRICT),eY.ISO_DATE_TIME=new eF().append(eY.ISO_LOCAL_DATE_TIME).optionalStart().appendOffsetId().optionalEnd().toFormatter(V.STRICT).withChronology(eQ.INSTANCE),eY.PARSED_EXCESS_DAYS=U("PARSED_EXCESS_DAYS",function(e){return e instanceof ee?e.excessDays:j.ZERO}),eY.PARSED_LEAP_SECOND=U("PARSED_LEAP_SECOND",function(e){return e instanceof ee&&e.leapSecond}),eI.BASE_DATE=e2.of(2e3,1,1),eF.CompositePrinterParser=ew,eF.PadPrinterParserDecorator=eN,eF.SettingsParser=eR,eF.CharLiteralPrinterParser=eD,eF.StringLiteralPrinterParser=eD,eF.CharLiteralPrinterParser=eb,eF.NumberPrinterParser=eA,eF.ReducedPrinterParser=eI,eF.FractionPrinterParser=ev,eF.OffsetIdPrinterParser=eO,eF.ZoneIdPrinterParser=eM,e1.MIN=e4.MIN.atOffset(J.MAX),e1.MAX=e4.MAX.atOffset(J.MIN),e1.FROM=U("OffsetDateTime.FROM",function(e){return e1.from(e)}),eX.MIN=eX.ofNumbers(0,0,0,0,J.MAX),eX.MAX=eX.ofNumbers(23,59,59,999999999,J.MIN),eX.FROM=U("OffsetTime.FROM",function(e){return eX.from(e)});/*
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var ta=function(){function e(e,t){var r;if(e instanceof e6){this.instant=e;return}if(e instanceof e2)t=null==t?G.systemDefault():t,r=e.atStartOfDay(t);else if(e instanceof e4)t=null==t?G.systemDefault():t,r=e.atZone(t);else if(e instanceof e0)r=null==t?e:e.withZoneSameInstant(t);else throw new f("unsupported instance for convert operation:"+e);this.instant=r.toInstant()}var t=e.prototype;return t.toDate=function(){return new Date(this.instant.toEpochMilli())},t.toEpochMilli=function(){return this.instant.toEpochMilli()},e}();function tl(e,t){return new ta(e,t)}/*
 * @copyright (c) 2015-present, Philipp Thrwchter, Pattrick Hper & js-joda contributors
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */function tc(e,t){if(void 0===t&&(t=G.systemDefault()),T(e,"date"),T(t,"zone"),e instanceof Date)return e6.ofEpochMilli(e.getTime()).atZone(t);if("function"==typeof e.toDate&&e.toDate() instanceof Date)return e6.ofEpochMilli(e.toDate().getTime()).atZone(t);throw new f("date must be a javascript Date or a moment instance")}/**
 * @copyright (c) 2016, Philipp Thrwchter & Pattrick Hper
 * @license BSD-3-Clause (see LICENSE in the root directory of this source tree)
 */var tu={assert:v,DateTimeBuilder:ee,DateTimeParseContext:et,DateTimePrintContext:en,MathUtil:S,StringUtil:W,StringBuilder:ej},th={_:tu,convert:tl,nativeJs:tc,ArithmeticException:d,DateTimeException:c,DateTimeParseException:u,IllegalArgumentException:f,IllegalStateException:p,UnsupportedTemporalTypeException:h,NullPointerException:m,Clock:e3,DayOfWeek:F,Duration:O,Instant:e6,LocalDate:e2,LocalTime:e8,LocalDateTime:e4,OffsetTime:eX,OffsetDateTime:e1,Month:B,MonthDay:eH,ParsePosition:Y,Period:j,Year:e$,YearConstants:N,YearMonth:eV,ZonedDateTime:e0,ZoneOffset:J,ZoneId:G,ZoneRegion:eP,ZoneOffsetTransition:tt,ZoneRules:K,ZoneRulesProvider:ek,ChronoLocalDate:z,ChronoLocalDateTime:e5,ChronoZonedDateTime:eJ,IsoChronology:eQ,ChronoField:P,ChronoUnit:R,IsoFields:ei,Temporal:$,TemporalAccessor:L,TemporalAdjuster:ez,TemporalAdjusters:eW,TemporalAmount:I,TemporalField:D,TemporalQueries:M,TemporalQuery:x,TemporalUnit:C,ValueRange:k,DateTimeFormatter:eY,DateTimeFormatterBuilder:eF,DecimalStyle:e_,ResolverStyle:V,SignStyle:eE,TextStyle:eT},td=function(e){var t=[];return function(r){return~t.indexOf(r)||(r(e),t.push(r)),e}}(th);th.use=td},50410:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buildConnectionString=void 0,t.buildConnectionString=function(e){return Object.entries(e).map(([e,t])=>(function(e,t){if(null==t)return[e,""];if("boolean"==typeof t)return[e,t?"Yes":"No"];{var r;let n=t.toString();return!function(e){if("{"!==e[0])return!1;for(let t=1;t<e.length;t++)if("}"===e[t]){if(t+1===e.length)return!0;if("}"!==e[t+1])break;t++}return!1}(n)&&(null===(r=n.match(/\[|]|{|}|\|\(|\)|,|;|\?|\*|=|!|@/))||void 0===r?void 0:r.length)?[e,`{${n.replace(/}/g,"}}")}}`]:[e,n]}})(e.trim(),t).join("=")).join(";")}},38771:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseSqlConnectionString=t.parseConnectionString=void 0;let s=o(r(54414));t.parseConnectionString=s.default;let a=o(r(19346));t.parseSqlConnectionString=a.default,i(r(50410),t)},54414:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.key=0]="key",e[e.value=1]="value"}(r||(r={}));let n=Object.freeze({key:{terminator:"=",quotes:{}},value:{terminator:";",quotes:{'"':'"',"'":"'","{":"}"}}});t.default=function(e,t=n){let i={},o=r.key,s=!1,a=!1,l=!1,c="",u="",h="",d=0;function f(){return o===r.key?t.key:t.value}function p(e){return f().terminator===e}function m(){switch(l||(u=u.trim()),o){case r.key:h=u.toLowerCase(),o=r.value;break;case r.value:o=r.key,i[h]=u,h=""}s=!1,a=!1,l=!1,c="",u=""}for(;d<e.length;){let t=e.charAt(d);if(a){if(p(t))m();else if(t.trim())throw Error("Malformed connection string")}else s?l&&l&&t===f().quotes[c]?t===e.charAt(d+1)?(u+=t,d++):a=!0:!l&&p(t)?t===e.charAt(d+1)?(u+=t,d++):m():u+=t:t.trim()&&((s=!0,function(e){return Object.keys(f().quotes).some(t=>e===t)}(t))?(l=!0,c=t):u+=t);d++}if(l&&!a)throw Error("Connection string terminated unexpectedly");return m(),i}},19346:function(e,t,r){"use strict";var n,i,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SCHEMA=t.SchemaTypes=void 0;let s=o(r(54414));function a(e,t,r){if(r){let t=r(e);if(null!==t)return t}switch(t){case i.BOOL:if(["true","yes","1"].includes(e.toLowerCase()))return!0;if(["false","no","0"].includes(e.toLowerCase()))return!1;break;case i.NUMBER:return parseInt(e,10)}return e}(n=i=t.SchemaTypes||(t.SchemaTypes={}))[n.BOOL=0]="BOOL",n[n.STRING=1]="STRING",n[n.NUMBER=2]="NUMBER",t.SCHEMA={"Application Name":{type:i.STRING,aliases:["App"],validator:e=>"string"==typeof e&&e.length<=128},ApplicationIntent:{type:i.STRING,allowedValues:["ReadOnly","ReadWrite"],default:"ReadWrite"},"Asynchronous Processing":{type:i.BOOL,default:!1,aliases:["Async"]},AttachDBFilename:{type:i.STRING,aliases:["Extended Properties","Initial File Name"]},Authentication:{type:i.STRING,allowedValues:["Active Directory Integrated","Active Directory Password","Sql Password"]},"Column Encryption Setting":{type:i.STRING},"Connection Timeout":{type:i.NUMBER,aliases:["Connect Timeout","Timeout"],default:15},"Connection Lifetime":{type:i.NUMBER,aliases:["Load Balance Timeout"],default:0},ConnectRetryCount:{type:i.NUMBER,default:1,validator:e=>e>0&&e<=255},ConnectRetryInterval:{type:i.NUMBER,default:10},"Context Connection":{type:i.BOOL,default:!1},"Current Language":{aliases:["Language"],type:i.STRING,validator:e=>"string"==typeof e&&e.length<=128},"Data Source":{aliases:["Addr","Address","Server","Network Address"],type:i.STRING},Encrypt:{type:i.BOOL,default:!1},Enlist:{type:i.BOOL,default:!0},"Failover Partner":{type:i.STRING},"Initial Catalog":{type:i.STRING,aliases:["Database"],validator:e=>"string"==typeof e&&e.length<=128},"Integrated Security":{type:i.BOOL,aliases:["Trusted_Connection"],coerce:e=>"sspi"===e||null},"Max Pool Size":{type:i.NUMBER,default:100,validator:e=>e>=1},"Min Pool Size":{type:i.NUMBER,default:0,validator:e=>e>=0},MultipleActiveResultSets:{type:i.BOOL,default:!1},MultiSubnetFailover:{type:i.BOOL,default:!1},"Network Library":{type:i.STRING,aliases:["Network","Net"],allowedValues:["dbnmpntw","dbmsrpcn","dbmsadsn","dbmsgnet","dbmslpcn","dbmsspxn","dbmssocn","Dbmsvinn"]},"Packet Size":{type:i.NUMBER,default:8e3,validator:e=>e>=512&&e<=32768},Password:{type:i.STRING,aliases:["PWD"],validator:e=>"string"==typeof e&&e.length<=128},"Persist Security Info":{type:i.BOOL,aliases:["PersistSecurityInfo"],default:!1},PoolBlockingPeriod:{type:i.NUMBER,default:0,coerce(e){if("string"!=typeof e)return null;switch(e.toLowerCase()){case"alwaysblock":return 1;case"auto":return 0;case"neverblock":return 2}return null}},Pooling:{type:i.BOOL,default:!0},Replication:{type:i.BOOL,default:!1},"Transaction Binding":{type:i.STRING,allowedValues:["Implicit Unbind","Explicit Unbind"],default:"Implicit Unbind"},TransparentNetworkIPResolution:{type:i.BOOL,default:!0},TrustServerCertificate:{type:i.BOOL,default:!1},"Type System Version":{type:i.STRING,allowedValues:["SQL Server 2012","SQL Server 2008","SQL Server 2005","Latest"]},"User ID":{type:i.STRING,aliases:["UID"],validator:e=>"string"==typeof e&&e.length<=128},"User Instance":{type:i.BOOL,default:!1},"Workstation ID":{type:i.STRING,aliases:["WSID"],validator:e=>"string"==typeof e&&e.length<=128}},t.default=function(e,r=!1,n=!1,o=!1,l=t.SCHEMA){let c=Object.entries(l).reduce((e,[t,r])=>{var n;return Object.assign(e,{[t.toLowerCase()]:r}),(null===(n=r.aliases)||void 0===n?void 0:n.reduce((e,n)=>Object.assign(e,{[n.toLowerCase()]:{...r,canonical:t.toLowerCase()}}),e))||e},{});return Object.entries((0,s.default)(e)).reduce((e,[t,n])=>{var s,l,u;let h;if(!Object.prototype.hasOwnProperty.call(c,t))return Object.assign(e,{[t]:a(n,function(e){if(""===e.trim())return i.STRING;let t=parseInt(e,10);return Number.isNaN(t)||t.toString()!==e?["true","false","yes","no"].includes(e.toLowerCase())?i.BOOL:i.STRING:i.NUMBER}(n))});let d=a(n,c[t].type,c[t].coerce);return o&&(s=d,l=c[t].allowedValues,u=c[t].validator,h=!0,u&&(h=u(s)),h&&(h=(null==l?void 0:l.includes(s))||!1),!h)&&(d=c[t].default),Object.assign(e,{[r&&c[t].canonical||t]:d})},{})}},96766:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.req=t.json=t.toBuffer=void 0;let s=o(r(13685)),a=o(r(95687));async function l(e){let t=0,r=[];for await(let n of e)t+=n.length,r.push(n);return Buffer.concat(r,t)}async function c(e){let t=(await l(e)).toString("utf8");try{return JSON.parse(t)}catch(e){throw e.message+=` (input: ${t})`,e}}t.toBuffer=l,t.json=c,t.req=function(e,t={}){let r=(("string"==typeof e?e:e.href).startsWith("https:")?a:s).request(e,t),n=new Promise((e,t)=>{r.once("response",e).once("error",t).end()});return r.then=n.then.bind(n),r}},87248:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Agent=void 0;let a=o(r(41808)),l=o(r(13685)),c=r(95687);s(r(96766),t);let u=Symbol("AgentBaseInternalState");class h extends l.Agent{constructor(e){super(e),this[u]={}}isSecureEndpoint(e){if(e){if("boolean"==typeof e.secureEndpoint)return e.secureEndpoint;if("string"==typeof e.protocol)return"https:"===e.protocol}let{stack:t}=Error();return"string"==typeof t&&t.split("\n").some(e=>-1!==e.indexOf("(https.js:")||-1!==e.indexOf("node:https:"))}incrementSockets(e){if(this.maxSockets===1/0&&this.maxTotalSockets===1/0)return null;this.sockets[e]||(this.sockets[e]=[]);let t=new a.Socket({writable:!1});return this.sockets[e].push(t),this.totalSocketCount++,t}decrementSockets(e,t){if(!this.sockets[e]||null===t)return;let r=this.sockets[e],n=r.indexOf(t);-1!==n&&(r.splice(n,1),this.totalSocketCount--,0===r.length&&delete this.sockets[e])}getName(e){return this.isSecureEndpoint(e)?c.Agent.prototype.getName.call(this,e):super.getName(e)}createSocket(e,t,r){let n={...t,secureEndpoint:this.isSecureEndpoint(t)},i=this.getName(n),o=this.incrementSockets(i);Promise.resolve().then(()=>this.connect(e,n)).then(s=>{if(this.decrementSockets(i,o),s instanceof l.Agent)try{return s.addRequest(e,n)}catch(e){return r(e)}this[u].currentSocket=s,super.createSocket(e,t,r)},e=>{this.decrementSockets(i,o),r(e)})}createConnection(){let e=this[u].currentSocket;if(this[u].currentSocket=void 0,!e)throw Error("No socket was returned in the `connect()` function");return e}get defaultPort(){return this[u].defaultPort??("https:"===this.protocol?443:80)}set defaultPort(e){this[u]&&(this[u].defaultPort=e)}get protocol(){return this[u].protocol??(this.isSecureEndpoint()?"https:":"http:")}set protocol(e){this[u]&&(this[u].protocol=e)}}t.Agent=h},43665:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpProxyAgent=void 0;let a=o(r(41808)),l=o(r(24404)),c=s(r(57034)),u=r(82361),h=r(87248),d=r(57310),f=(0,c.default)("http-proxy-agent");class p extends h.Agent{constructor(e,t){super(t),this.proxy="string"==typeof e?new d.URL(e):e,this.proxyHeaders=t?.headers??{},f("Creating new HttpProxyAgent instance: %o",this.proxy.href);let r=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),n=this.proxy.port?parseInt(this.proxy.port,10):"https:"===this.proxy.protocol?443:80;this.connectOpts={...t?function(e,...t){let r;let n={};for(r in e)t.includes(r)||(n[r]=e[r]);return n}(t,"headers"):null,host:r,port:n}}addRequest(e,t){e._header=null,this.setRequestProps(e,t),super.addRequest(e,t)}setRequestProps(e,t){let{proxy:r}=this,n=t.secureEndpoint?"https:":"http:",i=e.getHeader("host")||"localhost",o=`${n}//${i}`,s=new d.URL(e.path,o);80!==t.port&&(s.port=String(t.port)),e.path=String(s);let a="function"==typeof this.proxyHeaders?this.proxyHeaders():{...this.proxyHeaders};if(r.username||r.password){let e=`${decodeURIComponent(r.username)}:${decodeURIComponent(r.password)}`;a["Proxy-Authorization"]=`Basic ${Buffer.from(e).toString("base64")}`}for(let t of(a["Proxy-Connection"]||(a["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close"),Object.keys(a))){let r=a[t];r&&e.setHeader(t,r)}}async connect(e,t){let r,n,i;return e._header=null,e.path.includes("://")||this.setRequestProps(e,t),f("Regenerating stored HTTP header string for request"),e._implicitHeader(),e.outputData&&e.outputData.length>0&&(f("Patching connection write() output buffer with updated header"),n=(r=e.outputData[0].data).indexOf("\r\n\r\n")+4,e.outputData[0].data=e._header+r.substring(n),f("Output buffer: %o",e.outputData[0].data)),"https:"===this.proxy.protocol?(f("Creating `tls.Socket`: %o",this.connectOpts),i=l.connect(this.connectOpts)):(f("Creating `net.Socket`: %o",this.connectOpts),i=a.connect(this.connectOpts)),await (0,u.once)(i,"connect"),i}}p.protocols=["http","https"],t.HttpProxyAgent=p},14649:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpsProxyAgent=void 0;let a=o(r(41808)),l=o(r(24404)),c=s(r(39491)),u=s(r(57034)),h=r(87248),d=r(57310),f=r(25217),p=(0,u.default)("https-proxy-agent"),m=e=>void 0===e.servername&&e.host&&!a.isIP(e.host)?{...e,servername:e.host}:e;class g extends h.Agent{constructor(e,t){super(t),this.options={path:void 0},this.proxy="string"==typeof e?new d.URL(e):e,this.proxyHeaders=t?.headers??{},p("Creating new HttpsProxyAgent instance: %o",this.proxy.href);let r=(this.proxy.hostname||this.proxy.host).replace(/^\[|\]$/g,""),n=this.proxy.port?parseInt(this.proxy.port,10):"https:"===this.proxy.protocol?443:80;this.connectOpts={ALPNProtocols:["http/1.1"],...t?_(t,"headers"):null,host:r,port:n}}async connect(e,t){let r;let{proxy:n}=this;if(!t.host)throw TypeError('No "host" provided');"https:"===n.protocol?(p("Creating `tls.Socket`: %o",this.connectOpts),r=l.connect(m(this.connectOpts))):(p("Creating `net.Socket`: %o",this.connectOpts),r=a.connect(this.connectOpts));let i="function"==typeof this.proxyHeaders?this.proxyHeaders():{...this.proxyHeaders},o=a.isIPv6(t.host)?`[${t.host}]`:t.host,s=`CONNECT ${o}:${t.port} HTTP/1.1\r
`;if(n.username||n.password){let e=`${decodeURIComponent(n.username)}:${decodeURIComponent(n.password)}`;i["Proxy-Authorization"]=`Basic ${Buffer.from(e).toString("base64")}`}for(let e of(i.Host=`${o}:${t.port}`,i["Proxy-Connection"]||(i["Proxy-Connection"]=this.keepAlive?"Keep-Alive":"close"),Object.keys(i)))s+=`${e}: ${i[e]}\r
`;let u=(0,f.parseProxyResponse)(r);r.write(`${s}\r
`);let{connect:h,buffered:d}=await u;if(e.emit("proxyConnect",h),this.emit("proxyConnect",h,e),200===h.statusCode)return(e.once("socket",y),t.secureEndpoint)?(p("Upgrading socket connection to TLS"),l.connect({..._(m(t),"host","path","port"),socket:r})):r;r.destroy();let g=new a.Socket({writable:!1});return g.readable=!0,e.once("socket",e=>{p("Replaying proxy buffer for failed request"),(0,c.default)(e.listenerCount("data")>0),e.push(d),e.push(null)}),g}}function y(e){e.resume()}function _(e,...t){let r;let n={};for(r in e)t.includes(r)||(n[r]=e[r]);return n}g.protocols=["http","https"],t.HttpsProxyAgent=g},25217:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseProxyResponse=void 0;let i=(0,n(r(57034)).default)("https-proxy-agent:parse-proxy-response");t.parseProxyResponse=function(e){return new Promise((t,r)=>{let n=0,o=[];function s(){let l=e.read();l?function(l){o.push(l),n+=l.length;let c=Buffer.concat(o,n),u=c.indexOf("\r\n\r\n");if(-1===u){i("have not received end of HTTP headers yet..."),s();return}let h=c.slice(0,u).toString("ascii").split("\r\n"),d=h.shift();if(!d)return e.destroy(),r(Error("No header received from proxy CONNECT response"));let f=d.split(" "),p=+f[1],m=f.slice(2).join(" "),g={};for(let t of h){if(!t)continue;let n=t.indexOf(":");if(-1===n)return e.destroy(),r(Error(`Invalid header from proxy CONNECT response: "${t}"`));let i=t.slice(0,n).toLowerCase(),o=t.slice(n+1).trimStart(),s=g[i];"string"==typeof s?g[i]=[s,o]:Array.isArray(s)?s.push(o):g[i]=o}i("got proxy server response: %o %o",d,g),a(),t({connect:{statusCode:p,statusText:m,headers:g},buffered:c})}(l):e.once("readable",s)}function a(){e.removeListener("end",l),e.removeListener("error",c),e.removeListener("readable",s)}function l(){a(),i("onend"),r(Error("Proxy connection ended before receiving CONNECT response"))}function c(e){a(),i("onerror %o",e),r(e)}e.on("error",c),e.on("end",l),s()})}},72481:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(97934);class AbortSignal extends n.EventTarget{constructor(){throw super(),TypeError("AbortSignal cannot be constructed directly")}get aborted(){let e=i.get(this);if("boolean"!=typeof e)throw TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}}n.defineEventAttribute(AbortSignal.prototype,"abort");let i=new WeakMap;Object.defineProperties(AbortSignal.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(AbortSignal.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class o{constructor(){s.set(this,function(){let e=Object.create(AbortSignal.prototype);return n.EventTarget.call(e),i.set(e,!1),e}())}get signal(){return a(this)}abort(){var e;e=a(this),!1===i.get(e)&&(i.set(e,!0),e.dispatchEvent({type:"abort"}))}}let s=new WeakMap;function a(e){let t=s.get(e);if(null==t)throw TypeError(`Expected 'this' to be an 'AbortController' object, but got ${null===e?"null":typeof e}`);return t}Object.defineProperties(o.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(o.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),t.AbortController=o,t.AbortSignal=AbortSignal,t.default=o,e.exports=o,e.exports.AbortController=e.exports.default=o,e.exports.AbortSignal=AbortSignal},1540:(e,t,r)=>{"use strict";let{Buffer:n}=r(14300),i=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let r=0;r<this._bufs.length;r++){let n=t+this._bufs[r].length;if(e<n||r===this._bufs.length-1)return[r,e-t];t=n}},o.prototype._reverseOffset=function(e){let t=e[0],r=e[1];for(let e=0;e<t;e++)r+=this._bufs[e].length;return r},o.prototype.getBuffers=function(){return this._bufs},o.prototype.get=function(e){if(e>this.length||e<0)return;let t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,r,i){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof i||i>this.length)&&(i=this.length),r>=this.length||i<=0)return e||n.alloc(0);let o=!!e,s=this._offset(r),a=i-r,l=a,c=o&&t||0,u=s[1];if(0===r&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,c),c+=this._bufs[t].length;return e}if(l<=this._bufs[s[0]].length-u)return o?this._bufs[s[0]].copy(e,t,u,u+l):this._bufs[s[0]].slice(u,u+l);o||(e=n.allocUnsafe(a));for(let t=s[0];t<this._bufs.length;t++){let r=this._bufs[t].length-u;if(l>r)this._bufs[t].copy(e,c,u),c+=r;else{this._bufs[t].copy(e,c,u,u+l),c+=r;break}l-=r,u&&(u=0)}return e.length>c?e.slice(0,c):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();let r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},o.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},o.prototype.consume=function(e){if(Number.isNaN(e=Math.trunc(e))||e<=0)return this;for(;this._bufs.length;)if(e>=this._bufs[0].length)e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}return this},o.prototype.duplicate=function(){let e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){return this._attach(e,o.prototype._appendBuffer)},o.prototype.prepend=function(e){return this._attach(e,o.prototype._prependBuffer,!0)},o.prototype._attach=function(e,t,r){if(null==e)return this;if(e.buffer)t.call(this,n.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e)){let[n,i]=r?[e.length-1,-1]:[0,1];for(let o=n;o>=0&&o<e.length;o+=i)this._attach(e[o],t,r)}else if(this._isBufferList(e)){let[n,i]=r?[e._bufs.length-1,-1]:[0,1];for(let o=n;o>=0&&o<e._bufs.length;o+=i)this._attach(e._bufs[o],t,r)}else"number"==typeof e&&(e=e.toString()),t.call(this,n.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype._prependBuffer=function(e){this._bufs.unshift(e),this.length+=e.length},o.prototype.indexOf=function(e,t,r){if(void 0===r&&"string"==typeof t&&(r=t,t=void 0),"function"==typeof e||Array.isArray(e))throw TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=n.from([e]):"string"==typeof e?e=n.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=n.from(e.buffer,e.byteOffset,e.byteLength):n.isBuffer(e)||(e=n.from(e)),isNaN(t=Number(t||0))&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;let i=this._offset(t),o=i[0],s=i[1];for(;o<this._bufs.length;o++){let t=this._bufs[o];for(;s<t.length;)if(t.length-s>=e.length){let r=t.indexOf(e,s);if(-1!==r)return this._reverseOffset([o,r]);s=t.length-e.length+1}else{let t=this._reverseOffset([o,s]);if(this._match(t,e))return t;s++}s=0}return -1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){let e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let t in e)!function(t){null===e[t]?o.prototype[t]=function(e,r){return this.slice(e,e+r)[t](0,r)}:o.prototype[t]=function(r=0){return this.slice(r,r+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[i]},e.exports=o},33088:(e,t,r)=>{"use strict";let n=r(10039).Duplex,i=r(54420),o=r(1540);function s(e){if(!(this instanceof s))return new s(e);if("function"==typeof e){this._callback=e;let t=(function(e){this._callback&&(this._callback(e),this._callback=null)}).bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)}),e=null}o._init.call(this,e),n.call(this)}i(s,n),Object.assign(s.prototype,o.prototype),s.prototype._new=function(e){return new s(e)},s.prototype._write=function(e,t,r){this._appendBuffer(e),"function"==typeof r&&r()},s.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},s.prototype.end=function(e){n.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},s.prototype._isBufferList=function(e){return e instanceof s||e instanceof o||s.isBufferList(e)},s.isBufferList=o.isBufferList,e.exports=s,e.exports.BufferListStream=s,e.exports.BufferList=o},84367:(e,t,r)=>{"use strict";var n=r(14300).Buffer,i=r(14300).SlowBuffer;function o(e,t){if(!n.isBuffer(e)||!n.isBuffer(t)||e.length!==t.length)return!1;for(var r=0,i=0;i<e.length;i++)r|=e[i]^t[i];return 0===r}e.exports=o,o.install=function(){n.prototype.equal=i.prototype.equal=function(e){return o(this,e)}};var s=n.prototype.equal,a=i.prototype.equal;o.restore=function(){n.prototype.equal=s,i.prototype.equal=a}},72286:(e,t,r)=>{"use strict";var n=r(64190),i=r(25176),o=r(80691),s=r(62943);e.exports=s||n.call(o,i)},28876:(e,t,r)=>{"use strict";var n=r(64190),i=r(25176),o=r(72286);e.exports=function(){return o(n,i,arguments)}},25176:e=>{"use strict";e.exports=Function.prototype.apply},80691:e=>{"use strict";e.exports=Function.prototype.call},3469:(e,t,r)=>{"use strict";var n=r(64190),i=r(257),o=r(80691),s=r(72286);e.exports=function(e){if(e.length<1||"function"!=typeof e[0])throw new i("a function is required");return s(n,o,e)}},62943:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},78462:(e,t,r)=>{"use strict";var n=r(174),i=r(91083),o=r(3469),s=r(28876);e.exports=function(e){var t=o(arguments),r=e.length-(arguments.length-1);return n(t,1+(r>0?r:0),!0)},i?i(e.exports,"apply",{value:s}):e.exports.apply=s},92554:(e,t,r)=>{"use strict";var n=r(27329),i=r(3469),o=i([n("%String.prototype.indexOf%")]);e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i([r]):r}},36225:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))}),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){let e;return"undefined"!=typeof window&&!!window.process&&("renderer"===window.process.type||!!window.process.__nwjs)||!("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(39546)(t);let{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},39546:(e,t,r)=>{e.exports=function(e){function t(e){let r,i,o;let s=null;function a(...e){if(!a.enabled)return;let n=Number(new Date),i=n-(r||n);a.diff=i,a.prev=r,a.curr=n,r=n,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,n)=>{if("%%"===r)return"%";o++;let i=t.formatters[n];if("function"==typeof i){let t=e[o];r=i.call(a,t),e.splice(o,1),o--}return r}),t.formatArgs.call(a,e),(a.log||t.log).apply(a,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=n,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,o=t.enabled(e)),o),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function n(e,r){let n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e,t){let r=0,n=0,i=-1,o=0;for(;r<e.length;)if(n<t.length&&(t[n]===e[r]||"*"===t[n]))"*"===t[n]?(i=n,o=r):r++,n++;else{if(-1===i)return!1;n=i+1,r=++o}for(;n<t.length&&"*"===t[n];)n++;return n===t.length}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){let e=[...t.names,...t.skips.map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){for(let r of(t.save(e),t.namespaces=e,t.names=[],t.skips=[],("string"==typeof e?e:"").trim().replace(/\s+/g,",").split(",").filter(Boolean)))"-"===r[0]?t.skips.push(r.slice(1)):t.names.push(r)},t.enabled=function(e){for(let r of t.skips)if(i(e,r))return!1;for(let r of t.names)if(i(e,r))return!0;return!1},t.humanize=r(48939),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(r=>{t[r]=e[r]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t)|0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},57034:(e,t,r)=>{"undefined"==typeof process||"renderer"===process.type||process.__nwjs?e.exports=r(36225):e.exports=r(70412)},70412:(e,t,r)=>{let n=r(76224),i=r(73837);t.init=function(e){e.inspectOpts={};let r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(i.formatWithOptions(t.inspectOpts,...e)+"\n")},t.formatArgs=function(r){let{namespace:n,useColors:i}=this;if(i){let t=this.color,i="\x1b[3"+(t<8?t:"8;5;"+t),o=`  ${i};1m${n} \u001B[0m`;r[0]=o+r[0].split("\n").join("\n"+o),r.push(i+"m+"+e.exports.humanize(this.diff)+"\x1b[0m")}else r[0]=(t.inspectOpts.hideDate?"":new Date().toISOString()+" ")+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?!!t.inspectOpts.colors:n.isatty(process.stderr.fd)},t.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{let e=r(84764);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase()),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(39546)(t);let{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts).split("\n").map(e=>e.trim()).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,i.inspect(e,this.inspectOpts)}},23577:(e,t,r)=>{"use strict";var n=r(91083),i=r(31685),o=r(257),s=r(14500);e.exports=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,l=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],h=!!s&&s(e,t);if(n)n(e,t,{configurable:null===c&&h?h.configurable:!c,enumerable:null===a&&h?h.enumerable:!a,value:r,writable:null===l&&h?h.writable:!l});else if(!u&&(a||l||c))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");else e[t]=r}},12026:(e,t,r)=>{"use strict";var n=r(96201),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=r(23577),l=r(79597)(),c=function(e,t,r,n){if(t in e){if(!0===n){if(e[t]===r)return}else if(!("function"==typeof n&&"[object Function]"===o.call(n))||!n())return}l?a(e,t,r,!0):a(e,t,r)},u=function(e,t){var r=arguments.length>2?arguments[2]:{},o=n(t);i&&(o=s.call(o,Object.getOwnPropertySymbols(t)));for(var a=0;a<o.length;a+=1)c(e,o[a],t[o[a]],r[o[a]])};u.supportsDescriptors=!!l,e.exports=u},65784:(e,t,r)=>{"use strict";var n,i=r(3469),o=r(14500);try{n=[].__proto__===Array.prototype}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var s=!!n&&o&&o(Object.prototype,"__proto__"),a=Object,l=a.getPrototypeOf;e.exports=s&&"function"==typeof s.get?i([s.get]):"function"==typeof l&&function(e){return l(null==e?e:a(e))}},28380:(e,t,r)=>{"use strict";var n=r(3469),i=r(14500),o=r(257),s={};try{s.__proto__=null}catch(e){if(!e||"object"!=typeof e||!("code"in e)||"ERR_PROTO_ACCESS"!==e.code)throw e}var a=!("toString"in s),l=i&&i(Object.prototype,"__proto__");e.exports=a&&(!!l&&"function"==typeof l.set&&n([l.set])||function(e,t){if(null==e)throw new o("set Object.prototype.__proto__ called on null or undefined");return e.__proto__=t,t})},74752:(e,t,r)=>{"use strict";var n=r(66027).Buffer,i=r(20750);function o(e){if(n.isBuffer(e))return e;if("string"==typeof e)return n.from(e,"base64");throw TypeError("ECDSA signature must be a Base64 string or a Buffer")}function s(e,t,r){for(var n=0;t+n<r&&0===e[t+n];)++n;return e[t+n]>=128&&--n,n}e.exports={derToJose:function(e,t){e=o(e);var r=i(t),s=r+1,a=e.length,l=0;if(48!==e[l++])throw Error('Could not find expected "seq"');var c=e[l++];if(129===c&&(c=e[l++]),a-l<c)throw Error('"seq" specified length of "'+c+'", only "'+(a-l)+'" remaining');if(2!==e[l++])throw Error('Could not find expected "int" for "r"');var u=e[l++];if(a-l-2<u)throw Error('"r" specified length of "'+u+'", only "'+(a-l-2)+'" available');if(s<u)throw Error('"r" specified length of "'+u+'", max of "'+s+'" is acceptable');var h=l;if(l+=u,2!==e[l++])throw Error('Could not find expected "int" for "s"');var d=e[l++];if(a-l!==d)throw Error('"s" specified length of "'+d+'", expected "'+(a-l)+'"');if(s<d)throw Error('"s" specified length of "'+d+'", max of "'+s+'" is acceptable');var f=l;if((l+=d)!==a)throw Error('Expected to consume entire buffer, but "'+(a-l)+'" bytes remain');var p=r-u,m=r-d,g=n.allocUnsafe(p+u+m+d);for(l=0;l<p;++l)g[l]=0;e.copy(g,l,h+Math.max(-p,0),h+u),l=r;for(var y=l;l<y+m;++l)g[l]=0;return e.copy(g,l,f+Math.max(-m,0),f+d),g=(g=g.toString("base64")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},joseToDer:function(e,t){e=o(e);var r=i(t),a=e.length;if(a!==2*r)throw TypeError('"'+t+'" signatures must be "'+2*r+'" bytes, saw "'+a+'"');var l=s(e,0,r),c=s(e,r,e.length),u=r-l,h=r-c,d=2+u+1+1+h,f=d<128,p=n.allocUnsafe((f?2:3)+d),m=0;return p[m++]=48,f?p[m++]=d:(p[m++]=129,p[m++]=255&d),p[m++]=2,p[m++]=u,l<0?(p[m++]=0,m+=e.copy(p,m,0,r)):m+=e.copy(p,m,l,r),p[m++]=2,p[m++]=h,c<0?(p[m++]=0,e.copy(p,m,r)):e.copy(p,m,r+c),p}}},20750:e=>{"use strict";function t(e){return(e/8|0)+(e%8==0?0:1)}var r={ES256:t(256),ES384:t(384),ES512:t(521)};e.exports=function(e){var t=r[e];if(t)return t;throw Error('Unknown algorithm "'+e+'"')}},24633:(e,t,r)=>{"use strict";var n=r(46340),i=r(88559),o=r(22232),s=r(79597)(),a=r(56984),l=r(46819),c=r(91250);function u(e,t){var r=new c(t);return l(r,h),delete r.constructor,n(r,"errors",a(o(e,"SYNC"))),r}s&&Object.defineProperty(u,"prototype",{writable:!1});var h=u.prototype;i(h,"constructor",u),i(h,"message",""),i(h,"name","AggregateError"),l(u.prototype,Error.prototype),e.exports=u},13857:(e,t,r)=>{"use strict";var n=r(64190),i=r(12026),o=r(4312),s=r(23577),a=r(24633),l=r(28275),c=r(60807),u=l(),h=o(n.call(u),u.name,!0);s(h,"prototype",u.prototype,!0,!0,!0,!0),i(h,{getPolyfill:l,implementation:a,shim:c}),e.exports=h},28275:(e,t,r)=>{"use strict";var n=r(24633);e.exports=function(){return"function"==typeof AggregateError?AggregateError:n}},60807:(e,t,r)=>{"use strict";var n=r(12026),i=r(89324)(),o=r(28275);e.exports=function(){var e=o();return n(i,{AggregateError:e},{AggregateError:function(){return i.AggregateError!==e}}),e}},91083:e=>{"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(e){t=!1}e.exports=t},29559:e=>{"use strict";e.exports=EvalError},91250:e=>{"use strict";e.exports=Error},47926:e=>{"use strict";e.exports=RangeError},30095:e=>{"use strict";e.exports=ReferenceError},31685:e=>{"use strict";e.exports=SyntaxError},257:e=>{"use strict";e.exports=TypeError},64715:e=>{"use strict";e.exports=URIError},7483:e=>{"use strict";e.exports=Object},36672:e=>{"use strict";e.exports=function(e){return!!e&&("function"==typeof e||"object"==typeof e)}},97934:(e,t)=>{"use strict";/**
 * @author Toru Nagashima <https://github.com/mysticatea>
 * @copyright 2015 Toru Nagashima. All rights reserved.
 * See LICENSE file in root directory for full license.
 */Object.defineProperty(t,"__esModule",{value:!0});let r=new WeakMap,n=new WeakMap;function i(e){let t=r.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function o(e){if(null!=e.passiveListener){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener);return}e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault())}function s(e,t){r.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});let n=Object.keys(t);for(let e=0;e<n.length;++e){let t=n[e];t in this||Object.defineProperty(this,t,a(t))}}function a(e){return{get(){return i(this).event[e]},set(t){i(this).event[e]=t},configurable:!0,enumerable:!0}}function l(e,t){i(e).passiveListener=t}s.prototype={get type(){return i(this).event.type},get target(){return i(this).eventTarget},get currentTarget(){return i(this).currentTarget},composedPath(){let e=i(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return i(this).eventPhase},stopPropagation(){let e=i(this);e.stopped=!0,"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){let e=i(this);e.stopped=!0,e.immediateStopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return!!i(this).event.bubbles},get cancelable(){return!!i(this).event.cancelable},preventDefault(){o(i(this))},get defaultPrevented(){return i(this).canceled},get composed(){return!!i(this).event.composed},get timeStamp(){return i(this).timeStamp},get srcElement(){return i(this).eventTarget},get cancelBubble(){return i(this).stopped},set cancelBubble(value){if(!value)return;let e=i(this);e.stopped=!0,"boolean"==typeof e.event.cancelBubble&&(e.event.cancelBubble=!0)},get returnValue(){return!i(this).canceled},set returnValue(value){value||o(i(this))},initEvent(){}},Object.defineProperty(s.prototype,"constructor",{value:s,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(s.prototype,window.Event.prototype),n.set(window.Event.prototype,s));let c=new WeakMap;function u(e){return null!==e&&"object"==typeof e}function h(e){let t=c.get(e);if(null==t)throw TypeError("'this' is expected an EventTarget object, but got another value.");return t}function d(e,t){Object.defineProperty(e,`on${t}`,{get(){let e=h(this).get(t);for(;null!=e;){if(3===e.listenerType)return e.listener;e=e.next}return null},set(e){"function"==typeof e||u(e)||(e=null);let r=h(this),n=null,i=r.get(t);for(;null!=i;)3===i.listenerType?null!==n?n.next=i.next:null!==i.next?r.set(t,i.next):r.delete(t):n=i,i=i.next;if(null!==e){let i={listener:e,listenerType:3,passive:!1,once:!1,next:null};null===n?r.set(t,i):n.next=i}},configurable:!0,enumerable:!0})}function f(e){function t(){p.call(this)}t.prototype=Object.create(p.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let r=0;r<e.length;++r)d(t.prototype,e[r]);return t}function p(){if(this instanceof p){c.set(this,new Map);return}if(1==arguments.length&&Array.isArray(arguments[0]))return f(arguments[0]);if(arguments.length>0){let e=Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return f(e)}throw TypeError("Cannot call a class as a function")}p.prototype={addEventListener(e,t,r){if(null==t)return;if("function"!=typeof t&&!u(t))throw TypeError("'listener' should be a function or an object.");let n=h(this),i=u(r),o=(i?r.capture:r)?1:2,s={listener:t,listenerType:o,passive:i&&!!r.passive,once:i&&!!r.once,next:null},a=n.get(e);if(void 0===a){n.set(e,s);return}let l=null;for(;null!=a;){if(a.listener===t&&a.listenerType===o)return;l=a,a=a.next}l.next=s},removeEventListener(e,t,r){if(null==t)return;let n=h(this),i=(u(r)?r.capture:r)?1:2,o=null,s=n.get(e);for(;null!=s;){if(s.listener===t&&s.listenerType===i){null!==o?o.next=s.next:null!==s.next?n.set(e,s.next):n.delete(e);return}o=s,s=s.next}},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw TypeError('"event.type" should be a string.');let t=h(this),r=e.type,o=t.get(r);if(null==o)return!0;let c=new(function e(t){if(null==t||t===Object.prototype)return s;let r=n.get(t);return null==r&&(r=function(e,t){let r=Object.keys(t);if(0===r.length)return e;function n(t,r){e.call(this,t,r)}n.prototype=Object.create(e.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let o=0;o<r.length;++o){let s=r[o];if(!(s in e.prototype)){let e="function"==typeof Object.getOwnPropertyDescriptor(t,s).value;Object.defineProperty(n.prototype,s,e?function(e){return{value(){let t=i(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}(s):a(s))}}return n}(e(Object.getPrototypeOf(t)),t),n.set(t,r)),r}(Object.getPrototypeOf(e)))(this,e),u=null;for(;null!=o;){if(o.once?null!==u?u.next=o.next:null!==o.next?t.set(r,o.next):t.delete(r):u=o,l(c,o.passive?o.listener:null),"function"==typeof o.listener)try{o.listener.call(this,c)}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}else 3!==o.listenerType&&"function"==typeof o.listener.handleEvent&&o.listener.handleEvent(c);if(i(c).immediateStopped)break;o=o.next}return l(c,null),i(c).eventPhase=0,i(c).currentTarget=null,!c.defaultPrevented}},Object.defineProperty(p.prototype,"constructor",{value:p,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(p.prototype,window.EventTarget.prototype),t.defineEventAttribute=d,t.EventTarget=p,t.default=p,e.exports=p,e.exports.EventTarget=e.exports.default=p,e.exports.defineEventAttribute=d},62390:e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r},i=function(e,t){for(var r=[],n=t||0,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r},o=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r};e.exports=function(e){var s,a=this;if("function"!=typeof a||"[object Function]"!==t.apply(a))throw TypeError("Function.prototype.bind called on incompatible "+a);for(var l=i(arguments,1),c=r(0,a.length-l.length),u=[],h=0;h<c;h++)u[h]="$"+h;if(s=Function("binder","return function ("+o(u,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof s){var t=a.apply(this,n(l,arguments));return Object(t)===t?t:this}return a.apply(e,n(l,arguments))}),a.prototype){var d=function(){};d.prototype=a.prototype,s.prototype=new d,d.prototype=null}return s}},64190:(e,t,r)=>{"use strict";var n=r(62390);e.exports=Function.prototype.bind||n},44395:e=>{"use strict";var t=function(){return"string"==typeof(function(){}).name},r=Object.getOwnPropertyDescriptor;if(r)try{r([],"length")}catch(e){r=null}t.functionsHaveConfigurableNames=function(){if(!t()||!r)return!1;var e=r(function(){},"name");return!!e&&!!e.configurable};var n=Function.prototype.bind;t.boundFunctionsHaveNames=function(){return t()&&"function"==typeof n&&""!==(function(){}).bind().name},e.exports=t},27329:(e,t,r)=>{"use strict";var n,i=r(7483),o=r(91250),s=r(29559),a=r(47926),l=r(30095),c=r(31685),u=r(257),h=r(64715),d=r(99578),f=r(17498),p=r(56284),m=r(70659),g=r(69967),y=r(96872),_=r(81439),E=Function,T=function(e){try{return E('"use strict"; return ('+e+").constructor;")()}catch(e){}},b=r(14500),w=r(91083),v=function(){throw new u},S=b?function(){try{return arguments.callee,v}catch(e){try{return b(arguments,"callee").get}catch(e){return v}}}():v,A=r(82799)(),I=r(80400),C=r(70429),O=r(55636),N=r(25176),R=r(80691),D={},k="undefined"!=typeof Uint8Array&&I?I(Uint8Array):n,P={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":A&&I?I([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":D,"%AsyncGenerator%":D,"%AsyncGeneratorFunction%":D,"%AsyncIteratorPrototype%":D,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":s,"%Float16Array%":"undefined"==typeof Float16Array?n:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":E,"%GeneratorFunction%":D,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":A&&I?I(I([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&A&&I?I(new Map()[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":b,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":a,"%ReferenceError%":l,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&A&&I?I(new Set()[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":A&&I?I(""[Symbol.iterator]()):n,"%Symbol%":A?Symbol:n,"%SyntaxError%":c,"%ThrowTypeError%":S,"%TypedArray%":k,"%TypeError%":u,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":h,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet,"%Function.prototype.call%":R,"%Function.prototype.apply%":N,"%Object.defineProperty%":w,"%Object.getPrototypeOf%":C,"%Math.abs%":d,"%Math.floor%":f,"%Math.max%":p,"%Math.min%":m,"%Math.pow%":g,"%Math.round%":y,"%Math.sign%":_,"%Reflect.getPrototypeOf%":O};if(I)try{null.error}catch(e){var M=I(I(e));P["%Error.prototype%"]=M}var L=function e(t){var r;if("%AsyncFunction%"===t)r=T("async function () {}");else if("%GeneratorFunction%"===t)r=T("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=T("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&I&&(r=I(i.prototype))}return P[t]=r,r},x={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},U=r(64190),F=r(52273),B=U.call(R,Array.prototype.concat),q=U.call(N,Array.prototype.splice),j=U.call(R,String.prototype.replace),Y=U.call(R,String.prototype.slice),H=U.call(R,RegExp.prototype.exec),V=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$=/\\(\\)?/g,z=function(e){var t=Y(e,0,1),r=Y(e,-1);if("%"===t&&"%"!==r)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var n=[];return j(e,V,function(e,t,r,i){n[n.length]=r?j(i,$,"$1"):t||e}),n},W=function(e,t){var r,n=e;if(F(x,n)&&(n="%"+(r=x[n])[0]+"%"),F(P,n)){var i=P[n];if(i===D&&(i=L(n)),void 0===i&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===H(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=z(e),n=r.length>0?r[0]:"",i=W("%"+n+"%",t),o=i.name,s=i.value,a=!1,l=i.alias;l&&(n=l[0],q(r,B([0,1],l)));for(var h=1,d=!0;h<r.length;h+=1){var f=r[h],p=Y(f,0,1),m=Y(f,-1);if(('"'===p||"'"===p||"`"===p||'"'===m||"'"===m||"`"===m)&&p!==m)throw new c("property names with quotes must have matching quotes");if("constructor"!==f&&d||(a=!0),n+="."+f,F(P,o="%"+n+"%"))s=P[o];else if(null!=s){if(!(f in s)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(b&&h+1>=r.length){var g=b(s,f);s=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:s[f]}else d=F(s,f),s=s[f];d&&!a&&(P[o]=s)}}return s}},70429:(e,t,r)=>{"use strict";var n=r(7483);e.exports=n.getPrototypeOf||null},55636:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},80400:(e,t,r)=>{"use strict";var n=r(55636),i=r(70429),o=r(65784);e.exports=n?function(e){return n(e)}:i?function(e){if(!e||"object"!=typeof e&&"function"!=typeof e)throw TypeError("getProto: not an object");return i(e)}:o?function(e){return o(e)}:null},62859:e=>{"use strict";e.exports=global},89324:(e,t,r)=>{"use strict";var n=r(12026),i=r(62859),o=r(1139),s=r(17341),a=o(),l=function(){return a};n(l,{getPolyfill:o,implementation:i,shim:s}),e.exports=l},1139:(e,t,r)=>{"use strict";var n=r(62859);e.exports=function(){return"object"==typeof global&&global&&global.Math===Math&&global.Array===Array?global:n}},17341:(e,t,r)=>{"use strict";var n=r(12026),i=r(14500),o=r(1139);e.exports=function(){var e=o();if(n.supportsDescriptors){var t=i(e,"globalThis");(!t||t.configurable&&(t.enumerable||!t.writable||globalThis!==e))&&Object.defineProperty(e,"globalThis",{configurable:!0,enumerable:!1,value:e,writable:!0})}else("object"!=typeof globalThis||globalThis!==e)&&(e.globalThis=e);return e}},65453:e=>{"use strict";e.exports=Object.getOwnPropertyDescriptor},14500:(e,t,r)=>{"use strict";var n=r(65453);if(n)try{n([],"length")}catch(e){n=null}e.exports=n},88913:e=>{"use strict";e.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return -1!==n&&(-1===i||n<i)}},79597:(e,t,r)=>{"use strict";var n=r(91083),i=function(){return!!n};i.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},15112:e=>{"use strict";var t={__proto__:null,foo:{}},r={__proto__:t}.foo===t.foo&&!(t instanceof Object);e.exports=function(){return r}},82799:(e,t,r)=>{"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(50656);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},50656:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},60066:(e,t,r)=>{"use strict";var n=r(50656);e.exports=function(){return n()&&!!Symbol.toStringTag}},52273:(e,t,r)=>{"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r(64190);e.exports=o.call(n,i)},82196:(e,t,r)=>{"use strict";var n=r(75377).Buffer;t._dbcs=s;for(var i=Array(256),o=0;o<256;o++)i[o]=-1;function s(e,t){if(this.encodingName=e.encodingName,!e)throw Error("DBCS codec is called without the data.");if(!e.table)throw Error("Encoding '"+this.encodingName+"' has no data.");var r=e.table();this.decodeTables=[],this.decodeTables[0]=i.slice(0),this.decodeTableSeq=[];for(var n=0;n<r.length;n++)this._addDecodeChunk(r[n]);if("function"==typeof e.gb18030){this.gb18030=e.gb18030();var o=this.decodeTables.length;this.decodeTables.push(i.slice(0));var s=this.decodeTables.length;this.decodeTables.push(i.slice(0));for(var a=this.decodeTables[0],n=129;n<=254;n++)for(var l=this.decodeTables[-1e3-a[n]],c=48;c<=57;c++){if(-1===l[c])l[c]=-1e3-o;else if(l[c]>-1e3)throw Error("gb18030 decode tables conflict at byte 2");for(var u=this.decodeTables[-1e3-l[c]],h=129;h<=254;h++){if(-1===u[h])u[h]=-1e3-s;else if(u[h]===-1e3-s)continue;else if(u[h]>-1e3)throw Error("gb18030 decode tables conflict at byte 3");for(var d=this.decodeTables[-1e3-u[h]],f=48;f<=57;f++)-1===d[f]&&(d[f]=-2)}}}this.defaultCharUnicode=t.defaultCharUnicode,this.encodeTable=[],this.encodeTableSeq=[];var p={};if(e.encodeSkipVals)for(var n=0;n<e.encodeSkipVals.length;n++){var m=e.encodeSkipVals[n];if("number"==typeof m)p[m]=!0;else for(var c=m.from;c<=m.to;c++)p[c]=!0}if(this._fillEncodeTable(0,0,p),e.encodeAdd)for(var g in e.encodeAdd)Object.prototype.hasOwnProperty.call(e.encodeAdd,g)&&this._setEncodeChar(g.charCodeAt(0),e.encodeAdd[g]);this.defCharSB=this.encodeTable[0][t.defaultCharSingleByte.charCodeAt(0)],-1===this.defCharSB&&(this.defCharSB=this.encodeTable[0]["?"]),-1===this.defCharSB&&(this.defCharSB=63)}function a(e,t){this.leadSurrogate=-1,this.seqObj=void 0,this.encodeTable=t.encodeTable,this.encodeTableSeq=t.encodeTableSeq,this.defaultCharSingleByte=t.defCharSB,this.gb18030=t.gb18030}function l(e,t){this.nodeIdx=0,this.prevBytes=[],this.decodeTables=t.decodeTables,this.decodeTableSeq=t.decodeTableSeq,this.defaultCharUnicode=t.defaultCharUnicode,this.gb18030=t.gb18030}function c(e,t){if(e[0]>t)return -1;for(var r=0,n=e.length;r<n-1;){var i=r+(n-r+1>>1);e[i]<=t?r=i:n=i}return r}s.prototype.encoder=a,s.prototype.decoder=l,s.prototype._getDecodeTrieNode=function(e){for(var t=[];e>0;e>>>=8)t.push(255&e);0==t.length&&t.push(0);for(var r=this.decodeTables[0],n=t.length-1;n>0;n--){var o=r[t[n]];if(-1==o)r[t[n]]=-1e3-this.decodeTables.length,this.decodeTables.push(r=i.slice(0));else if(o<=-1e3)r=this.decodeTables[-1e3-o];else throw Error("Overwrite byte in "+this.encodingName+", addr: "+e.toString(16))}return r},s.prototype._addDecodeChunk=function(e){var t=parseInt(e[0],16),r=this._getDecodeTrieNode(t);t&=255;for(var n=1;n<e.length;n++){var i=e[n];if("string"==typeof i)for(var o=0;o<i.length;){var s=i.charCodeAt(o++);if(55296<=s&&s<56320){var a=i.charCodeAt(o++);if(56320<=a&&a<57344)r[t++]=65536+(s-55296)*1024+(a-56320);else throw Error("Incorrect surrogate pair in "+this.encodingName+" at chunk "+e[0])}else if(4080<s&&s<=4095){for(var l=4095-s+2,c=[],u=0;u<l;u++)c.push(i.charCodeAt(o++));r[t++]=-10-this.decodeTableSeq.length,this.decodeTableSeq.push(c)}else r[t++]=s}else if("number"==typeof i)for(var h=r[t-1]+1,o=0;o<i;o++)r[t++]=h++;else throw Error("Incorrect type '"+typeof i+"' given in "+this.encodingName+" at chunk "+e[0])}if(t>255)throw Error("Incorrect chunk in "+this.encodingName+" at addr "+e[0]+": too long"+t)},s.prototype._getEncodeBucket=function(e){var t=e>>8;return void 0===this.encodeTable[t]&&(this.encodeTable[t]=i.slice(0)),this.encodeTable[t]},s.prototype._setEncodeChar=function(e,t){var r=this._getEncodeBucket(e),n=255&e;r[n]<=-10?this.encodeTableSeq[-10-r[n]][-1]=t:-1==r[n]&&(r[n]=t)},s.prototype._setEncodeSequence=function(e,t){var r,n=e[0],i=this._getEncodeBucket(n),o=255&n;i[o]<=-10?r=this.encodeTableSeq[-10-i[o]]:(r={},-1!==i[o]&&(r[-1]=i[o]),i[o]=-10-this.encodeTableSeq.length,this.encodeTableSeq.push(r));for(var s=1;s<e.length-1;s++){var a=r[n];"object"==typeof a?r=a:(r=r[n]={},void 0!==a&&(r[-1]=a))}r[n=e[e.length-1]]=t},s.prototype._fillEncodeTable=function(e,t,r){for(var n=this.decodeTables[e],i=!1,o={},s=0;s<256;s++){var a=n[s],l=t+s;if(!r[l]){if(a>=0)this._setEncodeChar(a,l),i=!0;else if(a<=-1e3){var c=-1e3-a;if(!o[c]){var u=l<<8>>>0;this._fillEncodeTable(c,u,r)?i=!0:o[c]=!0}}else a<=-10&&(this._setEncodeSequence(this.decodeTableSeq[-10-a],l),i=!0)}}return i},a.prototype.write=function(e){for(var t=n.alloc(e.length*(this.gb18030?4:3)),r=this.leadSurrogate,i=this.seqObj,o=-1,s=0,a=0;;){if(-1===o){if(s==e.length)break;var l=e.charCodeAt(s++)}else{var l=o;o=-1}if(55296<=l&&l<57344){if(l<56320){if(-1===r){r=l;continue}r=l,l=-1}else -1!==r?(l=65536+(r-55296)*1024+(l-56320),r=-1):l=-1}else -1!==r&&(o=l,l=-1,r=-1);var u=-1;if(void 0!==i&&-1!=l){var h=i[l];if("object"==typeof h){i=h;continue}"number"==typeof h?u=h:void 0==h&&void 0!==(h=i[-1])&&(u=h,o=l),i=void 0}else if(l>=0){var d=this.encodeTable[l>>8];if(void 0!==d&&(u=d[255&l]),u<=-10){i=this.encodeTableSeq[-10-u];continue}if(-1==u&&this.gb18030){var f=c(this.gb18030.uChars,l);if(-1!=f){var u=this.gb18030.gbChars[f]+(l-this.gb18030.uChars[f]);t[a++]=129+Math.floor(u/12600),u%=12600,t[a++]=48+Math.floor(u/1260),u%=1260,t[a++]=129+Math.floor(u/10),u%=10,t[a++]=48+u;continue}}}-1===u&&(u=this.defaultCharSingleByte),u<256?t[a++]=u:(u<65536?t[a++]=u>>8:u<16777216?(t[a++]=u>>16,t[a++]=u>>8&255):(t[a++]=u>>>24,t[a++]=u>>>16&255,t[a++]=u>>>8&255),t[a++]=255&u)}return this.seqObj=i,this.leadSurrogate=r,t.slice(0,a)},a.prototype.end=function(){if(-1!==this.leadSurrogate||void 0!==this.seqObj){var e=n.alloc(10),t=0;if(this.seqObj){var r=this.seqObj[-1];void 0!==r&&(r<256?e[t++]=r:(e[t++]=r>>8,e[t++]=255&r)),this.seqObj=void 0}return -1!==this.leadSurrogate&&(e[t++]=this.defaultCharSingleByte,this.leadSurrogate=-1),e.slice(0,t)}},a.prototype.findIdx=c,l.prototype.write=function(e){for(var t,r=n.alloc(2*e.length),i=this.nodeIdx,o=this.prevBytes,s=this.prevBytes.length,a=-this.prevBytes.length,l=0,u=0;l<e.length;l++){var h=l>=0?e[l]:o[l+s],t=this.decodeTables[i][h];if(t>=0);else if(-1===t)t=this.defaultCharUnicode.charCodeAt(0),l=a;else if(-2===t){if(l>=3)var d=(e[l-3]-129)*12600+(e[l-2]-48)*1260+(e[l-1]-129)*10+(h-48);else var d=(o[l-3+s]-129)*12600+((l-2>=0?e[l-2]:o[l-2+s])-48)*1260+((l-1>=0?e[l-1]:o[l-1+s])-129)*10+(h-48);var f=c(this.gb18030.gbChars,d);t=this.gb18030.uChars[f]+d-this.gb18030.gbChars[f]}else if(t<=-1e3){i=-1e3-t;continue}else if(t<=-10){for(var p=this.decodeTableSeq[-10-t],m=0;m<p.length-1;m++)t=p[m],r[u++]=255&t,r[u++]=t>>8;t=p[p.length-1]}else throw Error("iconv-lite internal error: invalid decoding table value "+t+" at "+i+"/"+h);if(t>=65536){var g=55296|(t-=65536)>>10;r[u++]=255&g,r[u++]=g>>8,t=56320|1023&t}r[u++]=255&t,r[u++]=t>>8,i=0,a=l+1}return this.nodeIdx=i,this.prevBytes=a>=0?Array.prototype.slice.call(e,a):o.slice(a+s).concat(Array.prototype.slice.call(e)),r.slice(0,u).toString("ucs2")},l.prototype.end=function(){for(var e="";this.prevBytes.length>0;){e+=this.defaultCharUnicode;var t=this.prevBytes.slice(1);this.prevBytes=[],this.nodeIdx=0,t.length>0&&(e+=this.write(t))}return this.prevBytes=[],this.nodeIdx=0,e}},41921:(e,t,r)=>{"use strict";e.exports={shiftjis:{type:"_dbcs",table:function(){return r(84786)},encodeAdd:{"\xa5":92,"":126},encodeSkipVals:[{from:60736,to:63808}]},csshiftjis:"shiftjis",mskanji:"shiftjis",sjis:"shiftjis",windows31j:"shiftjis",ms31j:"shiftjis",xsjis:"shiftjis",windows932:"shiftjis",ms932:"shiftjis",932:"shiftjis",cp932:"shiftjis",eucjp:{type:"_dbcs",table:function(){return r(8873)},encodeAdd:{"\xa5":92,"":126}},gb2312:"cp936",gb231280:"cp936",gb23121980:"cp936",csgb2312:"cp936",csiso58gb231280:"cp936",euccn:"cp936",windows936:"cp936",ms936:"cp936",936:"cp936",cp936:{type:"_dbcs",table:function(){return r(80093)}},gbk:{type:"_dbcs",table:function(){return r(80093).concat(r(9453))}},xgbk:"gbk",isoir58:"gbk",gb18030:{type:"_dbcs",table:function(){return r(80093).concat(r(9453))},gb18030:function(){return r(65554)},encodeSkipVals:[128],encodeAdd:{"":41699}},chinese:"gb18030",windows949:"cp949",ms949:"cp949",949:"cp949",cp949:{type:"_dbcs",table:function(){return r(23102)}},cseuckr:"cp949",csksc56011987:"cp949",euckr:"cp949",isoir149:"cp949",korean:"cp949",ksc56011987:"cp949",ksc56011989:"cp949",ksc5601:"cp949",windows950:"cp950",ms950:"cp950",950:"cp950",cp950:{type:"_dbcs",table:function(){return r(39565)}},big5:"big5hkscs",big5hkscs:{type:"_dbcs",table:function(){return r(39565).concat(r(81631))},encodeSkipVals:[36457,36463,36478,36523,36532,36557,36560,36695,36713,36718,36811,36862,36973,36986,37060,37084,37105,37311,37551,37552,37553,37554,37585,37959,38090,38361,38652,39285,39798,39800,39803,39878,39902,39916,39926,40002,40019,40034,40040,40043,40055,40124,40125,40144,40279,40282,40388,40431,40443,40617,40687,40701,40800,40907,41079,41180,41183,36812,37576,38468,38637,41636,41637,41639,41638,41676,41678]},cnbig5:"big5hkscs",csbig5:"big5hkscs",xxbig5:"big5hkscs"}},9536:(e,t,r)=>{"use strict";for(var n=[r(34869),r(79261),r(5935),r(46909),r(22188),r(65169),r(25964),r(82196),r(41921)],i=0;i<n.length;i++){var o=n[i];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])}},34869:(e,t,r)=>{"use strict";var n=r(75377).Buffer;function i(e,t){this.enc=e.encodingName,this.bomAware=e.bomAware,"base64"===this.enc?this.encoder=l:"cesu8"===this.enc&&(this.enc="utf8",this.encoder=c,"\uD83D\uDCA9"!==n.from("eda0bdedb2a9","hex").toString()&&(this.decoder=u,this.defaultCharUnicode=t.defaultCharUnicode))}e.exports={utf8:{type:"_internal",bomAware:!0},cesu8:{type:"_internal",bomAware:!0},unicode11utf8:"utf8",ucs2:{type:"_internal",bomAware:!0},utf16le:"ucs2",binary:{type:"_internal"},base64:{type:"_internal"},hex:{type:"_internal"},_internal:i},i.prototype.encoder=a,i.prototype.decoder=s;var o=r(71576).StringDecoder;function s(e,t){this.decoder=new o(t.enc)}function a(e,t){this.enc=t.enc}function l(e,t){this.prevStr=""}function c(e,t){}function u(e,t){this.acc=0,this.contBytes=0,this.accBytes=0,this.defaultCharUnicode=t.defaultCharUnicode}o.prototype.end||(o.prototype.end=function(){}),s.prototype.write=function(e){return n.isBuffer(e)||(e=n.from(e)),this.decoder.write(e)},s.prototype.end=function(){return this.decoder.end()},a.prototype.write=function(e){return n.from(e,this.enc)},a.prototype.end=function(){},l.prototype.write=function(e){var t=(e=this.prevStr+e).length-e.length%4;return this.prevStr=e.slice(t),e=e.slice(0,t),n.from(e,"base64")},l.prototype.end=function(){return n.from(this.prevStr,"base64")},c.prototype.write=function(e){for(var t=n.alloc(3*e.length),r=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[r++]=o:(o<2048?t[r++]=192+(o>>>6):(t[r++]=224+(o>>>12),t[r++]=128+(o>>>6&63)),t[r++]=128+(63&o))}return t.slice(0,r)},c.prototype.end=function(){},u.prototype.write=function(e){for(var t=this.acc,r=this.contBytes,n=this.accBytes,i="",o=0;o<e.length;o++){var s=e[o];(192&s)!=128?(r>0&&(i+=this.defaultCharUnicode,r=0),s<128?i+=String.fromCharCode(s):s<224?(t=31&s,r=1,n=1):s<240?(t=15&s,r=2,n=1):i+=this.defaultCharUnicode):r>0?(t=t<<6|63&s,r--,n++,0===r&&(2===n&&t<128&&t>0?i+=this.defaultCharUnicode:3===n&&t<2048?i+=this.defaultCharUnicode:i+=String.fromCharCode(t))):i+=this.defaultCharUnicode}return this.acc=t,this.contBytes=r,this.accBytes=n,i},u.prototype.end=function(){var e=0;return this.contBytes>0&&(e+=this.defaultCharUnicode),e}},22188:(e,t,r)=>{"use strict";var n=r(75377).Buffer;function i(e,t){if(!e)throw Error("SBCS codec is called without the data.");if(!e.chars||128!==e.chars.length&&256!==e.chars.length)throw Error("Encoding '"+e.type+"' has incorrect 'chars' (must be of len 128 or 256)");if(128===e.chars.length){for(var r="",i=0;i<128;i++)r+=String.fromCharCode(i);e.chars=r+e.chars}this.decodeBuf=n.from(e.chars,"ucs2");for(var o=n.alloc(65536,t.defaultCharSingleByte.charCodeAt(0)),i=0;i<e.chars.length;i++)o[e.chars.charCodeAt(i)]=i;this.encodeBuf=o}function o(e,t){this.encodeBuf=t.encodeBuf}function s(e,t){this.decodeBuf=t.decodeBuf}t._sbcs=i,i.prototype.encoder=o,i.prototype.decoder=s,o.prototype.write=function(e){for(var t=n.alloc(e.length),r=0;r<e.length;r++)t[r]=this.encodeBuf[e.charCodeAt(r)];return t},o.prototype.end=function(){},s.prototype.write=function(e){for(var t=this.decodeBuf,r=n.alloc(2*e.length),i=0,o=0,s=0;s<e.length;s++)i=2*e[s],r[o=2*s]=t[i],r[o+1]=t[i+1];return r.toString("ucs2")},s.prototype.end=function(){}},25964:e=>{"use strict";e.exports={437:"cp437",737:"cp737",775:"cp775",850:"cp850",852:"cp852",855:"cp855",856:"cp856",857:"cp857",858:"cp858",860:"cp860",861:"cp861",862:"cp862",863:"cp863",864:"cp864",865:"cp865",866:"cp866",869:"cp869",874:"windows874",922:"cp922",1046:"cp1046",1124:"cp1124",1125:"cp1125",1129:"cp1129",1133:"cp1133",1161:"cp1161",1162:"cp1162",1163:"cp1163",1250:"windows1250",1251:"windows1251",1252:"windows1252",1253:"windows1253",1254:"windows1254",1255:"windows1255",1256:"windows1256",1257:"windows1257",1258:"windows1258",28591:"iso88591",28592:"iso88592",28593:"iso88593",28594:"iso88594",28595:"iso88595",28596:"iso88596",28597:"iso88597",28598:"iso88598",28599:"iso88599",28600:"iso885910",28601:"iso885911",28603:"iso885913",28604:"iso885914",28605:"iso885915",28606:"iso885916",windows874:{type:"_sbcs",chars:"\xa0"},win874:"windows874",cp874:"windows874",windows1250:{type:"_sbcs",chars:"\xa0\xa4\xa6\xa7\xa8\xa9\xab\xac\xad\xae\xb0\xb1\xb4\xb5\xb6\xb7\xb8\xbb\xc1\xc2\xc4\xc7\xc9\xcb\xcd\xce\xd3\xd4\xd6\xd7\xda\xdc\xdd\xdf\xe1\xe2\xe4\xe7\xe9\xeb\xed\xee\xf3\xf4\xf6\xf7\xfa\xfc\xfd"},win1250:"windows1250",cp1250:"windows1250",windows1251:{type:"_sbcs",chars:"\xa0\xa4\xa6\xa7\xa9\xab\xac\xad\xae\xb0\xb1\xb5\xb6\xb7\xbb"},win1251:"windows1251",cp1251:"windows1251",windows1252:{type:"_sbcs",chars:"\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},win1252:"windows1252",cp1252:"windows1252",windows1253:{type:"_sbcs",chars:"\xa0\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xab\xac\xad\xae\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xbb\xbd"},win1253:"windows1253",cp1253:"windows1253",windows1254:{type:"_sbcs",chars:"\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},win1254:"windows1254",cp1254:"windows1254",windows1255:{type:"_sbcs",chars:"\xa0\xa1\xa2\xa3\xa5\xa6\xa7\xa8\xa9\xd7\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xf7\xbb\xbc\xbd\xbe\xbf"},win1255:"windows1255",cp1255:"windows1255",windows1256:{type:"_sbcs",chars:"\xa0\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xbb\xbc\xbd\xbe\xd7\xe0\xe2\xe7\xe8\xe9\xea\xeb\xee\xef\xf4\xf7\xf9\xfb\xfc"},win1256:"windows1256",cp1256:"windows1256",windows1257:{type:"_sbcs",chars:"\xa8\xb8\xaf\xa0\xa2\xa3\xa4\xa6\xa7\xd8\xa9\xab\xac\xad\xae\xc6\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xf8\xb9\xbb\xbc\xbd\xbe\xe6\xc4\xc5\xc9\xd3\xd5\xd6\xd7\xdc\xdf\xe4\xe5\xe9\xf3\xf5\xf6\xf7\xfc"},win1257:"windows1257",cp1257:"windows1257",windows1258:{type:"_sbcs",chars:"\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcd\xce\xcf\xd1\xd3\xd4\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xed\xee\xef\xf1\xf3\xf4\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},win1258:"windows1258",cp1258:"windows1258",iso88591:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},cp28591:"iso88591",iso88592:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa4\xa7\xa8\xad\xb0\xb4\xb8\xc1\xc2\xc4\xc7\xc9\xcb\xcd\xce\xd3\xd4\xd6\xd7\xda\xdc\xdd\xdf\xe1\xe2\xe4\xe7\xe9\xeb\xed\xee\xf3\xf4\xf6\xf7\xfa\xfc\xfd"},cp28592:"iso88592",iso88593:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa3\xa4\xa7\xa8\xad\xb0\xb2\xb3\xb4\xb5\xb7\xb8\xbd\xc0\xc1\xc2\xc4\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd6\xd7\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf6\xf7\xf9\xfa\xfb\xfc"},cp28593:"iso88593",iso88594:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa4\xa7\xa8\xad\xaf\xb0\xb4\xb8\xc1\xc2\xc3\xc4\xc5\xc6\xc9\xcb\xcd\xce\xd4\xd5\xd6\xd7\xd8\xda\xdb\xdc\xdf\xe1\xe2\xe3\xe4\xe5\xe6\xe9\xeb\xed\xee\xf4\xf5\xf6\xf7\xf8\xfa\xfb\xfc"},cp28594:"iso88594",iso88595:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xad\xa7"},cp28595:"iso88595",iso88596:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa4\xad"},cp28596:"iso88596",iso88597:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa3\xa6\xa7\xa8\xa9\xab\xac\xad\xb0\xb1\xb2\xb3\xb7\xbb\xbd"},cp28597:"iso88597",iso88598:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xd7\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xf7\xbb\xbc\xbd\xbe"},cp28598:"iso88598",iso88599:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},cp28599:"iso88599",iso885910:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa7\xad\xb0\xb7\xc1\xc2\xc3\xc4\xc5\xc6\xc9\xcb\xcd\xce\xcf\xd0\xd3\xd4\xd5\xd6\xd8\xda\xdb\xdc\xdd\xde\xdf\xe1\xe2\xe3\xe4\xe5\xe6\xe9\xeb\xed\xee\xef\xf0\xf3\xf4\xf5\xf6\xf8\xfa\xfb\xfc\xfd\xfe"},cp28600:"iso885910",iso885911:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0"},cp28601:"iso885911",iso885913:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa2\xa3\xa4\xa6\xa7\xd8\xa9\xab\xac\xad\xae\xc6\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xf8\xb9\xbb\xbc\xbd\xbe\xe6\xc4\xc5\xc9\xd3\xd5\xd6\xd7\xdc\xdf\xe4\xe5\xe9\xf3\xf5\xf6\xf7\xfc"},cp28603:"iso885913",iso885914:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa3\xa7\xa9\xad\xae\xb6\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd5\xd6\xd8\xd9\xda\xdb\xdc\xdd\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf5\xf6\xf8\xf9\xfa\xfb\xfc\xfd\xff"},cp28604:"iso885914",iso885915:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa5\xa7\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xb9\xba\xbb\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd0\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xde\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},cp28605:"iso885915",iso885916:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa7\xa9\xab\xad\xb0\xb1\xb6\xb7\xbb\xc0\xc1\xc2\xc4\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd2\xd3\xd4\xd6\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf2\xf3\xf4\xf6\xf9\xfa\xfb\xfc\xff"},cp28606:"iso885916",cp437:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xec\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xff\xd6\xdc\xa2\xa3\xa5\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xac\xbd\xbc\xa1\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm437:"cp437",csibm437:"cp437",cp737:{type:"_sbcs",chars:"\xb1\xf7\xb0\xb7\xb2\xa0"},ibm737:"cp737",csibm737:"cp737",cp775:{type:"_sbcs",chars:"\xfc\xe9\xe4\xe5\xc4\xc5\xc9\xe6\xc6\xf6\xa2\xd6\xdc\xf8\xa3\xd8\xd7\xa4\xf3\xa6\xa9\xae\xac\xbd\xbc\xab\xbb\xd3\xdf\xf5\xd5\xb5\xad\xb1\xbe\xb6\xa7\xf7\xb0\xb7\xb9\xb3\xb2\xa0"},ibm775:"cp775",csibm775:"cp775",cp850:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xec\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xff\xd6\xdc\xf8\xa3\xd8\xd7\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xae\xac\xbd\xbc\xa1\xab\xbb\xc1\xc2\xc0\xa9\xa2\xa5\xe3\xc3\xa4\xf0\xd0\xca\xcb\xc8\xcd\xce\xcf\xa6\xcc\xd3\xdf\xd4\xd2\xf5\xd5\xb5\xfe\xde\xda\xdb\xd9\xfd\xdd\xaf\xb4\xad\xb1\xbe\xb6\xa7\xf7\xb8\xb0\xa8\xb7\xb9\xb3\xb2\xa0"},ibm850:"cp850",csibm850:"cp850",cp852:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe7\xeb\xee\xc4\xc9\xf4\xf6\xd6\xdc\xd7\xe1\xed\xf3\xfa\xac\xab\xbb\xc1\xc2\xa4\xcb\xcd\xce\xd3\xdf\xd4\xda\xfd\xdd\xb4\xad\xa7\xf7\xb8\xb0\xa8\xa0"},ibm852:"cp852",csibm852:"cp852",cp855:{type:"_sbcs",chars:"\xab\xbb\xa4\xad\xa7\xa0"},ibm855:"cp855",csibm855:"cp855",cp856:{type:"_sbcs",chars:"\xa3\xd7\xae\xac\xbd\xbc\xab\xbb\xa9\xa2\xa5\xa4\xa6\xb5\xaf\xb4\xad\xb1\xbe\xb6\xa7\xf7\xb8\xb0\xa8\xb7\xb9\xb3\xb2\xa0"},ibm856:"cp856",csibm856:"cp856",cp857:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xd6\xdc\xf8\xa3\xd8\xe1\xed\xf3\xfa\xf1\xd1\xbf\xae\xac\xbd\xbc\xa1\xab\xbb\xc1\xc2\xc0\xa9\xa2\xa5\xe3\xc3\xa4\xba\xaa\xca\xcb\xc8\xcd\xce\xcf\xa6\xcc\xd3\xdf\xd4\xd2\xf5\xd5\xb5\xd7\xda\xdb\xd9\xec\xff\xaf\xb4\xad\xb1\xbe\xb6\xa7\xf7\xb8\xb0\xa8\xb7\xb9\xb3\xb2\xa0"},ibm857:"cp857",csibm857:"cp857",cp858:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xec\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xff\xd6\xdc\xf8\xa3\xd8\xd7\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xae\xac\xbd\xbc\xa1\xab\xbb\xc1\xc2\xc0\xa9\xa2\xa5\xe3\xc3\xa4\xf0\xd0\xca\xcb\xc8\xcd\xce\xcf\xa6\xcc\xd3\xdf\xd4\xd2\xf5\xd5\xb5\xfe\xde\xda\xdb\xd9\xfd\xdd\xaf\xb4\xad\xb1\xbe\xb6\xa7\xf7\xb8\xb0\xa8\xb7\xb9\xb3\xb2\xa0"},ibm858:"cp858",csibm858:"cp858",cp860:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe3\xe0\xc1\xe7\xea\xca\xe8\xcd\xd4\xec\xc3\xc2\xc9\xc0\xc8\xf4\xf5\xf2\xda\xf9\xcc\xd5\xdc\xa2\xa3\xd9\xd3\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xd2\xac\xbd\xbc\xa1\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm860:"cp860",csibm860:"cp860",cp861:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xd0\xf0\xde\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xfe\xfb\xdd\xfd\xd6\xdc\xf8\xa3\xd8\xe1\xed\xf3\xfa\xc1\xcd\xd3\xda\xbf\xac\xbd\xbc\xa1\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm861:"cp861",csibm861:"cp861",cp862:{type:"_sbcs",chars:"\xa2\xa3\xa5\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xac\xbd\xbc\xa1\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm862:"cp862",csibm862:"cp862",cp863:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xc2\xe0\xb6\xe7\xea\xeb\xe8\xef\xee\xc0\xa7\xc9\xc8\xca\xf4\xcb\xcf\xfb\xf9\xa4\xd4\xdc\xa2\xa3\xd9\xdb\xa6\xb4\xf3\xfa\xa8\xb8\xb3\xaf\xce\xac\xbd\xbc\xbe\xab\xbb\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm863:"cp863",csibm863:"cp863",cp864:{type:"_sbcs",chars:"\0\x01\x02\x03\x04\x05\x06\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\x7f\xb0\xb7\xb1\xbd\xbc\xab\xbb\xa0\xad\xa3\xa4\xa2\xa6\xac\xf7\xd7"},ibm864:"cp864",csibm864:"cp864",cp865:{type:"_sbcs",chars:"\xc7\xfc\xe9\xe2\xe4\xe0\xe5\xe7\xea\xeb\xe8\xef\xee\xec\xc4\xc5\xc9\xe6\xc6\xf4\xf6\xf2\xfb\xf9\xff\xd6\xdc\xf8\xa3\xd8\xe1\xed\xf3\xfa\xf1\xd1\xaa\xba\xbf\xac\xbd\xbc\xa1\xab\xa4\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},ibm865:"cp865",csibm865:"cp865",cp866:{type:"_sbcs",chars:"\xb0\xb7\xa4\xa0"},ibm866:"cp866",csibm866:"cp866",cp869:{type:"_sbcs",chars:"\xb7\xac\xa6\xa9\xb2\xb3\xa3\xbd\xab\xbb\xad\xb1\xa7\xb0\xa8\xa0"},ibm869:"cp869",csibm869:"cp869",cp922:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc3\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcc\xcd\xce\xcf\xd1\xd2\xd3\xd4\xd5\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdd\xdf\xe0\xe1\xe2\xe3\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xff"},ibm922:"cp922",csibm922:"cp922",cp1046:{type:"_sbcs",chars:"\xd7\xf7\x88\xa0\xa4\xad"},ibm1046:"cp1046",csibm1046:"cp1046",cp1124:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xad\xa7"},ibm1124:"cp1124",csibm1124:"cp1124",cp1125:{type:"_sbcs",chars:"\xb7\xa4\xa0"},ibm1125:"cp1125",csibm1125:"cp1125",cp1129:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcd\xce\xcf\xd1\xd3\xd4\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xed\xee\xef\xf1\xf3\xf4\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},ibm1129:"cp1129",csibm1129:"cp1129",cp1133:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa2\xac\xa6"},ibm1133:"cp1133",csibm1133:"cp1133",cp1161:{type:"_sbcs",chars:"\xa2\xac\xa6\xa0"},ibm1161:"cp1161",csibm1161:"cp1161",cp1162:{type:"_sbcs",chars:"\x81\x82\x83\x84\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0"},ibm1162:"cp1162",csibm1162:"cp1162",cp1163:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xa1\xa2\xa3\xa5\xa6\xa7\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb5\xb6\xb7\xb9\xba\xbb\xbc\xbd\xbe\xbf\xc0\xc1\xc2\xc4\xc5\xc6\xc7\xc8\xc9\xca\xcb\xcd\xce\xcf\xd1\xd3\xd4\xd6\xd7\xd8\xd9\xda\xdb\xdc\xdf\xe0\xe1\xe2\xe4\xe5\xe6\xe7\xe8\xe9\xea\xeb\xed\xee\xef\xf1\xf3\xf4\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xff"},ibm1163:"cp1163",csibm1163:"cp1163",maccroatian:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xb4\xa8\xd8\xb1\xb5\xaa\xba\xf8\xbf\xa1\xac\xab\xa0\xc0\xc3\xd5\xf7\xa9\xa4\xc6\xbb\xb7\xc2\xc1\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xcb\xb8\xca\xe6"},maccyrillic:{type:"_sbcs",chars:"\xb0\xa2\xa3\xa7\xb6\xae\xa9\xb1\xb5\xac\xab\xbb\xa0\xf7\xa4"},macgreek:{type:"_sbcs",chars:"\xc4\xb9\xb2\xc9\xb3\xd6\xdc\xe0\xe2\xe4\xa8\xe7\xe9\xe8\xea\xeb\xa3\xee\xef\xbd\xf4\xf6\xa6\xad\xf9\xfb\xfc\xdf\xae\xa9\xa7\xb0\xb1\xa5\xac\xab\xbb\xa0\xf7"},maciceland:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xdd\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xc6\xd8\xb1\xa5\xb5\xaa\xba\xe6\xf8\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xa4\xd0\xf0\xde\xfe\xfd\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},macroman:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xc6\xd8\xb1\xa5\xb5\xaa\xba\xe6\xf8\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xa4\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},macromania:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xb1\xa5\xb5\xaa\xba\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xa4\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},macthai:{type:"_sbcs",chars:"\xab\xbb\xa0\uFEFF\xae\xa9"},macturkish:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xc6\xd8\xb1\xa5\xb5\xaa\xba\xe6\xf8\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},macukraine:{type:"_sbcs",chars:"\xb0\xa3\xa7\xb6\xae\xa9\xb1\xb5\xac\xab\xbb\xa0\xf7\xa4"},koi8r:{type:"_sbcs",chars:"\xa0\xb0\xb2\xb7\xf7\xa9"},koi8u:{type:"_sbcs",chars:"\xa0\xb0\xb2\xb7\xf7\xa9"},koi8ru:{type:"_sbcs",chars:"\xa0\xb0\xb2\xb7\xf7\xa9"},koi8t:{type:"_sbcs",chars:"\xa4\xa6\xa7\xab\xac\xad\xae\xb0\xb1\xb2\xb6\xb7\xbb\xa9"},armscii8:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0)(\xbb\xab.,-"},rk1048:{type:"_sbcs",chars:"\xa0\xa4\xa6\xa7\xa9\xab\xac\xad\xae\xb0\xb1\xb5\xb6\xb7\xbb"},tcvn:{type:"_sbcs",chars:"\0\xda\x03\x07\b	\n\v\f\r\x0e\x0f\x10\xdd\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\x7f\xc0\xc3\xc1\xc8\xc9\xcc\xcd\xd2\xd5\xd3\xd9\xa0\xc2\xca\xd4\xe2\xea\xf4\xe0\xe3\xe1\xe8\xe9\xec\xed\xf2\xf5\xf3\xf9\xfa\xfd"},georgianacademy:{type:"_sbcs",chars:"\x80\x81\x8d\x8e\x8f\x90\x9d\x9e\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},georgianps:{type:"_sbcs",chars:"\x80\x81\x8d\x8e\x8f\x90\x9d\x9e\xa0\xa1\xa2\xa3\xa4\xa5\xa6\xa7\xa8\xa9\xaa\xab\xac\xad\xae\xaf\xb0\xb1\xb2\xb3\xb4\xb5\xb6\xb7\xb8\xb9\xba\xbb\xbc\xbd\xbe\xbf\xe6\xe7\xe8\xe9\xea\xeb\xec\xed\xee\xef\xf0\xf1\xf2\xf3\xf4\xf5\xf6\xf7\xf8\xf9\xfa\xfb\xfc\xfd\xfe\xff"},pt154:{type:"_sbcs",chars:"\xa0\xa7\xa9\xab\xac\xae\xb0\xb6\xb7\xbb"},viscii:{type:"_sbcs",chars:"\0\x01\x03\x04\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x15\x16\x17\x18\x1a\x1b\x1c\x1d\x1f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\x7f\xd5\xc0\xc1\xc2\xc3\xc8\xc9\xca\xcc\xcd\xd2\xd3\xd4\xd9\xda\xdd\xe0\xe1\xe2\xe3\xe8\xe9\xea\xec\xed\xf2\xf3\xf4\xf5\xf9\xfa\xfd"},iso646cn:{type:"_sbcs",chars:"\0\x01\x02\x03\x04\x05\x06\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#\xa5%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}\x7f"},iso646jp:{type:"_sbcs",chars:"\0\x01\x02\x03\x04\x05\x06\x07\b	\n\v\f\r\x0e\x0f\x10\x11\x12\x13\x14\x15\x16\x17\x18\x19\x1a\x1b\x1c\x1d\x1e\x1f !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\xa5]^_`abcdefghijklmnopqrstuvwxyz{|}\x7f"},hproman8:{type:"_sbcs",chars:"\x80\x81\x82\x83\x84\x85\x86\x87\x88\x89\x8a\x8b\x8c\x8d\x8e\x8f\x90\x91\x92\x93\x94\x95\x96\x97\x98\x99\x9a\x9b\x9c\x9d\x9e\x9f\xa0\xc0\xc2\xc8\xca\xcb\xce\xcf\xb4\xa8\xd9\xdb\xaf\xdd\xfd\xb0\xc7\xe7\xd1\xf1\xa1\xbf\xa4\xa3\xa5\xa7\xa2\xe2\xea\xf4\xfb\xe1\xe9\xf3\xfa\xe0\xe8\xf2\xf9\xe4\xeb\xf6\xfc\xc5\xee\xd8\xc6\xe5\xed\xf8\xe6\xc4\xec\xd6\xdc\xc9\xef\xdf\xd4\xc1\xc3\xe3\xd0\xf0\xcd\xcc\xd3\xd2\xd5\xf5\xda\xff\xde\xfe\xb7\xb5\xb6\xbe\xbc\xbd\xaa\xba\xab\xbb\xb1"},macintosh:{type:"_sbcs",chars:"\xc4\xc5\xc7\xc9\xd1\xd6\xdc\xe1\xe0\xe2\xe4\xe3\xe5\xe7\xe9\xe8\xea\xeb\xed\xec\xee\xef\xf1\xf3\xf2\xf4\xf6\xf5\xfa\xf9\xfb\xfc\xb0\xa2\xa3\xa7\xb6\xdf\xae\xa9\xb4\xa8\xc6\xd8\xb1\xa5\xb5\xaa\xba\xe6\xf8\xbf\xa1\xac\xab\xbb\xa0\xc0\xc3\xd5\xf7\xff\xa4\xb7\xc2\xca\xc1\xcb\xc8\xcd\xce\xcf\xcc\xd3\xd4\xd2\xda\xdb\xd9\xaf\xb8"},ascii:{type:"_sbcs",chars:""},tis620:{type:"_sbcs",chars:""}}},65169:e=>{"use strict";e.exports={10029:"maccenteuro",maccenteuro:{type:"_sbcs",chars:"\xc4\xc9\xd6\xdc\xe1\xe4\xe9\xed\xf3\xf4\xf6\xf5\xfa\xfc\xb0\xa3\xa7\xb6\xdf\xae\xa9\xa8\xac\xab\xbb\xa0\xd5\xf7\xc1\xcd\xd3\xd4\xda\xdd\xfd"},808:"cp808",ibm808:"cp808",cp808:{type:"_sbcs",chars:"\xb0\xb7\xa0"},mik:{type:"_sbcs",chars:"\xa7\xdf\xb5\xb1\xf7\xb0\xb7\xb2\xa0"},cp720:{type:"_sbcs",chars:"\x80\x81\xe9\xe2\x84\xe0\x86\xe7\xea\xeb\xe8\xef\xee\x8d\x8e\x8f\x90\xf4\xa4\xfb\xf9\xa3\xab\xbb\xb5\xb0\xb7\xb2\xa0"},ascii8bit:"ascii",usascii:"ascii",ansix34:"ascii",ansix341968:"ascii",ansix341986:"ascii",csascii:"ascii",cp367:"ascii",ibm367:"ascii",isoir6:"ascii",iso646us:"ascii",iso646irv:"ascii",us:"ascii",latin1:"iso88591",latin2:"iso88592",latin3:"iso88593",latin4:"iso88594",latin5:"iso88599",latin6:"iso885910",latin7:"iso885913",latin8:"iso885914",latin9:"iso885915",latin10:"iso885916",csisolatin1:"iso88591",csisolatin2:"iso88592",csisolatin3:"iso88593",csisolatin4:"iso88594",csisolatincyrillic:"iso88595",csisolatinarabic:"iso88596",csisolatingreek:"iso88597",csisolatinhebrew:"iso88598",csisolatin5:"iso88599",csisolatin6:"iso885910",l1:"iso88591",l2:"iso88592",l3:"iso88593",l4:"iso88594",l5:"iso88599",l6:"iso885910",l7:"iso885913",l8:"iso885914",l9:"iso885915",l10:"iso885916",isoir14:"iso646jp",isoir57:"iso646cn",isoir100:"iso88591",isoir101:"iso88592",isoir109:"iso88593",isoir110:"iso88594",isoir144:"iso88595",isoir127:"iso88596",isoir126:"iso88597",isoir138:"iso88598",isoir148:"iso88599",isoir157:"iso885910",isoir166:"tis620",isoir179:"iso885913",isoir199:"iso885914",isoir203:"iso885915",isoir226:"iso885916",cp819:"iso88591",ibm819:"iso88591",cyrillic:"iso88595",arabic:"iso88596",arabic8:"iso88596",ecma114:"iso88596",asmo708:"iso88596",greek:"iso88597",greek8:"iso88597",ecma118:"iso88597",elot928:"iso88597",hebrew:"iso88598",hebrew8:"iso88598",turkish:"iso88599",turkish8:"iso88599",thai:"iso885911",thai8:"iso885911",celtic:"iso885914",celtic8:"iso885914",isoceltic:"iso885914",tis6200:"tis620",tis62025291:"tis620",tis62025330:"tis620",1e4:"macroman",10006:"macgreek",10007:"maccyrillic",10079:"maciceland",10081:"macturkish",cspc8codepage437:"cp437",cspc775baltic:"cp775",cspc850multilingual:"cp850",cspcp852:"cp852",cspc862latinhebrew:"cp862",cpgr:"cp869",msee:"cp1250",mscyrl:"cp1251",msansi:"cp1252",msgreek:"cp1253",msturk:"cp1254",mshebr:"cp1255",msarab:"cp1256",winbaltrim:"cp1257",cp20866:"koi8r",20866:"koi8r",ibm878:"koi8r",cskoi8r:"koi8r",cp21866:"koi8u",21866:"koi8u",ibm1168:"koi8u",strk10482002:"rk1048",tcvn5712:"tcvn",tcvn57121:"tcvn",gb198880:"iso646cn",cn:"iso646cn",csiso14jisc6220ro:"iso646jp",jisc62201969ro:"iso646jp",jp:"iso646jp",cshproman8:"hproman8",r8:"hproman8",roman8:"hproman8",xroman8:"hproman8",ibm1051:"hproman8",mac:"macintosh",csmacintosh:"macintosh"}},5935:(e,t,r)=>{"use strict";var n=r(75377).Buffer;function i(){}function o(){}function s(){this.overflowByte=-1}function a(e,t){this.iconv=t}function l(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder("utf-16le",e)}function c(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function u(e,t){var r=[],n=0,i=0,o=0;t:for(var s=0;s<e.length;s++)for(var a=e[s],l=0;l<a.length;l++)if(r.push(a[l]),2===r.length){if(0===n){if(255===r[0]&&254===r[1])return"utf-16le";if(254===r[0]&&255===r[1])return"utf-16be"}if(0===r[0]&&0!==r[1]&&o++,0!==r[0]&&0===r[1]&&i++,r.length=0,++n>=100)break t}return o>i?"utf-16be":o<i?"utf-16le":t||"utf-16le"}t.utf16be=i,i.prototype.encoder=o,i.prototype.decoder=s,i.prototype.bomAware=!0,o.prototype.write=function(e){for(var t=n.from(e,"ucs2"),r=0;r<t.length;r+=2){var i=t[r];t[r]=t[r+1],t[r+1]=i}return t},o.prototype.end=function(){},s.prototype.write=function(e){if(0==e.length)return"";var t=n.alloc(e.length+1),r=0,i=0;for(-1!==this.overflowByte&&(t[0]=e[0],t[1]=this.overflowByte,r=1,i=2);r<e.length-1;r+=2,i+=2)t[i]=e[r+1],t[i+1]=e[r];return this.overflowByte=r==e.length-1?e[e.length-1]:-1,t.slice(0,i).toString("ucs2")},s.prototype.end=function(){this.overflowByte=-1},t.utf16=a,a.prototype.encoder=l,a.prototype.decoder=c,l.prototype.write=function(e){return this.encoder.write(e)},l.prototype.end=function(){return this.encoder.end()},c.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<16)return"";var t=u(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var r="",n=0;n<this.initialBufs.length;n++)r+=this.decoder.write(this.initialBufs[n]);return this.initialBufs.length=this.initialBufsLen=0,r}return this.decoder.write(e)},c.prototype.end=function(){if(!this.decoder){var e=u(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",r=0;r<this.initialBufs.length;r++)t+=this.decoder.write(this.initialBufs[r]);var n=this.decoder.end();return n&&(t+=n),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()}},79261:(e,t,r)=>{"use strict";var n=r(75377).Buffer;function i(e,t){this.iconv=t,this.bomAware=!0,this.isLE=e.isLE}function o(e,t){this.isLE=t.isLE,this.highSurrogate=0}function s(e,t){this.isLE=t.isLE,this.badChar=t.iconv.defaultCharUnicode.charCodeAt(0),this.overflow=[]}function a(e,t,r,n){if((r<0||r>1114111)&&(r=n),r>=65536){var i=55296|(r-=65536)>>10;e[t++]=255&i,e[t++]=i>>8;var r=56320|1023&r}return e[t++]=255&r,e[t++]=r>>8,t}function l(e,t){this.iconv=t}function c(e,t){void 0===(e=e||{}).addBOM&&(e.addBOM=!0),this.encoder=t.iconv.getEncoder(e.defaultEncoding||"utf-32le",e)}function u(e,t){this.decoder=null,this.initialBufs=[],this.initialBufsLen=0,this.options=e||{},this.iconv=t.iconv}function h(e,t){var r=[],n=0,i=0,o=0,s=0,a=0;t:for(var l=0;l<e.length;l++)for(var c=e[l],u=0;u<c.length;u++)if(r.push(c[u]),4===r.length){if(0===n){if(255===r[0]&&254===r[1]&&0===r[2]&&0===r[3])return"utf-32le";if(0===r[0]&&0===r[1]&&254===r[2]&&255===r[3])return"utf-32be"}if((0!==r[0]||r[1]>16)&&o++,(0!==r[3]||r[2]>16)&&i++,0===r[0]&&0===r[1]&&(0!==r[2]||0!==r[3])&&a++,(0!==r[0]||0!==r[1])&&0===r[2]&&0===r[3]&&s++,r.length=0,++n>=100)break t}return a-o>s-i?"utf-32be":a-o<s-i?"utf-32le":t||"utf-32le"}t._utf32=i,t.utf32le={type:"_utf32",isLE:!0},t.utf32be={type:"_utf32",isLE:!1},t.ucs4le="utf32le",t.ucs4be="utf32be",i.prototype.encoder=o,i.prototype.decoder=s,o.prototype.write=function(e){for(var t=n.from(e,"ucs2"),r=n.alloc(2*t.length),i=this.isLE?r.writeUInt32LE:r.writeUInt32BE,o=0,s=0;s<t.length;s+=2){var a=t.readUInt16LE(s),l=55296<=a&&a<56320,c=56320<=a&&a<57344;if(this.highSurrogate){if(l||!c)i.call(r,this.highSurrogate,o),o+=4;else{var u=(this.highSurrogate-55296<<10|a-56320)+65536;i.call(r,u,o),o+=4,this.highSurrogate=0;continue}}l?this.highSurrogate=a:(i.call(r,a,o),o+=4,this.highSurrogate=0)}return o<r.length&&(r=r.slice(0,o)),r},o.prototype.end=function(){if(this.highSurrogate){var e=n.alloc(4);return this.isLE?e.writeUInt32LE(this.highSurrogate,0):e.writeUInt32BE(this.highSurrogate,0),this.highSurrogate=0,e}},s.prototype.write=function(e){if(0===e.length)return"";var t=0,r=0,i=n.alloc(e.length+4),o=0,s=this.isLE,l=this.overflow,c=this.badChar;if(l.length>0){for(;t<e.length&&l.length<4;t++)l.push(e[t]);4===l.length&&(r=s?l[t]|l[t+1]<<8|l[t+2]<<16|l[t+3]<<24:l[t+3]|l[t+2]<<8|l[t+1]<<16|l[t]<<24,l.length=0,o=a(i,o,r,c))}for(;t<e.length-3;t+=4)o=a(i,o,r=s?e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24:e[t+3]|e[t+2]<<8|e[t+1]<<16|e[t]<<24,c);for(;t<e.length;t++)l.push(e[t]);return i.slice(0,o).toString("ucs2")},s.prototype.end=function(){this.overflow.length=0},t.utf32=l,t.ucs4="utf32",l.prototype.encoder=c,l.prototype.decoder=u,c.prototype.write=function(e){return this.encoder.write(e)},c.prototype.end=function(){return this.encoder.end()},u.prototype.write=function(e){if(!this.decoder){if(this.initialBufs.push(e),this.initialBufsLen+=e.length,this.initialBufsLen<32)return"";var t=h(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(t,this.options);for(var r="",n=0;n<this.initialBufs.length;n++)r+=this.decoder.write(this.initialBufs[n]);return this.initialBufs.length=this.initialBufsLen=0,r}return this.decoder.write(e)},u.prototype.end=function(){if(!this.decoder){var e=h(this.initialBufs,this.options.defaultEncoding);this.decoder=this.iconv.getDecoder(e,this.options);for(var t="",r=0;r<this.initialBufs.length;r++)t+=this.decoder.write(this.initialBufs[r]);var n=this.decoder.end();return n&&(t+=n),this.initialBufs.length=this.initialBufsLen=0,t}return this.decoder.end()}},46909:(e,t,r)=>{"use strict";var n=r(75377).Buffer;function i(e,t){this.iconv=t}t.utf7=i,t.unicode11utf7="utf7",i.prototype.encoder=s,i.prototype.decoder=a,i.prototype.bomAware=!0;var o=/[^A-Za-z0-9'\(\),-\.\/:\? \n\r\t]+/g;function s(e,t){this.iconv=t.iconv}function a(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}s.prototype.write=function(e){return n.from(e.replace(o,(function(e){return"+"+("+"===e?"":this.iconv.encode(e,"utf16-be").toString("base64").replace(/=+$/,""))+"-"}).bind(this)))},s.prototype.end=function(){};for(var l=/[A-Za-z0-9\/+]/,c=[],u=0;u<256;u++)c[u]=l.test(String.fromCharCode(u));function h(e,t){this.iconv=t}function d(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=n.alloc(6),this.base64AccumIdx=0}function f(e,t){this.iconv=t.iconv,this.inBase64=!1,this.base64Accum=""}a.prototype.write=function(e){for(var t="",r=0,i=this.inBase64,o=this.base64Accum,s=0;s<e.length;s++)if(i){if(!c[e[s]]){if(s==r&&45==e[s])t+="+";else{var a=o+this.iconv.decode(e.slice(r,s),"ascii");t+=this.iconv.decode(n.from(a,"base64"),"utf16-be")}45!=e[s]&&s--,r=s+1,i=!1,o=""}}else 43==e[s]&&(t+=this.iconv.decode(e.slice(r,s),"ascii"),r=s+1,i=!0);if(i){var a=o+this.iconv.decode(e.slice(r),"ascii"),l=a.length-a.length%8;o=a.slice(l),a=a.slice(0,l),t+=this.iconv.decode(n.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(r),"ascii");return this.inBase64=i,this.base64Accum=o,t},a.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(n.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e},t.utf7imap=h,h.prototype.encoder=d,h.prototype.decoder=f,h.prototype.bomAware=!0,d.prototype.write=function(e){for(var t=this.inBase64,r=this.base64Accum,i=this.base64AccumIdx,o=n.alloc(5*e.length+10),s=0,a=0;a<e.length;a++){var l=e.charCodeAt(a);32<=l&&l<=126?(t&&(i>0&&(s+=o.write(r.slice(0,i).toString("base64").replace(/\//g,",").replace(/=+$/,""),s),i=0),o[s++]=45,t=!1),t||(o[s++]=l,38!==l||(o[s++]=45))):(t||(o[s++]=38,t=!0),t&&(r[i++]=l>>8,r[i++]=255&l,i==r.length&&(s+=o.write(r.toString("base64").replace(/\//g,","),s),i=0)))}return this.inBase64=t,this.base64AccumIdx=i,o.slice(0,s)},d.prototype.end=function(){var e=n.alloc(10),t=0;return this.inBase64&&(this.base64AccumIdx>0&&(t+=e.write(this.base64Accum.slice(0,this.base64AccumIdx).toString("base64").replace(/\//g,",").replace(/=+$/,""),t),this.base64AccumIdx=0),e[t++]=45,this.inBase64=!1),e.slice(0,t)};var p=c.slice();p[",".charCodeAt(0)]=!0,f.prototype.write=function(e){for(var t="",r=0,i=this.inBase64,o=this.base64Accum,s=0;s<e.length;s++)if(i){if(!p[e[s]]){if(s==r&&45==e[s])t+="&";else{var a=o+this.iconv.decode(e.slice(r,s),"ascii").replace(/,/g,"/");t+=this.iconv.decode(n.from(a,"base64"),"utf16-be")}45!=e[s]&&s--,r=s+1,i=!1,o=""}}else 38==e[s]&&(t+=this.iconv.decode(e.slice(r,s),"ascii"),r=s+1,i=!0);if(i){var a=o+this.iconv.decode(e.slice(r),"ascii").replace(/,/g,"/"),l=a.length-a.length%8;o=a.slice(l),a=a.slice(0,l),t+=this.iconv.decode(n.from(a,"base64"),"utf16-be")}else t+=this.iconv.decode(e.slice(r),"ascii");return this.inBase64=i,this.base64Accum=o,t},f.prototype.end=function(){var e="";return this.inBase64&&this.base64Accum.length>0&&(e=this.iconv.decode(n.from(this.base64Accum,"base64"),"utf16-be")),this.inBase64=!1,this.base64Accum="",e}},49112:(e,t)=>{"use strict";function r(e,t){this.encoder=e,this.addBOM=!0}function n(e,t){this.decoder=e,this.pass=!1,this.options=t||{}}t.PrependBOM=r,r.prototype.write=function(e){return this.addBOM&&(e="\uFEFF"+e,this.addBOM=!1),this.encoder.write(e)},r.prototype.end=function(){return this.encoder.end()},t.StripBOM=n,n.prototype.write=function(e){var t=this.decoder.write(e);return this.pass||!t||("\uFEFF"===t[0]&&(t=t.slice(1),"function"==typeof this.options.stripBOM&&this.options.stripBOM()),this.pass=!0),t},n.prototype.end=function(){return this.decoder.end()}},13751:(e,t,r)=>{"use strict";var n,i=r(75377).Buffer,o=r(49112),s=e.exports;s.encodings=null,s.defaultCharUnicode="",s.defaultCharSingleByte="?",s.encode=function(e,t,r){e=""+(e||"");var n=s.getEncoder(t,r),o=n.write(e),a=n.end();return a&&a.length>0?i.concat([o,a]):o},s.decode=function(e,t,r){"string"==typeof e&&(s.skipDecodeWarning||(console.error("Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding"),s.skipDecodeWarning=!0),e=i.from(""+(e||""),"binary"));var n=s.getDecoder(t,r),o=n.write(e),a=n.end();return a?o+a:o},s.encodingExists=function(e){try{return s.getCodec(e),!0}catch(e){return!1}},s.toEncoding=s.encode,s.fromEncoding=s.decode,s._codecDataCache={},s.getCodec=function(e){s.encodings||(s.encodings=r(9536));for(var t=s._canonicalizeEncoding(e),n={};;){var i=s._codecDataCache[t];if(i)return i;var o=s.encodings[t];switch(typeof o){case"string":t=o;break;case"object":for(var a in o)n[a]=o[a];n.encodingName||(n.encodingName=t),t=o.type;break;case"function":return n.encodingName||(n.encodingName=t),i=new o(n,s),s._codecDataCache[n.encodingName]=i,i;default:throw Error("Encoding not recognized: '"+e+"' (searched as: '"+t+"')")}}},s._canonicalizeEncoding=function(e){return(""+e).toLowerCase().replace(/:\d{4}$|[^0-9a-z]/g,"")},s.getEncoder=function(e,t){var r=s.getCodec(e),n=new r.encoder(t,r);return r.bomAware&&t&&t.addBOM&&(n=new o.PrependBOM(n,t)),n},s.getDecoder=function(e,t){var r=s.getCodec(e),n=new r.decoder(t,r);return r.bomAware&&!(t&&!1===t.stripBOM)&&(n=new o.StripBOM(n,t)),n},s.enableStreamingAPI=function(e){if(!s.supportsStreams){var t=r(39635)(e);s.IconvLiteEncoderStream=t.IconvLiteEncoderStream,s.IconvLiteDecoderStream=t.IconvLiteDecoderStream,s.encodeStream=function(e,t){return new s.IconvLiteEncoderStream(s.getEncoder(e,t),t)},s.decodeStream=function(e,t){return new s.IconvLiteDecoderStream(s.getDecoder(e,t),t)},s.supportsStreams=!0}};try{n=r(12781)}catch(e){}n&&n.Transform?s.enableStreamingAPI(n):s.encodeStream=s.decodeStream=function(){throw Error("iconv-lite Streaming API is not enabled. Use iconv.enableStreamingAPI(require('stream')); to enable it.")}},39635:(e,t,r)=>{"use strict";var n=r(75377).Buffer;e.exports=function(e){var t=e.Transform;function r(e,r){this.conv=e,(r=r||{}).decodeStrings=!1,t.call(this,r)}function i(e,r){this.conv=e,(r=r||{}).encoding=this.encoding="utf8",t.call(this,r)}return r.prototype=Object.create(t.prototype,{constructor:{value:r}}),r.prototype._transform=function(e,t,r){if("string"!=typeof e)return r(Error("Iconv encoding stream needs strings as its input."));try{var n=this.conv.write(e);n&&n.length&&this.push(n),r()}catch(e){r(e)}},r.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t),e()}catch(t){e(t)}},r.prototype.collect=function(e){var t=[];return this.on("error",e),this.on("data",function(e){t.push(e)}),this.on("end",function(){e(null,n.concat(t))}),this},i.prototype=Object.create(t.prototype,{constructor:{value:i}}),i.prototype._transform=function(e,t,r){if(!n.isBuffer(e)&&!(e instanceof Uint8Array))return r(Error("Iconv decoding stream needs buffers as its input."));try{var i=this.conv.write(e);i&&i.length&&this.push(i,this.encoding),r()}catch(e){r(e)}},i.prototype._flush=function(e){try{var t=this.conv.end();t&&t.length&&this.push(t,this.encoding),e()}catch(t){e(t)}},i.prototype.collect=function(e){var t="";return this.on("error",e),this.on("data",function(e){t+=e}),this.on("end",function(){e(null,t)}),this},{IconvLiteEncoderStream:r,IconvLiteDecoderStream:i}}},54420:(e,t,r)=>{try{var n=r(73837);if("function"!=typeof n.inherits)throw"";e.exports=n.inherits}catch(t){e.exports=r(46238)}},46238:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},90997:(e,t,r)=>{"use strict";var n=r(52273),i=r(78907)(),o=r(257),s={assert:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`O` is not an object");if("string"!=typeof t)throw new o("`slot` must be a string");if(i.assert(e),!s.has(e,t))throw new o("`"+t+"` is not present on `O`")},get:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`O` is not an object");if("string"!=typeof t)throw new o("`slot` must be a string");var r=i.get(e);return r&&r["$"+t]},has:function(e,t){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`O` is not an object");if("string"!=typeof t)throw new o("`slot` must be a string");var r=i.get(e);return!!r&&n(r,"$"+t)},set:function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new o("`O` is not an object");if("string"!=typeof t)throw new o("`slot` must be a string");var n=i.get(e);n||(n={},i.set(e,n)),n["$"+t]=r}};Object.freeze&&Object.freeze(s),e.exports=s},93704:e=>{"use strict";var t,r,n=Function.prototype.toString,i="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof i&&"function"==typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i(function(){throw 42},null,t)}catch(e){e!==r&&(i=null)}else i=null;var o=/^\s*class\b/,s=function(e){try{var t=n.call(e);return o.test(t)}catch(e){return!1}},a=function(e){try{if(s(e))return!1;return n.call(e),!0}catch(e){return!1}},l=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,u=!(0 in[,]),h=function(){return!1};if("object"==typeof document){var d=document.all;l.call(d)===l.call(document.all)&&(h=function(e){if((u||!e)&&(void 0===e||"object"==typeof e))try{var t=l.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(e){}return!1})}e.exports=i?function(e){if(h(e))return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;try{i(e,null,t)}catch(e){if(e!==r)return!1}return!s(e)&&a(e)}:function(e){if(h(e))return!0;if(!e||"function"!=typeof e&&"object"!=typeof e)return!1;if(c)return a(e);if(s(e))return!1;var t=l.call(e);return!!("[object Function]"===t||"[object GeneratorFunction]"===t||/^\[object HTML/.test(t))&&a(e)}},17897:(e,t,r)=>{"use strict";let n;let i=r(57147);e.exports=()=>(void 0===n&&(n=function(){try{return i.statSync("/.dockerenv"),!0}catch(e){return!1}}()||function(){try{return i.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch(e){return!1}}()),n)},6764:(e,t,r)=>{"use strict";var n=r(92554),i=n("String.prototype.valueOf"),o=function(e){try{return i(e),!0}catch(e){return!1}},s=n("Object.prototype.toString"),a=r(60066)();e.exports=function(e){return"string"==typeof e||!!e&&"object"==typeof e&&(a?o(e):"[object String]"===s(e))}},7223:(e,t,r)=>{"use strict";let n=r(22037),i=r(57147),o=r(17897),s=()=>{if("linux"!==process.platform)return!1;if(n.release().toLowerCase().includes("microsoft"))return!o();try{return!!i.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")&&!o()}catch(e){return!1}};process.env.__IS_WSL_TEST__?e.exports=s:e.exports=s()},12570:(e,t,r)=>{var n;/**
 * [js-md4]{@link https://github.com/emn178/js-md4}
 *
 * @namespace md4
 * @version 0.3.2
 * @author Yi-Cyuan Chen [emn178@gmail.com]
 * @copyright Yi-Cyuan Chen 2015-2027
 * @license MIT
 */!function(){"use strict";var t="object"==typeof window?window:{},i=!t.JS_MD4_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;i&&(t=global);var o,s=!t.JS_MD4_NO_COMMON_JS&&e.exports,a=r.amdO,l=!t.JS_MD4_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,c="0123456789abcdef".split(""),u=[128,32768,8388608,-2147483648],h=[0,8,16,24],d=["hex","array","digest","buffer","arrayBuffer"],f=[];if(l){var p=new ArrayBuffer(68);o=new Uint8Array(p),f=new Uint32Array(p)}var m=function(e){return function(t){return new y(!0).update(t)[e]()}},g=function(e){var t=r(6113),n=r(14300).Buffer;return function(r){if("string"==typeof r)return t.createHash("md4").update(r,"utf8").digest("hex");if(l&&r instanceof ArrayBuffer)r=new Uint8Array(r);else if(void 0===r.length)return e(r);return t.createHash("md4").update(new n(r)).digest("hex")}};function y(e){if(e)f[0]=f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0,this.blocks=f,this.buffer8=o;else if(l){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=0,this.finalized=this.hashed=!1,this.first=!0}y.prototype.update=function(e){if(!this.finalized){var t="string"!=typeof e;t&&l&&e instanceof ArrayBuffer&&(e=new Uint8Array(e));for(var r,n,i=0,o=e.length||0,s=this.blocks,a=this.buffer8;i<o;){if(this.hashed&&(this.hashed=!1,s[0]=s[16],s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0),t){if(l)for(n=this.start;i<o&&n<64;++i)a[n++]=e[i];else for(n=this.start;i<o&&n<64;++i)s[n>>2]|=e[i]<<h[3&n++]}else if(l)for(n=this.start;i<o&&n<64;++i)(r=e.charCodeAt(i))<128?a[n++]=r:(r<2048?a[n++]=192|r>>6:(r<55296||r>=57344?a[n++]=224|r>>12:(r=65536+((1023&r)<<10|1023&e.charCodeAt(++i)),a[n++]=240|r>>18,a[n++]=128|r>>12&63),a[n++]=128|r>>6&63),a[n++]=128|63&r);else for(n=this.start;i<o&&n<64;++i)(r=e.charCodeAt(i))<128?s[n>>2]|=r<<h[3&n++]:(r<2048?s[n>>2]|=(192|r>>6)<<h[3&n++]:(r<55296||r>=57344?s[n>>2]|=(224|r>>12)<<h[3&n++]:(r=65536+((1023&r)<<10|1023&e.charCodeAt(++i)),s[n>>2]|=(240|r>>18)<<h[3&n++],s[n>>2]|=(128|r>>12&63)<<h[3&n++]),s[n>>2]|=(128|r>>6&63)<<h[3&n++]),s[n>>2]|=(128|63&r)<<h[3&n++]);this.lastByteIndex=n,this.bytes+=n-this.start,n>=64?(this.start=n-64,this.hash(),this.hashed=!0):this.start=n}return this}},y.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=u[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,this.hash()}},y.prototype.hash=function(){var e,t,r,n,i,o,s,a,l=this.blocks;this.first?t=(t=((r=(r=((n=(n=(4023233417&(e=(e=l[0]-1)<<3|e>>>29)|2562383102&~e)+l[1]+271733878)<<7|n>>>25)&e|4023233417&~n)+l[2]-1732584194)<<11|r>>>21)&n|~r&e)+l[3]-271733879)<<19|t>>>13:(e=this.h0,e+=((t=this.h1)&(r=this.h2)|~t&(n=this.h3))+l[0],n+=((e=e<<3|e>>>29)&t|~e&r)+l[1],r+=((n=n<<7|n>>>25)&e|~n&t)+l[2],t+=((r=r<<11|r>>>21)&n|~r&e)+l[3],t=t<<19|t>>>13),e+=(t&r|~t&n)+l[4],n+=((e=e<<3|e>>>29)&t|~e&r)+l[5],r+=((n=n<<7|n>>>25)&e|~n&t)+l[6],t+=((r=r<<11|r>>>21)&n|~r&e)+l[7],e+=((t=t<<19|t>>>13)&r|~t&n)+l[8],n+=((e=e<<3|e>>>29)&t|~e&r)+l[9],r+=((n=n<<7|n>>>25)&e|~n&t)+l[10],t+=((r=r<<11|r>>>21)&n|~r&e)+l[11],e+=((t=t<<19|t>>>13)&r|~t&n)+l[12],n+=((e=e<<3|e>>>29)&t|~e&r)+l[13],r+=((n=n<<7|n>>>25)&e|~n&t)+l[14],t+=((r=r<<11|r>>>21)&n|~r&e)+l[15],e+=((o=(t=t<<19|t>>>13)&r)|t&n|r&n)+l[0]+1518500249,n+=((i=(e=e<<3|e>>>29)&t)|e&r|o)+l[4]+1518500249,r+=((a=(n=n<<5|n>>>27)&e)|n&t|i)+l[8]+1518500249,t+=((s=(r=r<<9|r>>>23)&n)|r&e|a)+l[12]+1518500249,e+=((o=(t=t<<13|t>>>19)&r)|t&n|s)+l[1]+1518500249,n+=((i=(e=e<<3|e>>>29)&t)|e&r|o)+l[5]+1518500249,r+=((a=(n=n<<5|n>>>27)&e)|n&t|i)+l[9]+1518500249,t+=((s=(r=r<<9|r>>>23)&n)|r&e|a)+l[13]+1518500249,e+=((o=(t=t<<13|t>>>19)&r)|t&n|s)+l[2]+1518500249,n+=((i=(e=e<<3|e>>>29)&t)|e&r|o)+l[6]+1518500249,r+=((a=(n=n<<5|n>>>27)&e)|n&t|i)+l[10]+1518500249,t+=((s=(r=r<<9|r>>>23)&n)|r&e|a)+l[14]+1518500249,e+=((o=(t=t<<13|t>>>19)&r)|t&n|s)+l[3]+1518500249,n+=((i=(e=e<<3|e>>>29)&t)|e&r|o)+l[7]+1518500249,r+=((a=(n=n<<5|n>>>27)&e)|n&t|i)+l[11]+1518500249,t+=((r=r<<9|r>>>23)&n|r&e|a)+l[15]+1518500249,e+=((o=(t=t<<13|t>>>19)^r)^n)+l[0]+1859775393,n+=(o^(e=e<<3|e>>>29))+l[8]+1859775393,r+=((a=(n=n<<9|n>>>23)^e)^t)+l[4]+1859775393,t+=(a^(r=r<<11|r>>>21))+l[12]+1859775393,e+=((o=(t=t<<15|t>>>17)^r)^n)+l[2]+1859775393,n+=(o^(e=e<<3|e>>>29))+l[10]+1859775393,r+=((a=(n=n<<9|n>>>23)^e)^t)+l[6]+1859775393,t+=(a^(r=r<<11|r>>>21))+l[14]+1859775393,e+=((o=(t=t<<15|t>>>17)^r)^n)+l[1]+1859775393,n+=(o^(e=e<<3|e>>>29))+l[9]+1859775393,r+=((a=(n=n<<9|n>>>23)^e)^t)+l[5]+1859775393,t+=(a^(r=r<<11|r>>>21))+l[13]+1859775393,e+=((o=(t=t<<15|t>>>17)^r)^n)+l[3]+1859775393,n+=(o^(e=e<<3|e>>>29))+l[11]+1859775393,r+=((a=(n=n<<9|n>>>23)^e)^t)+l[7]+1859775393,t+=(a^(r=r<<11|r>>>21))+l[15]+1859775393,t=t<<15|t>>>17,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=r-1732584194<<0,this.h3=n+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0)},y.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3;return c[e>>4&15]+c[15&e]+c[e>>12&15]+c[e>>8&15]+c[e>>20&15]+c[e>>16&15]+c[e>>28&15]+c[e>>24&15]+c[t>>4&15]+c[15&t]+c[t>>12&15]+c[t>>8&15]+c[t>>20&15]+c[t>>16&15]+c[t>>28&15]+c[t>>24&15]+c[r>>4&15]+c[15&r]+c[r>>12&15]+c[r>>8&15]+c[r>>20&15]+c[r>>16&15]+c[r>>28&15]+c[r>>24&15]+c[n>>4&15]+c[15&n]+c[n>>12&15]+c[n>>8&15]+c[n>>20&15]+c[n>>16&15]+c[n>>28&15]+c[n>>24&15]},y.prototype.toString=y.prototype.hex,y.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3;return[255&e,e>>8&255,e>>16&255,e>>24&255,255&t,t>>8&255,t>>16&255,t>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255]},y.prototype.array=y.prototype.digest,y.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},y.prototype.buffer=y.prototype.arrayBuffer;var _=function(){var e=m("hex");i&&(e=g(e)),e.create=function(){return new y},e.update=function(t){return e.create().update(t)};for(var t=0;t<d.length;++t){var r=d[t];e[r]=m(r)}return e}();s?e.exports=_:(t.md4=_,a&&void 0!==(n=(function(){return _}).call(_,r,_,e))&&(e.exports=n))}()},5118:(e,t,r)=>{var n=r(20623);e.exports=function(e,t){t=t||{};var r=n.decode(e,t);if(!r)return null;var i=r.payload;if("string"==typeof i)try{var o=JSON.parse(i);null!==o&&"object"==typeof o&&(i=o)}catch(e){}return!0===t.complete?{header:r.header,payload:i,signature:r.signature}:i}},50322:(e,t,r)=>{e.exports={decode:r(5118),verify:r(51612),sign:r(84082),JsonWebTokenError:r(1698),NotBeforeError:r(8740),TokenExpiredError:r(85644)}},1698:e=>{var t=function(e,t){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,t&&(this.inner=t)};t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,e.exports=t},8740:(e,t,r)=>{var n=r(1698),i=function(e,t){n.call(this,e),this.name="NotBeforeError",this.date=t};i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i},85644:(e,t,r)=>{var n=r(1698),i=function(e,t){n.call(this,e),this.name="TokenExpiredError",this.expiredAt=t};i.prototype=Object.create(n.prototype),i.prototype.constructor=i,e.exports=i},6752:(e,t,r)=>{let n=r(56571);e.exports=n.satisfies(process.version,">=15.7.0")},24346:(e,t,r)=>{var n=r(56571);e.exports=n.satisfies(process.version,"^6.12.0 || >=8.0.0")},40268:(e,t,r)=>{let n=r(56571);e.exports=n.satisfies(process.version,">=16.9.0")},21797:(e,t,r)=>{var n=r(48939);e.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if("string"==typeof e){var i=n(e);if(void 0===i)return;return Math.floor(r+i/1e3)}if("number"==typeof e)return r+e}},392:(e,t,r)=>{let n=r(6752),i=r(40268),o={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},s={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;let r=t.asymmetricKeyType;if(!r)return;let a=o[r];if(!a)throw Error(`Unknown key type "${r}".`);if(!a.includes(e))throw Error(`"alg" parameter for "${r}" key type must be one of: ${a.join(", ")}.`);if(n)switch(r){case"ec":let l=t.asymmetricKeyDetails.namedCurve,c=s[e];if(l!==c)throw Error(`"alg" parameter "${e}" requires curve "${c}".`);break;case"rsa-pss":if(i){let r=parseInt(e.slice(-3),10),{hashAlgorithm:n,mgf1HashAlgorithm:i,saltLength:o}=t.asymmetricKeyDetails;if(n!==`sha${r}`||i!==n)throw Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`);if(void 0!==o&&o>r>>3)throw Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}}},6344:(e,t,r)=>{"use strict";let n=Symbol("SemVer ANY");class i{static get ANY(){return n}constructor(e,t){if(t=o(t),e instanceof i){if(!!t.loose===e.loose)return e;e=e.value}c("comparator",e=e.trim().split(/\s+/).join(" "),t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===n?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){let t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],r=e.match(t);if(!r)throw TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new u(r[2],this.options.loose):this.semver=n}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return l(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw TypeError("a Comparator is required");return""===this.operator?""===this.value||new h(e.value,t).test(this.value):""===e.operator?""===e.value||new h(this.value,t).test(e.semver):!((t=o(t)).includePrerelease&&("<0.0.0-0"===this.value||"<0.0.0-0"===e.value)||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||l(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||l(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">"))}}e.exports=i;let o=r(94028),{safeRe:s,t:a}=r(67348),l=r(10986),c=r(31543),u=r(79426),h=r(90600)},90600:(e,t,r)=>{"use strict";let n=/\s+/g;class i{constructor(e,t){if(t=s(t),e instanceof i){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;return new i(e.raw,t)}if(e instanceof a)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(n," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let e=this.set[0];if(this.set=this.set.filter(e=>!y(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1){for(let e of this.set)if(1===e.length&&_(e[0])){this.set=[e];break}}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let t=((this.options.includePrerelease&&m)|(this.options.loose&&g))+":"+e,r=o.get(t);if(r)return r;let n=this.options.loose,i=n?u[h.HYPHENRANGELOOSE]:u[h.HYPHENRANGE];l("hyphen replace",e=e.replace(i,R(this.options.includePrerelease))),l("comparator trim",e=e.replace(u[h.COMPARATORTRIM],d)),l("tilde trim",e=e.replace(u[h.TILDETRIM],f)),l("caret trim",e=e.replace(u[h.CARETTRIM],p));let s=e.split(" ").map(e=>T(e,this.options)).join(" ").split(/\s+/).map(e=>N(e,this.options));n&&(s=s.filter(e=>(l("loose invalid filter",e,this.options),!!e.match(u[h.COMPARATORLOOSE])))),l("range list",s);let c=new Map;for(let e of s.map(e=>new a(e,this.options))){if(y(e))return[e];c.set(e.value,e)}c.size>1&&c.has("")&&c.delete("");let _=[...c.values()];return o.set(t,_),_}intersects(e,t){if(!(e instanceof i))throw TypeError("a Range is required");return this.set.some(r=>E(r,t)&&e.set.some(e=>E(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(D(this.set[t],e,this.options))return!0;return!1}}e.exports=i;let o=new(r(65808)),s=r(94028),a=r(6344),l=r(31543),c=r(79426),{safeRe:u,t:h,comparatorTrimReplace:d,tildeTrimReplace:f,caretTrimReplace:p}=r(67348),{FLAG_INCLUDE_PRERELEASE:m,FLAG_LOOSE:g}=r(39402),y=e=>"<0.0.0-0"===e.value,_=e=>""===e.value,E=(e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(e=>i.intersects(e,t)),i=n.pop();return r},T=(e,t)=>(l("comp",e,t),l("caret",e=S(e,t)),l("tildes",e=w(e,t)),l("xrange",e=I(e,t)),l("stars",e=O(e,t)),e),b=e=>!e||"x"===e.toLowerCase()||"*"===e,w=(e,t)=>e.trim().split(/\s+/).map(e=>v(e,t)).join(" "),v=(e,t)=>{let r=t.loose?u[h.TILDELOOSE]:u[h.TILDE];return e.replace(r,(t,r,n,i,o)=>{let s;return l("tilde",e,t,r,n,i,o),b(r)?s="":b(n)?s=`>=${r}.0.0 <${+r+1}.0.0-0`:b(i)?s=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`:o?(l("replaceTilde pr",o),s=`>=${r}.${n}.${i}-${o} <${r}.${+n+1}.0-0`):s=`>=${r}.${n}.${i} <${r}.${+n+1}.0-0`,l("tilde return",s),s})},S=(e,t)=>e.trim().split(/\s+/).map(e=>A(e,t)).join(" "),A=(e,t)=>{l("caret",e,t);let r=t.loose?u[h.CARETLOOSE]:u[h.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(t,r,i,o,s)=>{let a;return l("caret",e,t,r,i,o,s),b(r)?a="":b(i)?a=`>=${r}.0.0${n} <${+r+1}.0.0-0`:b(o)?a="0"===r?`>=${r}.${i}.0${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.0${n} <${+r+1}.0.0-0`:s?(l("replaceCaret pr",s),a="0"===r?"0"===i?`>=${r}.${i}.${o}-${s} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}-${s} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o}-${s} <${+r+1}.0.0-0`):(l("no pr"),a="0"===r?"0"===i?`>=${r}.${i}.${o}${n} <${r}.${i}.${+o+1}-0`:`>=${r}.${i}.${o}${n} <${r}.${+i+1}.0-0`:`>=${r}.${i}.${o} <${+r+1}.0.0-0`),l("caret return",a),a})},I=(e,t)=>(l("replaceXRanges",e,t),e.split(/\s+/).map(e=>C(e,t)).join(" ")),C=(e,t)=>{e=e.trim();let r=t.loose?u[h.XRANGELOOSE]:u[h.XRANGE];return e.replace(r,(r,n,i,o,s,a)=>{l("xRange",e,r,n,i,o,s,a);let c=b(i),u=c||b(o),h=u||b(s);return"="===n&&h&&(n=""),a=t.includePrerelease?"-0":"",c?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0):o=+o+1,s=0):"<="===n&&(n="<",u?i=+i+1:o=+o+1),"<"===n&&(a="-0"),r=`${n+i}.${o}.${s}${a}`):u?r=`>=${i}.0.0${a} <${+i+1}.0.0-0`:h&&(r=`>=${i}.${o}.0${a} <${i}.${+o+1}.0-0`),l("xRange return",r),r})},O=(e,t)=>(l("replaceStars",e,t),e.trim().replace(u[h.STAR],"")),N=(e,t)=>(l("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?h.GTE0PRE:h.GTE0],"")),R=e=>(t,r,n,i,o,s,a,l,c,u,h,d)=>(r=b(n)?"":b(i)?`>=${n}.0.0${e?"-0":""}`:b(o)?`>=${n}.${i}.0${e?"-0":""}`:s?`>=${r}`:`>=${r}${e?"-0":""}`,l=b(c)?"":b(u)?`<${+c+1}.0.0-0`:b(h)?`<${c}.${+u+1}.0-0`:d?`<=${c}.${u}.${h}-${d}`:e?`<${c}.${u}.${+h+1}-0`:`<=${l}`,`${r} ${l}`.trim()),D=(e,t,r)=>{for(let r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(l(e[r].semver),e[r].semver!==a.ANY&&e[r].semver.prerelease.length>0){let n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},79426:(e,t,r)=>{"use strict";let n=r(31543),{MAX_LENGTH:i,MAX_SAFE_INTEGER:o}=r(39402),{safeRe:s,t:a}=r(67348),l=r(94028),{compareIdentifiers:c}=r(13686);class u{constructor(e,t){if(t=l(t),e instanceof u){if(!!t.loose===e.loose&&!!t.includePrerelease===e.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>i)throw TypeError(`version is longer than ${i} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let r=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!r)throw TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>o||this.major<0)throw TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){let t=+e;if(t>=0&&t<o)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return -1;if(r===i)continue;else return c(r,i)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{let r=this.build[t],i=e.build[t];if(n("build compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return -1;if(r===i)continue;else return c(r,i)}while(++t)}inc(e,t,r){if(e.startsWith("pre")){if(!t&&!1===r)throw Error("invalid increment argument: identifier is empty");if(t){let e=`-${t}`.match(this.options.loose?s[a.PRERELEASELOOSE]:s[a.PRERELEASE]);if(!e||e[1]!==t)throw Error(`invalid identifier: ${t}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"release":if(0===this.prerelease.length)throw Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(0!==this.minor||0!==this.patch||0===this.prerelease.length)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(0!==this.patch||0===this.prerelease.length)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{let e=Number(r)?1:0;if(0===this.prerelease.length)this.prerelease=[e];else{let n=this.prerelease.length;for(;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);if(-1===n){if(t===this.prerelease.join(".")&&!1===r)throw Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let n=[t,e];!1===r&&(n=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=n):this.prerelease=n}break}default:throw Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},47049:(e,t,r)=>{"use strict";let n=r(5543);e.exports=(e,t)=>{let r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},10986:(e,t,r)=>{"use strict";let n=r(73296),i=r(12490),o=r(44232),s=r(75782),a=r(99887),l=r(20376);e.exports=(e,t,r,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,c);case"!=":return i(e,r,c);case">":return o(e,r,c);case">=":return s(e,r,c);case"<":return a(e,r,c);case"<=":return l(e,r,c);default:throw TypeError(`Invalid operator: ${t}`)}}},77332:(e,t,r)=>{"use strict";let n=r(79426),i=r(5543),{safeRe:o,t:s}=r(67348);e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let n;let i=t.includePrerelease?o[s.COERCERTLFULL]:o[s.COERCERTL];for(;(n=i.exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&n.index+n[0].length===r.index+r[0].length||(r=n),i.lastIndex=n.index+n[1].length+n[2].length;i.lastIndex=-1}else r=e.match(t.includePrerelease?o[s.COERCEFULL]:o[s.COERCE]);if(null===r)return null;let a=r[2],l=r[3]||"0",c=r[4]||"0",u=t.includePrerelease&&r[5]?`-${r[5]}`:"",h=t.includePrerelease&&r[6]?`+${r[6]}`:"";return i(`${a}.${l}.${c}${u}${h}`,t)}},85417:(e,t,r)=>{"use strict";let n=r(79426);e.exports=(e,t,r)=>{let i=new n(e,r),o=new n(t,r);return i.compare(o)||i.compareBuild(o)}},35889:(e,t,r)=>{"use strict";let n=r(58489);e.exports=(e,t)=>n(e,t,!0)},58489:(e,t,r)=>{"use strict";let n=r(79426);e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},61533:(e,t,r)=>{"use strict";let n=r(5543);e.exports=(e,t)=>{let r=n(e,null,!0),i=n(t,null,!0),o=r.compare(i);if(0===o)return null;let s=o>0,a=s?r:i,l=s?i:r,c=!!a.prerelease.length;if(l.prerelease.length&&!c){if(!l.patch&&!l.minor)return"major";if(0===l.compareMain(a))return l.minor&&!l.patch?"minor":"patch"}let u=c?"pre":"";return r.major!==i.major?u+"major":r.minor!==i.minor?u+"minor":r.patch!==i.patch?u+"patch":"prerelease"}},73296:(e,t,r)=>{"use strict";let n=r(58489);e.exports=(e,t,r)=>0===n(e,t,r)},44232:(e,t,r)=>{"use strict";let n=r(58489);e.exports=(e,t,r)=>n(e,t,r)>0},75782:(e,t,r)=>{"use strict";let n=r(58489);e.exports=(e,t,r)=>n(e,t,r)>=0},79945:(e,t,r)=>{"use strict";let n=r(79426);e.exports=(e,t,r,i,o)=>{"string"==typeof r&&(o=i,i=r,r=void 0);try{return new n(e instanceof n?e.version:e,r).inc(t,i,o).version}catch(e){return null}}},99887:(e,t,r)=>{"use strict";let n=r(58489);e.exports=(e,t,r)=>0>n(e,t,r)},20376:(e,t,r)=>{"use strict";let n=r(58489);e.exports=(e,t,r)=>0>=n(e,t,r)},77694:(e,t,r)=>{"use strict";let n=r(79426);e.exports=(e,t)=>new n(e,t).major},64034:(e,t,r)=>{"use strict";let n=r(79426);e.exports=(e,t)=>new n(e,t).minor},12490:(e,t,r)=>{"use strict";let n=r(58489);e.exports=(e,t,r)=>0!==n(e,t,r)},5543:(e,t,r)=>{"use strict";let n=r(79426);e.exports=(e,t,r=!1)=>{if(e instanceof n)return e;try{return new n(e,t)}catch(e){if(!r)return null;throw e}}},66134:(e,t,r)=>{"use strict";let n=r(79426);e.exports=(e,t)=>new n(e,t).patch},48048:(e,t,r)=>{"use strict";let n=r(5543);e.exports=(e,t)=>{let r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},87820:(e,t,r)=>{"use strict";let n=r(58489);e.exports=(e,t,r)=>n(t,e,r)},35768:(e,t,r)=>{"use strict";let n=r(85417);e.exports=(e,t)=>e.sort((e,r)=>n(r,e,t))},8976:(e,t,r)=>{"use strict";let n=r(90600);e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(e){return!1}return t.test(e)}},67965:(e,t,r)=>{"use strict";let n=r(85417);e.exports=(e,t)=>e.sort((e,r)=>n(e,r,t))},12758:(e,t,r)=>{"use strict";let n=r(5543);e.exports=(e,t)=>{let r=n(e,t);return r?r.version:null}},56571:(e,t,r)=>{"use strict";let n=r(67348),i=r(39402),o=r(79426),s=r(13686),a=r(5543),l=r(12758),c=r(47049),u=r(79945),h=r(61533),d=r(77694),f=r(64034),p=r(66134),m=r(48048),g=r(58489),y=r(87820),_=r(35889),E=r(85417),T=r(67965),b=r(35768),w=r(44232),v=r(99887),S=r(73296),A=r(12490),I=r(75782),C=r(20376),O=r(10986),N=r(77332),R=r(6344),D=r(90600),k=r(8976),P=r(42978),M=r(9606),L=r(7665),x=r(69541),U=r(72091),F=r(58765),B=r(75884),q=r(16438),j=r(38234),Y=r(53196),H=r(2880);e.exports={parse:a,valid:l,clean:c,inc:u,diff:h,major:d,minor:f,patch:p,prerelease:m,compare:g,rcompare:y,compareLoose:_,compareBuild:E,sort:T,rsort:b,gt:w,lt:v,eq:S,neq:A,gte:I,lte:C,cmp:O,coerce:N,Comparator:R,Range:D,satisfies:k,toComparators:P,maxSatisfying:M,minSatisfying:L,minVersion:x,validRange:U,outside:F,gtr:B,ltr:q,intersects:j,simplifyRange:Y,subset:H,SemVer:o,re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:i.SEMVER_SPEC_VERSION,RELEASE_TYPES:i.RELEASE_TYPES,compareIdentifiers:s.compareIdentifiers,rcompareIdentifiers:s.rcompareIdentifiers}},39402:e=>{"use strict";let t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},31543:e=>{"use strict";let t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},13686:e=>{"use strict";let t=/^[0-9]+$/,r=(e,r)=>{let n=t.test(e),i=t.test(r);return n&&i&&(e=+e,r=+r),e===r?0:n&&!i?-1:i&&!n?1:e<r?-1:1};e.exports={compareIdentifiers:r,rcompareIdentifiers:(e,t)=>r(t,e)}},65808:e=>{"use strict";class t{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(void 0!==t)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){let e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}e.exports=t},94028:e=>{"use strict";let t=Object.freeze({loose:!0}),r=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:r},67348:(e,t,r)=>{"use strict";let{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:o}=r(39402),s=r(31543),a=(t=e.exports={}).re=[],l=t.safeRe=[],c=t.src=[],u=t.safeSrc=[],h=t.t={},d=0,f="[a-zA-Z0-9-]",p=[["\\s",1],["\\d",o],[f,i]],m=e=>{for(let[t,r]of p)e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`);return e},g=(e,t,r)=>{let n=m(t),i=d++;s(e,i,t),h[e]=i,c[i]=t,u[i]=n,a[i]=new RegExp(t,r?"g":void 0),l[i]=new RegExp(n,r?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${f}*`),g("MAINVERSION",`(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})\\.(${c[h.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})\\.(${c[h.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${c[h.NONNUMERICIDENTIFIER]}|${c[h.NUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${c[h.NONNUMERICIDENTIFIER]}|${c[h.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASE",`(?:-(${c[h.PRERELEASEIDENTIFIER]}(?:\\.${c[h.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${c[h.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[h.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER",`${f}+`),g("BUILD",`(?:\\+(${c[h.BUILDIDENTIFIER]}(?:\\.${c[h.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${c[h.MAINVERSION]}${c[h.PRERELEASE]}?${c[h.BUILD]}?`),g("FULL",`^${c[h.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${c[h.MAINVERSIONLOOSE]}${c[h.PRERELEASELOOSE]}?${c[h.BUILD]}?`),g("LOOSE",`^${c[h.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${c[h.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${c[h.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:\\.(${c[h.XRANGEIDENTIFIER]})(?:${c[h.PRERELEASE]})?${c[h.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[h.XRANGEIDENTIFIERLOOSE]})(?:${c[h.PRERELEASELOOSE]})?${c[h.BUILD]}?)?)?`),g("XRANGE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${c[h.GTLT]}\\s*${c[h.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),g("COERCE",`${c[h.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",c[h.COERCEPLAIN]+`(?:${c[h.PRERELEASE]})?`+`(?:${c[h.BUILD]})?`+"(?:$|[^\\d])"),g("COERCERTL",c[h.COERCE],!0),g("COERCERTLFULL",c[h.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${c[h.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",g("TILDE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${c[h.LONETILDE]}${c[h.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${c[h.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",g("CARET",`^${c[h.LONECARET]}${c[h.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${c[h.LONECARET]}${c[h.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${c[h.GTLT]}\\s*(${c[h.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${c[h.GTLT]}\\s*(${c[h.LOOSEPLAIN]}|${c[h.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${c[h.XRANGEPLAIN]})\\s+-\\s+(${c[h.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${c[h.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[h.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},75884:(e,t,r)=>{"use strict";let n=r(58765);e.exports=(e,t,r)=>n(e,t,">",r)},38234:(e,t,r)=>{"use strict";let n=r(90600);e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t,r))},16438:(e,t,r)=>{"use strict";let n=r(58765);e.exports=(e,t,r)=>n(e,t,"<",r)},9606:(e,t,r)=>{"use strict";let n=r(79426),i=r(90600);e.exports=(e,t,r)=>{let o=null,s=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(!o||-1===s.compare(e))&&(s=new n(o=e,r))}),o}},7665:(e,t,r)=>{"use strict";let n=r(79426),i=r(90600);e.exports=(e,t,r)=>{let o=null,s=null,a=null;try{a=new i(t,r)}catch(e){return null}return e.forEach(e=>{a.test(e)&&(!o||1===s.compare(e))&&(s=new n(o=e,r))}),o}},69541:(e,t,r)=>{"use strict";let n=r(79426),i=r(90600),o=r(44232);e.exports=(e,t)=>{e=new i(e,t);let r=new n("0.0.0");if(e.test(r)||(r=new n("0.0.0-0"),e.test(r)))return r;r=null;for(let t=0;t<e.set.length;++t){let i=e.set[t],s=null;i.forEach(e=>{let t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":(!s||o(t,s))&&(s=t);break;case"<":case"<=":break;default:throw Error(`Unexpected operation: ${e.operator}`)}}),s&&(!r||o(r,s))&&(r=s)}return r&&e.test(r)?r:null}},58765:(e,t,r)=>{"use strict";let n=r(79426),i=r(6344),{ANY:o}=i,s=r(90600),a=r(8976),l=r(44232),c=r(99887),u=r(20376),h=r(75782);e.exports=(e,t,r,d)=>{let f,p,m,g,y;switch(e=new n(e,d),t=new s(t,d),r){case">":f=l,p=u,m=c,g=">",y=">=";break;case"<":f=c,p=h,m=l,g="<",y="<=";break;default:throw TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,d))return!1;for(let r=0;r<t.set.length;++r){let n=t.set[r],s=null,a=null;if(n.forEach(e=>{e.semver===o&&(e=new i(">=0.0.0")),s=s||e,a=a||e,f(e.semver,s.semver,d)?s=e:m(e.semver,a.semver,d)&&(a=e)}),s.operator===g||s.operator===y||(!a.operator||a.operator===g)&&p(e,a.semver)||a.operator===y&&m(e,a.semver))return!1}return!0}},53196:(e,t,r)=>{"use strict";let n=r(8976),i=r(58489);e.exports=(e,t,r)=>{let o=[],s=null,a=null,l=e.sort((e,t)=>i(e,t,r));for(let e of l)n(e,t,r)?(a=e,s||(s=e)):(a&&o.push([s,a]),a=null,s=null);s&&o.push([s,null]);let c=[];for(let[e,t]of o)e===t?c.push(e):t||e!==l[0]?t?e===l[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");let u=c.join(" || "),h="string"==typeof t.raw?t.raw:String(t);return u.length<h.length?u:t}},2880:(e,t,r)=>{"use strict";let n=r(90600),i=r(6344),{ANY:o}=i,s=r(8976),a=r(58489),l=[new i(">=0.0.0-0")],c=[new i(">=0.0.0")],u=(e,t,r)=>{let n,i,u,f,p,m,g;if(e===t)return!0;if(1===e.length&&e[0].semver===o){if(1===t.length&&t[0].semver===o)return!0;e=r.includePrerelease?l:c}if(1===t.length&&t[0].semver===o){if(r.includePrerelease)return!0;t=c}let y=new Set;for(let t of e)">"===t.operator||">="===t.operator?n=h(n,t,r):"<"===t.operator||"<="===t.operator?i=d(i,t,r):y.add(t.semver);if(y.size>1||n&&i&&((u=a(n.semver,i.semver,r))>0||0===u&&(">="!==n.operator||"<="!==i.operator)))return null;for(let e of y){if(n&&!s(e,String(n),r)||i&&!s(e,String(i),r))return null;for(let n of t)if(!s(e,String(n),r))return!1;return!0}let _=!!i&&!r.includePrerelease&&!!i.semver.prerelease.length&&i.semver,E=!!n&&!r.includePrerelease&&!!n.semver.prerelease.length&&n.semver;for(let e of(_&&1===_.prerelease.length&&"<"===i.operator&&0===_.prerelease[0]&&(_=!1),t)){if(g=g||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,n){if(E&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===E.major&&e.semver.minor===E.minor&&e.semver.patch===E.patch&&(E=!1),">"===e.operator||">="===e.operator){if((f=h(n,e,r))===e&&f!==n)return!1}else if(">="===n.operator&&!s(n.semver,String(e),r))return!1}if(i){if(_&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===_.major&&e.semver.minor===_.minor&&e.semver.patch===_.patch&&(_=!1),"<"===e.operator||"<="===e.operator){if((p=d(i,e,r))===e&&p!==i)return!1}else if("<="===i.operator&&!s(i.semver,String(e),r))return!1}if(!e.operator&&(i||n)&&0!==u)return!1}return(!n||!m||!!i||0===u)&&(!i||!g||!!n||0===u)&&!E&&!_},h=(e,t,r)=>{if(!e)return t;let n=a(e.semver,t.semver,r);return n>0?e:n<0?t:">"===t.operator&&">="===e.operator?t:e},d=(e,t,r)=>{if(!e)return t;let n=a(e.semver,t.semver,r);return n<0?e:n>0?t:"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,r={})=>{if(e===t)return!0;e=new n(e,r),t=new n(t,r);let i=!1;r:for(let n of e.set){for(let e of t.set){let t=u(n,e,r);if(i=i||null!==t,t)continue r}if(i)return!1}return!0}},42978:(e,t,r)=>{"use strict";let n=r(90600);e.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},72091:(e,t,r)=>{"use strict";let n=r(90600);e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}}},84082:(e,t,r)=>{let n=r(21797),i=r(24346),o=r(392),s=r(20623),a=r(46193),l=r(69376),c=r(89922),u=r(95492),h=r(71203),d=r(7169),f=r(40474),{KeyObject:p,createSecretKey:m,createPrivateKey:g}=r(6113),y=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];i&&y.splice(3,0,"PS256","PS384","PS512");let _={expiresIn:{isValid:function(e){return c(e)||d(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return c(e)||d(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return d(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:a.bind(null,y),message:'"algorithm" must be a valid string enum value'},header:{isValid:h,message:'"header" must be an object'},encoding:{isValid:d,message:'"encoding" must be a string'},issuer:{isValid:d,message:'"issuer" must be a string'},subject:{isValid:d,message:'"subject" must be a string'},jwtid:{isValid:d,message:'"jwtid" must be a string'},noTimestamp:{isValid:l,message:'"noTimestamp" must be a boolean'},keyid:{isValid:d,message:'"keyid" must be a string'},mutatePayload:{isValid:l,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:l,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:l,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},E={iat:{isValid:u,message:'"iat" should be a number of seconds'},exp:{isValid:u,message:'"exp" should be a number of seconds'},nbf:{isValid:u,message:'"nbf" should be a number of seconds'}};function T(e,t,r,n){if(!h(r))throw Error('Expected "'+n+'" to be a plain object.');Object.keys(r).forEach(function(i){let o=e[i];if(!o){if(!t)throw Error('"'+i+'" is not allowed in "'+n+'"');return}if(!o.isValid(r[i]))throw Error(o.message)})}let b={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},w=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,r,i){var a,l;"function"==typeof r?(i=r,r={}):r=r||{};let c="object"==typeof e&&!Buffer.isBuffer(e),u=Object.assign({alg:r.algorithm||"HS256",typ:c?"JWT":void 0,kid:r.keyid},r.header);function h(e){if(i)return i(e);throw e}if(!t&&"none"!==r.algorithm)return h(Error("secretOrPrivateKey must have a value"));if(null!=t&&!(t instanceof p))try{t=g(t)}catch(e){try{t=m("string"==typeof t?Buffer.from(t):t)}catch(e){return h(Error("secretOrPrivateKey is not valid key material"))}}if(u.alg.startsWith("HS")&&"secret"!==t.type)return h(Error(`secretOrPrivateKey must be a symmetric key when using ${u.alg}`));if(/^(?:RS|PS|ES)/.test(u.alg)){if("private"!==t.type)return h(Error(`secretOrPrivateKey must be an asymmetric key when using ${u.alg}`));if(!r.allowInsecureKeySizes&&!u.alg.startsWith("ES")&&void 0!==t.asymmetricKeyDetails&&t.asymmetricKeyDetails.modulusLength<2048)return h(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`))}if(void 0===e)return h(Error("payload is required"));if(c){try{a=e,T(E,!0,a,"payload")}catch(e){return h(e)}r.mutatePayload||(e=Object.assign({},e))}else{let t=w.filter(function(e){return void 0!==r[e]});if(t.length>0)return h(Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}if(void 0!==e.exp&&void 0!==r.expiresIn)return h(Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(void 0!==e.nbf&&void 0!==r.notBefore)return h(Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{l=r,T(_,!1,l,"options")}catch(e){return h(e)}if(!r.allowInvalidAsymmetricKeyTypes)try{o(u.alg,t)}catch(e){return h(e)}let d=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp?delete e.iat:c&&(e.iat=d),void 0!==r.notBefore){try{e.nbf=n(r.notBefore,d)}catch(e){return h(e)}if(void 0===e.nbf)return h(Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(void 0!==r.expiresIn&&"object"==typeof e){try{e.exp=n(r.expiresIn,d)}catch(e){return h(e)}if(void 0===e.exp)return h(Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(b).forEach(function(t){let n=b[t];if(void 0!==r[t]){if(void 0!==e[n])return h(Error('Bad "options.'+t+'" option. The payload already has an "'+n+'" property.'));e[n]=r[t]}});let y=r.encoding||"utf8";if("function"==typeof i)i=i&&f(i),s.createSign({header:u,privateKey:t,payload:e,encoding:y}).once("error",i).once("done",function(e){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&e.length<256)return i(Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`));i(null,e)});else{let n=s.sign({header:u,payload:e,secret:t,encoding:y});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(u.alg)&&n.length<256)throw Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${u.alg}`);return n}}},51612:(e,t,r)=>{let n=r(1698),i=r(8740),o=r(85644),s=r(5118),a=r(21797),l=r(392),c=r(24346),u=r(20623),{KeyObject:h,createSecretKey:d,createPublicKey:f}=r(6113),p=["RS256","RS384","RS512"],m=["ES256","ES384","ES512"],g=["RS256","RS384","RS512"],y=["HS256","HS384","HS512"];c&&(p.splice(p.length,0,"PS256","PS384","PS512"),g.splice(g.length,0,"PS256","PS384","PS512")),e.exports=function(e,t,r,c){let _,E,T;if("function"!=typeof r||c||(c=r,r={}),r||(r={}),r=Object.assign({},r),_=c||function(e,t){if(e)throw e;return t},r.clockTimestamp&&"number"!=typeof r.clockTimestamp)return _(new n("clockTimestamp must be a number"));if(void 0!==r.nonce&&("string"!=typeof r.nonce||""===r.nonce.trim()))return _(new n("nonce must be a non-empty string"));if(void 0!==r.allowInvalidAsymmetricKeyTypes&&"boolean"!=typeof r.allowInvalidAsymmetricKeyTypes)return _(new n("allowInvalidAsymmetricKeyTypes must be a boolean"));let b=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return _(new n("jwt must be provided"));if("string"!=typeof e)return _(new n("jwt must be a string"));let w=e.split(".");if(3!==w.length)return _(new n("jwt malformed"));try{E=s(e,{complete:!0})}catch(e){return _(e)}if(!E)return _(new n("invalid token"));let v=E.header;if("function"==typeof t){if(!c)return _(new n("verify must be called asynchronous if secret or public key is provided as a callback"));T=t}else T=function(e,r){return r(null,t)};return T(v,function(t,s){let c;if(t)return _(new n("error in secret or public key callback: "+t.message));let T=""!==w[2].trim();if(!T&&s)return _(new n("jwt signature is required"));if(T&&!s)return _(new n("secret or public key must be provided"));if(!T&&!r.algorithms)return _(new n('please specify "none" in "algorithms" to verify unsigned tokens'));if(null!=s&&!(s instanceof h))try{s=f(s)}catch(e){try{s=d("string"==typeof s?Buffer.from(s):s)}catch(e){return _(new n("secretOrPublicKey is not valid key material"))}}if(r.algorithms||("secret"===s.type?r.algorithms=y:["rsa","rsa-pss"].includes(s.asymmetricKeyType)?r.algorithms=g:"ec"===s.asymmetricKeyType?r.algorithms=m:r.algorithms=p),-1===r.algorithms.indexOf(E.header.alg))return _(new n("invalid algorithm"));if(v.alg.startsWith("HS")&&"secret"!==s.type)return _(new n(`secretOrPublicKey must be a symmetric key when using ${v.alg}`));if(/^(?:RS|PS|ES)/.test(v.alg)&&"public"!==s.type)return _(new n(`secretOrPublicKey must be an asymmetric key when using ${v.alg}`));if(!r.allowInvalidAsymmetricKeyTypes)try{l(v.alg,s)}catch(e){return _(e)}try{c=u.verify(e,E.header.alg,s)}catch(e){return _(e)}if(!c)return _(new n("invalid signature"));let S=E.payload;if(void 0!==S.nbf&&!r.ignoreNotBefore){if("number"!=typeof S.nbf)return _(new n("invalid nbf value"));if(S.nbf>b+(r.clockTolerance||0))return _(new i("jwt not active",new Date(1e3*S.nbf)))}if(void 0!==S.exp&&!r.ignoreExpiration){if("number"!=typeof S.exp)return _(new n("invalid exp value"));if(b>=S.exp+(r.clockTolerance||0))return _(new o("jwt expired",new Date(1e3*S.exp)))}if(r.audience){let e=Array.isArray(r.audience)?r.audience:[r.audience];if(!(Array.isArray(S.aud)?S.aud:[S.aud]).some(function(t){return e.some(function(e){return e instanceof RegExp?e.test(t):e===t})}))return _(new n("jwt audience invalid. expected: "+e.join(" or ")))}if(r.issuer&&("string"==typeof r.issuer&&S.iss!==r.issuer||Array.isArray(r.issuer)&&-1===r.issuer.indexOf(S.iss)))return _(new n("jwt issuer invalid. expected: "+r.issuer));if(r.subject&&S.sub!==r.subject)return _(new n("jwt subject invalid. expected: "+r.subject));if(r.jwtid&&S.jti!==r.jwtid)return _(new n("jwt jwtid invalid. expected: "+r.jwtid));if(r.nonce&&S.nonce!==r.nonce)return _(new n("jwt nonce invalid. expected: "+r.nonce));if(r.maxAge){if("number"!=typeof S.iat)return _(new n("iat required when maxAge is specified"));let e=a(r.maxAge,S.iat);if(void 0===e)return _(new n('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(b>=e+(r.clockTolerance||0))return _(new o("maxAge exceeded",new Date(1e3*e)))}return!0===r.complete?_(null,{header:v,payload:S,signature:E.signature}):_(null,S)})}},45956:(e,t,r)=>{var n,i=r(66027).Buffer,o=r(6113),s=r(74752),a=r(73837),l="secret must be a string or buffer",c="key must be a string or a buffer",u="function"==typeof o.createPublicKey;function h(e){if(!i.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"string"!=typeof e.type||"string"!=typeof e.asymmetricKeyType||"function"!=typeof e.export))throw m(c)}function d(e){if(!i.isBuffer(e)&&"string"!=typeof e&&"object"!=typeof e)throw m("key must be a string, a buffer or an object")}function f(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function p(e){var t=4-(e=e.toString()).length%4;if(4!==t)for(var r=0;r<t;++r)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function m(e){var t=[].slice.call(arguments,1);return TypeError(a.format.bind(a,e).apply(null,t))}function g(e){var t;return t=e,i.isBuffer(t)||"string"==typeof t||(e=JSON.stringify(e)),e}function y(e){return function(t,r){(function(e){if(!i.isBuffer(e)&&"string"!=typeof e&&(!u||"object"!=typeof e||"secret"!==e.type||"function"!=typeof e.export))throw m(l)})(r),t=g(t);var n=o.createHmac("sha"+e,r);return f((n.update(t),n.digest("base64")))}}u&&(c+=" or a KeyObject",l+="or a KeyObject");var _="timingSafeEqual"in o?function(e,t){return e.byteLength===t.byteLength&&o.timingSafeEqual(e,t)}:function(e,t){return n||(n=r(84367)),n(e,t)};function E(e){return function(t,r,n){var o=y(e)(t,n);return _(i.from(r),i.from(o))}}function T(e){return function(t,r){d(r),t=g(t);var n=o.createSign("RSA-SHA"+e);return f((n.update(t),n.sign(r,"base64")))}}function b(e){return function(t,r,n){h(n),t=g(t),r=p(r);var i=o.createVerify("RSA-SHA"+e);return i.update(t),i.verify(n,r,"base64")}}function w(e){return function(t,r){d(r),t=g(t);var n=o.createSign("RSA-SHA"+e);return f((n.update(t),n.sign({key:r,padding:o.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.constants.RSA_PSS_SALTLEN_DIGEST},"base64")))}}function v(e){return function(t,r,n){h(n),t=g(t),r=p(r);var i=o.createVerify("RSA-SHA"+e);return i.update(t),i.verify({key:n,padding:o.constants.RSA_PKCS1_PSS_PADDING,saltLength:o.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function S(e){var t=T(e);return function(){var r=t.apply(null,arguments);return s.derToJose(r,"ES"+e)}}function A(e){var t=b(e);return function(r,n,i){return t(r,n=s.joseToDer(n,"ES"+e).toString("base64"),i)}}function I(){return function(){return""}}function C(){return function(e,t){return""===t}}e.exports=function(e){var t=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!t)throw m('"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".',e);var r=(t[1]||t[3]).toLowerCase(),n=t[2];return{sign:({hs:y,rs:T,ps:w,es:S,none:I})[r](n),verify:({hs:E,rs:b,ps:v,es:A,none:C})[r](n)}}},20623:(e,t,r)=>{var n=r(64249),i=r(73594);t.ALGORITHMS=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"],t.sign=n.sign,t.verify=i.verify,t.decode=i.decode,t.isValid=i.isValid,t.createSign=function(e){return new n(e)},t.createVerify=function(e){return new i(e)}},17272:(e,t,r)=>{var n=r(66027).Buffer,i=r(12781);function o(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=n.alloc(0),this;if("function"==typeof e.pipe)return this.buffer=n.alloc(0),e.pipe(this),this;if(e.length||"object"==typeof e)return this.buffer=e,this.writable=!1,process.nextTick((function(){this.emit("end",e),this.readable=!1,this.emit("close")}).bind(this)),this;throw TypeError("Unexpected data type ("+typeof e+")")}r(73837).inherits(o,i),o.prototype.write=function(e){this.buffer=n.concat([this.buffer,n.from(e)]),this.emit("data",e)},o.prototype.end=function(e){e&&this.write(e),this.emit("end",e),this.emit("close"),this.writable=!1,this.readable=!1},e.exports=o},64249:(e,t,r)=>{var n=r(66027).Buffer,i=r(17272),o=r(45956),s=r(12781),a=r(93860),l=r(73837);function c(e,t){return n.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function u(e){var t,r,n,i=e.header,s=e.payload,u=e.secret||e.privateKey,h=e.encoding,d=o(i.alg),f=(t=(t=h)||"utf8",r=c(a(i),"binary"),n=c(a(s),t),l.format("%s.%s",r,n)),p=d.sign(f,u);return l.format("%s.%s",f,p)}function h(e){var t=new i(e.secret||e.privateKey||e.key);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new i(e.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}l.inherits(h,s),h.prototype.sign=function(){try{var e=u({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",e),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},h.sign=u,e.exports=h},93860:(e,t,r)=>{var n=r(14300).Buffer;e.exports=function(e){return"string"==typeof e?e:"number"==typeof e||n.isBuffer(e)?e.toString():JSON.stringify(e)}},73594:(e,t,r)=>{var n=r(66027).Buffer,i=r(17272),o=r(45956),s=r(12781),a=r(93860),l=r(73837),c=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function u(e){var t=e.split(".",1)[0];return function(e){if("[object Object]"===Object.prototype.toString.call(e))return e;try{return JSON.parse(e)}catch(e){return}}(n.from(t,"base64").toString("binary"))}function h(e){return e.split(".")[2]}function d(e){return c.test(e)&&!!u(e)}function f(e,t,r){if(!t){var n=Error("Missing algorithm parameter for jws.verify");throw n.code="MISSING_ALGORITHM",n}var i=h(e=a(e)),s=e.split(".",2).join(".");return o(t).verify(s,i,r)}function p(e,t){if(t=t||{},!d(e=a(e)))return null;var r,i,o=u(e);if(!o)return null;var s=(r=r||"utf8",i=e.split(".")[1],n.from(i,"base64").toString(r));return("JWT"===o.typ||t.json)&&(s=JSON.parse(s,t.encoding)),{header:o,payload:s,signature:h(e)}}function m(e){var t=new i((e=e||{}).secret||e.publicKey||e.key);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new i(e.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}l.inherits(m,s),m.prototype.verify=function(){try{var e=f(this.signature.buffer,this.algorithm,this.key.buffer),t=p(this.signature.buffer,this.encoding);return this.emit("done",e,t),this.emit("data",e),this.emit("end"),this.readable=!1,e}catch(e){this.readable=!1,this.emit("error",e),this.emit("close")}},m.decode=p,m.isValid=d,m.verify=f,e.exports=m},46193:e=>{var t,r,n=1/0,i=0/0,o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=/^(?:0|[1-9]\d*)$/,u=parseInt;function h(e){return e!=e}var d=Object.prototype,f=d.hasOwnProperty,p=d.toString,m=d.propertyIsEnumerable,g=(t=Object.keys,r=Object,function(e){return t(r(e))}),y=Math.max,_=Array.isArray;function E(e){var t,r;return null!=e&&"number"==typeof(t=e.length)&&t>-1&&t%1==0&&t<=9007199254740991&&!("[object Function]"==(r=T(e)?p.call(e):"")||"[object GeneratorFunction]"==r)}function T(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){return!!e&&"object"==typeof e}e.exports=function(e,t,r,w){e=E(e)?e:(v=e)?function(e,t){for(var r=-1,n=e?e.length:0,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}(E(v)?function(e,t){var r,n=_(e)||b(e)&&E(e)&&f.call(e,"callee")&&(!m.call(e,"callee")||"[object Arguments]"==p.call(e))?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],i=n.length,o=!!i;for(var s in e)f.call(e,s)&&!(o&&("length"==s||(r=null==(r=i)?9007199254740991:r)&&("number"==typeof s||c.test(s))&&s>-1&&s%1==0&&s<r))&&n.push(s);return n}(v):function(e){if(t=e&&e.constructor,e!==("function"==typeof t&&t.prototype||d))return g(e);var t,r=[];for(var n in Object(e))f.call(e,n)&&"constructor"!=n&&r.push(n);return r}(v),function(e){return v[e]}):[],r=r&&!w?(I=(A=(S=r)?(S=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||b(t)&&"[object Symbol]"==p.call(t))return i;if(T(e)){var t,r="function"==typeof e.valueOf?e.valueOf():e;e=T(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=a.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?i:+e}(S))===n||S===-n?(S<0?-1:1)*17976931348623157e292:S==S?S:0:0===S?S:0)%1,A==A?I?A-I:A:0):0;var v,S,A,I,C,O=e.length;return r<0&&(r=y(O+r,0)),"string"==typeof(C=e)||!_(C)&&b(C)&&"[object String]"==p.call(C)?r<=O&&e.indexOf(t,r)>-1:!!O&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var i=e.length,o=r+-1;++o<i;)if(t(e[o],o,e))return o;return -1}(e,h,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return -1}(e,t,r)>-1}},69376:e=>{var t=Object.prototype.toString;e.exports=function(e){return!0===e||!1===e||!!e&&"object"==typeof e&&"[object Boolean]"==t.call(e)}},89922:e=>{var t=1/0,r=0/0,n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){var u,h,d;return"number"==typeof e&&e==(d=(h=(u=e)?(u=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return r;if(c(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=c(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var h=o.test(e);return h||s.test(e)?a(e.slice(2),h?2:8):i.test(e)?r:+e}(u))===t||u===-t?(u<0?-1:1)*17976931348623157e292:u==u?u:0:0===u?u:0)%1,h==h?d?h-d:h:0)}},95492:e=>{var t=Object.prototype.toString;e.exports=function(e){return"number"==typeof e||!!e&&"object"==typeof e&&"[object Number]"==t.call(e)}},71203:e=>{var t,r,n=Object.prototype,i=Function.prototype.toString,o=n.hasOwnProperty,s=i.call(Object),a=n.toString,l=(t=Object.getPrototypeOf,r=Object,function(e){return t(r(e))});e.exports=function(e){if(!(e&&"object"==typeof e)||"[object Object]"!=a.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=l(e);if(null===t)return!0;var r=o.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&i.call(r)==s}},7169:e=>{var t=Object.prototype.toString,r=Array.isArray;e.exports=function(e){var n;return"string"==typeof e||!r(e)&&!!(n=e)&&"object"==typeof n&&"[object String]"==t.call(e)}},40474:e=>{var t=1/0,r=0/0,n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l=Object.prototype.toString;function c(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e){return function(e,u){var h,d,f,p;if("function"!=typeof u)throw TypeError("Expected a function");return p=(f=(d=e)?(d=function(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==l.call(t))return r;if(c(e)){var t,u="function"==typeof e.valueOf?e.valueOf():e;e=c(u)?u+"":u}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var h=o.test(e);return h||s.test(e)?a(e.slice(2),h?2:8):i.test(e)?r:+e}(d))===t||d===-t?(d<0?-1:1)*17976931348623157e292:d==d?d:0:0===d?d:0)%1,e=f==f?p?f-p:f:0,function(){return--e>0&&(h=u.apply(this,arguments)),e<=1&&(u=void 0),h}}(2,e)}},99578:e=>{"use strict";e.exports=Math.abs},97844:e=>{"use strict";e.exports=Number.MAX_SAFE_INTEGER||9007199254740991},17498:e=>{"use strict";e.exports=Math.floor},88774:(e,t,r)=>{"use strict";var n=r(65856);e.exports=function(e){return("number"==typeof e||"bigint"==typeof e)&&!n(e)&&e!==1/0&&e!==-1/0}},82907:(e,t,r)=>{"use strict";var n=r(99578),i=r(17498),o=r(65856),s=r(88774);e.exports=function(e){if("number"!=typeof e||o(e)||!s(e))return!1;var t=n(e);return i(t)===t}},65856:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!=e}},56284:e=>{"use strict";e.exports=Math.max},70659:e=>{"use strict";e.exports=Math.min},69967:e=>{"use strict";e.exports=Math.pow},96872:e=>{"use strict";e.exports=Math.round},81439:(e,t,r)=>{"use strict";var n=r(65856);e.exports=function(e){return n(e)||0===e?e:e<0?-1:1}},48939:e=>{function t(e,t,r,n){return Math.round(e/r)+" "+n+(t>=1.5*r?"s":"")}e.exports=function(e,r){r=r||{};var n,i,o=typeof e;if("string"===o&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*r;case"weeks":case"week":case"w":return 6048e5*r;case"days":case"day":case"d":return 864e5*r;case"hours":case"hour":case"hrs":case"hr":case"h":return 36e5*r;case"minutes":case"minute":case"mins":case"min":case"m":return 6e4*r;case"seconds":case"second":case"secs":case"sec":case"s":return 1e3*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}(e);if("number"===o&&isFinite(e))return r.long?(n=Math.abs(e))>=864e5?t(e,n,864e5,"day"):n>=36e5?t(e,n,36e5,"hour"):n>=6e4?t(e,n,6e4,"minute"):n>=1e3?t(e,n,1e3,"second"):e+" ms":(i=Math.abs(e))>=864e5?Math.round(e/864e5)+"d":i>=36e5?Math.round(e/36e5)+"h":i>=6e4?Math.round(e/6e4)+"m":i>=1e3?Math.round(e/1e3)+"s":e+"ms";throw Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},18113:(e,t,r)=>{"use strict";let n=r(12781).Duplex,i=Symbol("Callback"),o=Symbol("Other");class s extends n{constructor(e){super(e),this[i]=null,this[o]=null}_read(){let e=this[i];e&&(this[i]=null,e())}_write(e,t,r){this[o][i]=r,this[o].push(e)}_final(e){this[o].on("end",e),this[o].push(null)}}class a{constructor(e){this.socket1=new s(e),this.socket2=new s(e),this.socket1[o]=this.socket2,this.socket2[o]=this.socket1}}e.exports=a},79408:(e,t,r)=>{let{EventEmitter:n}=r(82361);class AbortSignal{constructor(){this.eventEmitter=new n,this.onabort=null,this.aborted=!1,this.reason=void 0}toString(){return"[object AbortSignal]"}get[Symbol.toStringTag](){return"AbortSignal"}removeEventListener(e,t){this.eventEmitter.removeListener(e,t)}addEventListener(e,t){this.eventEmitter.on(e,t)}dispatchEvent(e){let t={type:e,target:this},r=`on${e}`;"function"==typeof this[r]&&this[r](t),this.eventEmitter.emit(e,t)}throwIfAborted(){if(this.aborted)throw this.reason}static abort(e){let t=new i;return t.abort(),t.signal}static timeout(e){let t=new i;return setTimeout(()=>t.abort(Error("TimeoutError")),e),t.signal}}class i{constructor(){this.signal=new AbortSignal}abort(e){this.signal.aborted||(this.signal.aborted=!0,e?this.signal.reason=e:this.signal.reason=Error("AbortError"),this.signal.dispatchEvent("abort"))}toString(){return"[object AbortController]"}get[Symbol.toStringTag](){return"AbortController"}}e.exports={AbortController:i,AbortSignal}},75424:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"==typeof i.get?i.get:null,s=n&&Map.prototype.forEach,a="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&a?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=a&&l&&"function"==typeof l.get?l.get:null,u=a&&Set.prototype.forEach,h="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,p=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,y=String.prototype.match,_=String.prototype.slice,E=String.prototype.replace,T=String.prototype.toUpperCase,b=String.prototype.toLowerCase,w=RegExp.prototype.test,v=Array.prototype.concat,S=Array.prototype.join,A=Array.prototype.slice,I=Math.floor,C="function"==typeof BigInt?BigInt.prototype.valueOf:null,O=Object.getOwnPropertySymbols,N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,R="function"==typeof Symbol&&"object"==typeof Symbol.iterator,D="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===R?"object":"symbol")?Symbol.toStringTag:null,k=Object.prototype.propertyIsEnumerable,P=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function M(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||w.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-I(-e):I(e);if(n!==e){var i=String(n),o=_.call(t,i.length+1);return E.call(i,r,"$&_")+"."+E.call(E.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return E.call(t,r,"$&_")}var L=r(88166),x=L.custom,U=V(x)?x:null,F={__proto__:null,double:'"',single:"'"},B={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function q(e,t,r){var n=F[r.quoteStyle||t];return n+e+n}function j(e){return!D||!("object"==typeof e&&(D in e||void 0!==e[D]))}function Y(e){return"[object Array]"===W(e)&&j(e)}function H(e){return"[object RegExp]"===W(e)&&j(e)}function V(e){if(R)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!N)return!1;try{return N.call(e),!0}catch(e){}return!1}e.exports=function e(t,r,n,i){var a=r||{};if(z(a,"quoteStyle")&&!z(F,a.quoteStyle))throw TypeError('option "quoteStyle" must be "single" or "double"');if(z(a,"maxStringLength")&&("number"==typeof a.maxStringLength?a.maxStringLength<0&&a.maxStringLength!==1/0:null!==a.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=!z(a,"customInspect")||a.customInspect;if("boolean"!=typeof l&&"symbol"!==l)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(z(a,"indent")&&null!==a.indent&&"	"!==a.indent&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(z(a,"numericSeparator")&&"boolean"!=typeof a.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var m=a.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,r){if(t.length>r.maxStringLength){var n=t.length-r.maxStringLength;return e(_.call(t,0,r.maxStringLength),r)+"... "+n+" more character"+(n>1?"s":"")}var i=B[r.quoteStyle||"single"];return i.lastIndex=0,q(E.call(E.call(t,i,"\\$1"),/[\x00-\x1f]/g,K),"single",r)}(t,a);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var T=String(t);return m?M(t,T):T}if("bigint"==typeof t){var w=String(t)+"n";return m?M(t,w):w}var I=void 0===a.depth?5:a.depth;if(void 0===n&&(n=0),n>=I&&I>0&&"object"==typeof t)return Y(t)?"[Array]":"[Object]";var O=function(e,t){var r;if("	"===e.indent)r="	";else{if("number"!=typeof e.indent||!(e.indent>0))return null;r=S.call(Array(e.indent+1)," ")}return{base:r,prev:S.call(Array(t+1),r)}}(a,n);if(void 0===i)i=[];else if(G(i,t)>=0)return"[Circular]";function x(t,r,o){if(r&&(i=A.call(i)).push(r),o){var s={depth:a.depth};return z(a,"quoteStyle")&&(s.quoteStyle=a.quoteStyle),e(t,s,n+1,i)}return e(t,a,n+1,i)}if("function"==typeof t&&!H(t)){var $=function(e){if(e.name)return e.name;var t=y.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),et=ee(t,x);return"[Function"+($?": "+$:" (anonymous)")+"]"+(et.length>0?" { "+S.call(et,", ")+" }":"")}if(V(t)){var er=R?E.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):N.call(t);return"object"!=typeof t||R?er:Z(er)}if(t&&"object"==typeof t&&("undefined"!=typeof HTMLElement&&t instanceof HTMLElement||"string"==typeof t.nodeName&&"function"==typeof t.getAttribute)){for(var en,ei="<"+b.call(String(t.nodeName)),eo=t.attributes||[],es=0;es<eo.length;es++)ei+=" "+eo[es].name+"="+q((en=eo[es].value,E.call(String(en),/"/g,"&quot;")),"double",a);return ei+=">",t.childNodes&&t.childNodes.length&&(ei+="..."),ei+="</"+b.call(String(t.nodeName))+">"}if(Y(t)){if(0===t.length)return"[]";var ea=ee(t,x);return O&&!function(e){for(var t=0;t<e.length;t++)if(G(e[t],"\n")>=0)return!1;return!0}(ea)?"["+J(ea,O)+"]":"[ "+S.call(ea,", ")+" ]"}if("[object Error]"===W(t)&&j(t)){var el=ee(t,x);return"cause"in Error.prototype||!("cause"in t)||k.call(t,"cause")?0===el.length?"["+String(t)+"]":"{ ["+String(t)+"] "+S.call(el,", ")+" }":"{ ["+String(t)+"] "+S.call(v.call("[cause]: "+x(t.cause),el),", ")+" }"}if("object"==typeof t&&l){if(U&&"function"==typeof t[U]&&L)return L(t,{depth:I-n});if("symbol"!==l&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var ec=[];return s&&s.call(t,function(e,r){ec.push(x(r,t,!0)+" => "+x(e,t))}),X("Map",o.call(t),ec,O)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var eu=[];return u&&u.call(t,function(e){eu.push(x(e,t))}),X("Set",c.call(t),eu,O)}if(function(e){if(!h||!e||"object"!=typeof e)return!1;try{h.call(e,h);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return Q("WeakMap");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{h.call(e,h)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return Q("WeakSet");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{return f.call(e),!0}catch(e){}return!1}(t))return Q("WeakRef");if("[object Number]"===W(t)&&j(t))return Z(x(Number(t)));if(function(e){if(!e||"object"!=typeof e||!C)return!1;try{return C.call(e),!0}catch(e){}return!1}(t))return Z(x(C.call(t)));if("[object Boolean]"===W(t)&&j(t))return Z(p.call(t));if("[object String]"===W(t)&&j(t))return Z(x(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if("undefined"!=typeof globalThis&&t===globalThis||"undefined"!=typeof global&&t===global)return"{ [object globalThis] }";if(!("[object Date]"===W(t)&&j(t))&&!H(t)){var eh=ee(t,x),ed=P?P(t)===Object.prototype:t instanceof Object||t.constructor===Object,ef=t instanceof Object?"":"null prototype",ep=!ed&&D&&Object(t)===t&&D in t?_.call(W(t),8,-1):ef?"Object":"",em=(ed||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ep||ef?"["+S.call(v.call([],ep||[],ef||[]),": ")+"] ":"");return 0===eh.length?em+"{}":O?em+"{"+J(eh,O)+"}":em+"{ "+S.call(eh,", ")+" }"}return String(t)};var $=Object.prototype.hasOwnProperty||function(e){return e in this};function z(e,t){return $.call(e,t)}function W(e){return m.call(e)}function G(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}function K(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+T.call(t.toString(16))}function Z(e){return"Object("+e+")"}function Q(e){return e+" { ? }"}function X(e,t,r,n){return e+" ("+t+") {"+(n?J(r,n):S.call(r,", "))+"}"}function J(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+S.call(e,","+r)+"\n"+t.prev}function ee(e,t){var r,n=Y(e),i=[];if(n){i.length=e.length;for(var o=0;o<e.length;o++)i[o]=z(e,o)?t(e[o],e):""}var s="function"==typeof O?O(e):[];if(R){r={};for(var a=0;a<s.length;a++)r["$"+s[a]]=s[a]}for(var l in e)z(e,l)&&(!n||String(Number(l))!==l||!(l<e.length))&&(R&&r["$"+l]instanceof Symbol||(w.call(/[^\w$]/,l)?i.push(t(l,e)+": "+t(e[l],e)):i.push(l+": "+t(e[l],e))));if("function"==typeof O)for(var c=0;c<s.length;c++)k.call(e,s[c])&&i.push("["+t(s[c])+"]: "+t(e[s[c]],e));return i}},88166:(e,t,r)=>{e.exports=r(73837).inspect},13798:(e,t,r)=>{"use strict";var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=r(3341),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),c=a.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(e){var t=e.constructor;return t&&t.prototype===e},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!d["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{h(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),p=function(e){if("undefined"==typeof window||!f)return h(e);try{return h(e)}catch(e){return!1}};n=function(e){var t=null!==e&&"object"==typeof e,r="[object Function]"===o.call(e),n=s(e),a=t&&"[object String]"===o.call(e),h=[];if(!t&&!r&&!n)throw TypeError("Object.keys called on a non-object");var d=c&&r;if(a&&e.length>0&&!i.call(e,0))for(var f=0;f<e.length;++f)h.push(String(f));if(n&&e.length>0)for(var m=0;m<e.length;++m)h.push(String(m));else for(var g in e)!(d&&"prototype"===g)&&i.call(e,g)&&h.push(String(g));if(l)for(var y=p(e),_=0;_<u.length;++_)!(y&&"constructor"===u[_])&&i.call(e,u[_])&&h.push(u[_]);return h}}e.exports=n},96201:(e,t,r)=>{"use strict";var n=Array.prototype.slice,i=r(3341),o=Object.keys,s=o?function(e){return o(e)}:r(13798),a=Object.keys;s.shim=function(){return Object.keys?!function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)&&(Object.keys=function(e){return i(e)?a(n.call(e)):a(e)}):Object.keys=s,Object.keys||s},e.exports=s},3341:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},66319:e=>{e.exports=global.process},95953:(e,t,r)=>{"use strict";let n;let{SymbolDispose:i}=r(2258),{AbortError:o,codes:s}=r(92297),{isNodeStream:a,isWebStream:l,kControllerErrorFunction:c}=r(54664),u=r(10025),{ERR_INVALID_ARG_TYPE:h}=s,d=(e,t)=>{if("object"!=typeof e||!("aborted"in e))throw new h(t,"AbortSignal",e)};e.exports.addAbortSignal=function(t,r){if(d(t,"signal"),!a(r)&&!l(r))throw new h("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!=typeof e||!("aborted"in e))return t;let s=a(t)?()=>{t.destroy(new o(void 0,{cause:e.reason}))}:()=>{t[c](new o(void 0,{cause:e.reason}))};return e.aborted?s():u(t,(n=n||r(83632).addAbortListener)(e,s)[i]),t}},33986:(e,t,r)=>{"use strict";let{StringPrototypeSlice:n,SymbolIterator:i,TypedArrayPrototypeSet:o,Uint8Array:s}=r(2258),{Buffer:a}=r(14300),{inspect:l}=r(83632);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){let t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;let e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return a.alloc(0);let t=a.allocUnsafe(e>>>0),r=this.head,n=0;for(;r;)o(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){let r=this.head.data;if(e<r.length){let t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[i](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,i=0;do{let o=r.data;if(e>o.length)t+=o,e-=o.length;else{e===o.length?(t+=o,++i,r.next?this.head=r.next:this.head=this.tail=null):(t+=n(o,0,e),this.head=r,r.data=n(o,e));break}++i}while(null!==(r=r.next));return this.length-=i,t}_getBuffer(e){let t=a.allocUnsafe(e),r=e,n=this.head,i=0;do{let a=n.data;if(e>a.length)o(t,a,r-e),e-=a.length;else{e===a.length?(o(t,a,r-e),++i,n.next?this.head=n.next:this.head=this.tail=null):(o(t,new s(a.buffer,a.byteOffset,e),r-e),this.head=n,n.data=a.slice(e));break}++i}while(null!==(n=n.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return l(this,{...t,depth:0,customInspect:!1})}}},67216:(e,t,r)=>{"use strict";let{pipeline:n}=r(25547),i=r(65032),{destroyer:o}=r(83708),{isNodeStream:s,isReadable:a,isWritable:l,isWebStream:c,isTransformStream:u,isWritableStream:h,isReadableStream:d}=r(54664),{AbortError:f,codes:{ERR_INVALID_ARG_VALUE:p,ERR_MISSING_ARGS:m}}=r(92297),g=r(10025);e.exports=function(...e){let t,r,y,_,E;if(0===e.length)throw new m("streams");if(1===e.length)return i.from(e[0]);let T=[...e];if("function"==typeof e[0]&&(e[0]=i.from(e[0])),"function"==typeof e[e.length-1]){let t=e.length-1;e[t]=i.from(e[t])}for(let t=0;t<e.length;++t)if(s(e[t])||c(e[t])){if(t<e.length-1&&!(a(e[t])||d(e[t])||u(e[t])))throw new p(`streams[${t}]`,T[t],"must be readable");if(t>0&&!(l(e[t])||h(e[t])||u(e[t])))throw new p(`streams[${t}]`,T[t],"must be writable")}let b=e[0],w=n(e,function(e){let t=_;_=null,t?t(e):e?E.destroy(e):S||v||E.destroy()}),v=!!(l(b)||h(b)||u(b)),S=!!(a(w)||d(w)||u(w));if(E=new i({writableObjectMode:!!(null!=b&&b.writableObjectMode),readableObjectMode:!!(null!=w&&w.readableObjectMode),writable:v,readable:S}),v){if(s(b))E._write=function(e,r,n){b.write(e,r)?n():t=n},E._final=function(e){b.end(),r=e},b.on("drain",function(){if(t){let e=t;t=null,e()}});else if(c(b)){let e=(u(b)?b.writable:b).getWriter();E._write=async function(t,r,n){try{await e.ready,e.write(t).catch(()=>{}),n()}catch(e){n(e)}},E._final=async function(t){try{await e.ready,e.close().catch(()=>{}),r=t}catch(e){t(e)}}}g(u(w)?w.readable:w,()=>{if(r){let e=r;r=null,e()}})}if(S){if(s(w))w.on("readable",function(){if(y){let e=y;y=null,e()}}),w.on("end",function(){E.push(null)}),E._read=function(){for(;;){let e=w.read();if(null===e){y=E._read;return}if(!E.push(e))return}};else if(c(w)){let e=(u(w)?w.readable:w).getReader();E._read=async function(){for(;;)try{let{value:t,done:r}=await e.read();if(!E.push(t))return;if(r){E.push(null);return}}catch{return}}}}return E._destroy=function(e,n){e||null===_||(e=new f),y=null,t=null,r=null,null===_?n(e):(_=n,s(w)&&o(w,e))},E}},83708:(e,t,r)=>{"use strict";let n=r(66319),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:o},AbortError:s}=r(92297),{Symbol:a}=r(2258),{kIsDestroyed:l,isDestroyed:c,isFinished:u,isServerRequest:h}=r(54664),d=a("kDestroy"),f=a("kConstruct");function p(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function m(e,t,r){let i=!1;function o(t){if(i)return;i=!0;let o=e._readableState,s=e._writableState;p(t,s,o),s&&(s.closed=!0),o&&(o.closed=!0),"function"==typeof r&&r(t),t?n.nextTick(g,e,t):n.nextTick(y,e)}try{e._destroy(t||null,o)}catch(e){o(e)}}function g(e,t){_(e,t),y(e)}function y(e){let t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!=r&&r.emitClose||null!=t&&t.emitClose)&&e.emit("close")}function _(e,t){let r=e._readableState,n=e._writableState;null!=n&&n.errorEmitted||null!=r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function E(e,t,r){let i=e._readableState,o=e._writableState;if(null!=o&&o.destroyed||null!=i&&i.destroyed)return this;null!=i&&i.autoDestroy||null!=o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),r?n.nextTick(_,e,t):_(e,t))}function T(e){let t=!1;function r(r){if(t){E(e,null!=r?r:new o);return}t=!0;let i=e._readableState,s=e._writableState,a=s||i;i&&(i.constructed=!0),s&&(s.constructed=!0),a.destroyed?e.emit(d,r):r?E(e,r,!0):n.nextTick(b,e)}try{e._construct(e=>{n.nextTick(r,e)})}catch(e){n.nextTick(r,e)}}function b(e){e.emit(f)}function w(e){return(null==e?void 0:e.setHeader)&&"function"==typeof e.abort}function v(e){e.emit("close")}function S(e,t){e.emit("error",t),n.nextTick(v,e)}e.exports={construct:function(e,t){if("function"!=typeof e._construct)return;let r=e._readableState,i=e._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),e.once(f,t),e.listenerCount(f)>1||n.nextTick(T,e)},destroyer:function(e,t){!(!e||c(e))&&(t||u(e)||(t=new s),h(e)?(e.socket=null,e.destroy(t)):w(e)?e.abort():w(e.req)?e.req.abort():"function"==typeof e.destroy?e.destroy(t):"function"==typeof e.close?e.close():t?n.nextTick(S,e,t):n.nextTick(v,e),e.destroyed||(e[l]=!0))},destroy:function(e,t){let r=this._readableState,n=this._writableState,o=n||r;return null!=n&&n.destroyed||null!=r&&r.destroyed?"function"==typeof t&&t():(p(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),o.constructed?m(this,e,t):this.once(d,function(r){m(this,i(r,e),t)})),this},undestroy:function(){let e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:E}},65032:(e,t,r)=>{"use strict";let n,i;let{ObjectDefineProperties:o,ObjectGetOwnPropertyDescriptor:s,ObjectKeys:a,ObjectSetPrototypeOf:l}=r(2258);e.exports=h;let c=r(83782),u=r(44327);l(h.prototype,c.prototype),l(h,c);{let e=a(u.prototype);for(let t=0;t<e.length;t++){let r=e[t];h.prototype[r]||(h.prototype[r]=u.prototype[r])}}function h(e){if(!(this instanceof h))return new h(e);c.call(this,e),u.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function d(){return void 0===n&&(n={}),n}o(h.prototype,{writable:{__proto__:null,...s(u.prototype,"writable")},writableHighWaterMark:{__proto__:null,...s(u.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...s(u.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...s(u.prototype,"writableBuffer")},writableLength:{__proto__:null,...s(u.prototype,"writableLength")},writableFinished:{__proto__:null,...s(u.prototype,"writableFinished")},writableCorked:{__proto__:null,...s(u.prototype,"writableCorked")},writableEnded:{__proto__:null,...s(u.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...s(u.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),h.fromWeb=function(e,t){return d().newStreamDuplexFromReadableWritablePair(e,t)},h.toWeb=function(e){return d().newReadableWritablePairFromDuplex(e)},h.from=function(e){return i||(i=r(50188)),i(e,"body")}},50188:(e,t,r)=>{"use strict";let n=r(66319),i=r(14300),{isReadable:o,isWritable:s,isIterable:a,isNodeStream:l,isReadableNodeStream:c,isWritableNodeStream:u,isDuplexNodeStream:h,isReadableStream:d,isWritableStream:f}=r(54664),p=r(10025),{AbortError:m,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:y}}=r(92297),{destroyer:_}=r(83708),E=r(65032),T=r(83782),b=r(44327),{createDeferredPromise:w}=r(83632),v=r(41159),S=globalThis.Blob||i.Blob,A=void 0!==S?function(e){return e instanceof S}:function(e){return!1},I=globalThis.AbortController||r(72481).AbortController,{FunctionPrototypeCall:C}=r(2258);class O extends E{constructor(e){super(e),(null==e?void 0:e.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(null==e?void 0:e.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function N(e){let t,r,n,i,a;let l=e.readable&&"function"!=typeof e.readable.read?T.wrap(e.readable):e.readable,c=e.writable,u=!!o(l),h=!!s(c);function d(e){let t=i;i=null,t?t(e):e&&a.destroy(e)}return a=new O({readableObjectMode:!!(null!=l&&l.readableObjectMode),writableObjectMode:!!(null!=c&&c.writableObjectMode),readable:u,writable:h}),h&&(p(c,e=>{h=!1,e&&_(l,e),d(e)}),a._write=function(e,r,n){c.write(e,r)?n():t=n},a._final=function(e){c.end(),r=e},c.on("drain",function(){if(t){let e=t;t=null,e()}}),c.on("finish",function(){if(r){let e=r;r=null,e()}})),u&&(p(l,e=>{u=!1,e&&_(l,e),d(e)}),l.on("readable",function(){if(n){let e=n;n=null,e()}}),l.on("end",function(){a.push(null)}),a._read=function(){for(;;){let e=l.read();if(null===e){n=a._read;return}if(!a.push(e))return}}),a._destroy=function(e,o){e||null===i||(e=new m),n=null,t=null,r=null,null===i?o(e):(i=o,_(c,e),_(l,e))},a}e.exports=function e(t,r){if(h(t))return t;if(c(t))return N({readable:t});if(u(t))return N({writable:t});if(l(t))return N({writable:!1,readable:!1});if(d(t))return N({readable:T.fromWeb(t)});if(f(t))return N({writable:b.fromWeb(t)});if("function"==typeof t){let{value:e,write:i,final:o,destroy:s}=function(e){let{promise:t,resolve:r}=w(),i=new I,o=i.signal;return{value:e(async function*(){for(;;){let e=t;t=null;let{chunk:i,done:s,cb:a}=await e;if(n.nextTick(a),s)return;if(o.aborted)throw new m(void 0,{cause:o.reason});({promise:t,resolve:r}=w()),yield i}}(),{signal:o}),write(e,t,n){let i=r;r=null,i({chunk:e,done:!1,cb:n})},final(e){let t=r;r=null,t({done:!0,cb:e})},destroy(e,t){i.abort(),t(e)}}}(t);if(a(e))return v(O,e,{objectMode:!0,write:i,final:o,destroy:s});let l=null==e?void 0:e.then;if("function"==typeof l){let t;let r=C(l,e,e=>{if(null!=e)throw new y("nully","body",e)},e=>{_(t,e)});return t=new O({objectMode:!0,readable:!1,write:i,final(e){o(async()=>{try{await r,n.nextTick(e,null)}catch(t){n.nextTick(e,t)}})},destroy:s})}throw new y("Iterable, AsyncIterable or AsyncFunction",r,e)}if(A(t))return e(t.arrayBuffer());if(a(t))return v(O,t,{objectMode:!0,writable:!1});if(d(null==t?void 0:t.readable)&&f(null==t?void 0:t.writable))return O.fromWeb(t);if("object"==typeof(null==t?void 0:t.writable)||"object"==typeof(null==t?void 0:t.readable))return N({readable:null!=t&&t.readable?c(null==t?void 0:t.readable)?null==t?void 0:t.readable:e(t.readable):void 0,writable:null!=t&&t.writable?u(null==t?void 0:t.writable)?null==t?void 0:t.writable:e(t.writable):void 0});let i=null==t?void 0:t.then;if("function"==typeof i){let e;return C(i,t,t=>{null!=t&&e.push(t),e.push(null)},t=>{_(e,t)}),e=new O({objectMode:!0,writable:!1,read(){}})}throw new g(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},10025:(e,t,r)=>{"use strict";let n;let i=r(66319),{AbortError:o,codes:s}=r(92297),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_PREMATURE_CLOSE:l}=s,{kEmptyObject:c,once:u}=r(83632),{validateAbortSignal:h,validateFunction:d,validateObject:f,validateBoolean:p}=r(10794),{Promise:m,PromisePrototypeThen:g,SymbolDispose:y}=r(2258),{isClosed:_,isReadable:E,isReadableNodeStream:T,isReadableStream:b,isReadableFinished:w,isReadableErrored:v,isWritable:S,isWritableNodeStream:A,isWritableStream:I,isWritableFinished:C,isWritableErrored:O,isNodeStream:N,willEmitClose:R,kIsClosedPromise:D}=r(54664),k=()=>{};function P(e,t,s){var p,m;if(2==arguments.length?(s=t,t=c):null==t?t=c:f(t,"options"),d(s,"callback"),h(t.signal,"options.signal"),s=u(s),b(e)||I(e))return function(e,t,s){let a=!1,l=k;if(t.signal){if(l=()=>{a=!0,s.call(e,new o(void 0,{cause:t.signal.reason}))},t.signal.aborted)i.nextTick(l);else{let i=(n=n||r(83632).addAbortListener)(t.signal,l),o=s;s=u((...t)=>{i[y](),o.apply(e,t)})}}let c=(...t)=>{a||i.nextTick(()=>s.apply(e,t))};return g(e[D].promise,c,c),k}(e,t,s);if(!N(e))throw new a("stream",["ReadableStream","WritableStream","Stream"],e);let P=null!==(p=t.readable)&&void 0!==p?p:T(e),M=null!==(m=t.writable)&&void 0!==m?m:A(e),L=e._writableState,x=e._readableState,U=()=>{e.writable||q()},F=R(e)&&T(e)===P&&A(e)===M,B=C(e,!1),q=()=>{B=!0,e.destroyed&&(F=!1),F&&(!e.readable||P)||P&&!j||s.call(e)},j=w(e,!1),Y=()=>{j=!0,e.destroyed&&(F=!1),F&&(!e.writable||M)||M&&!B||s.call(e)},H=t=>{s.call(e,t)},V=_(e),$=()=>{V=!0;let t=O(e)||v(e);return t&&"boolean"!=typeof t?s.call(e,t):P&&!j&&T(e,!0)&&!w(e,!1)||M&&!B&&!C(e,!1)?s.call(e,new l):void s.call(e)},z=()=>{V=!0;let t=O(e)||v(e);if(t&&"boolean"!=typeof t)return s.call(e,t);s.call(e)},W=()=>{e.req.on("finish",q)};e.setHeader&&"function"==typeof e.abort?(e.on("complete",q),F||e.on("abort",$),e.req?W():e.on("request",W)):M&&!L&&(e.on("end",U),e.on("close",U)),F||"boolean"!=typeof e.aborted||e.on("aborted",$),e.on("end",Y),e.on("finish",q),!1!==t.error&&e.on("error",H),e.on("close",$),V?i.nextTick($):null!=L&&L.errorEmitted||null!=x&&x.errorEmitted?F||i.nextTick(z):!P&&(!F||E(e))&&(B||!1===S(e))?i.nextTick(z):!M&&(!F||S(e))&&(j||!1===E(e))?i.nextTick(z):x&&e.req&&e.aborted&&i.nextTick(z);let G=()=>{s=k,e.removeListener("aborted",$),e.removeListener("complete",q),e.removeListener("abort",$),e.removeListener("request",W),e.req&&e.req.removeListener("finish",q),e.removeListener("end",U),e.removeListener("close",U),e.removeListener("finish",q),e.removeListener("end",Y),e.removeListener("error",H),e.removeListener("close",$)};if(t.signal&&!V){let a=()=>{let r=s;G(),r.call(e,new o(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)i.nextTick(a);else{let i=(n=n||r(83632).addAbortListener)(t.signal,a),o=s;s=u((...t)=>{i[y](),o.apply(e,t)})}}return G}e.exports=P,e.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=c),null!==(r=t)&&void 0!==r&&r.cleanup&&(p(t.cleanup,"cleanup"),n=t.cleanup),new m((r,i)=>{let o=P(e,t,e=>{n&&o(),e?i(e):r()})})}},41159:(e,t,r)=>{"use strict";let n=r(66319),{PromisePrototypeThen:i,SymbolAsyncIterator:o,SymbolIterator:s}=r(2258),{Buffer:a}=r(14300),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:c}=r(92297).codes;e.exports=function(e,t,r){let u,h;if("string"==typeof t||t instanceof a)return new e({objectMode:!0,...r,read(){this.push(t),this.push(null)}});if(t&&t[o])h=!0,u=t[o]();else if(t&&t[s])h=!1,u=t[s]();else throw new l("iterable",["Iterable"],t);let d=new e({objectMode:!0,highWaterMark:1,...r}),f=!1;async function p(e){let t=null!=e,r="function"==typeof u.throw;if(t&&r){let{value:t,done:r}=await u.throw(e);if(await t,r)return}if("function"==typeof u.return){let{value:e}=await u.return();await e}}async function m(){for(;;){try{let{value:e,done:t}=h?await u.next():u.next();if(t)d.push(null);else{let t=e&&"function"==typeof e.then?await e:e;if(null===t)throw f=!1,new c;if(d.push(t))continue;f=!1}}catch(e){d.destroy(e)}break}}return d._read=function(){f||(f=!0,m())},d._destroy=function(e,t){i(p(e),()=>n.nextTick(t,e),r=>n.nextTick(t,r||e))},d}},41759:(e,t,r)=>{"use strict";let{ArrayIsArray:n,ObjectSetPrototypeOf:i}=r(2258),{EventEmitter:o}=r(82361);function s(e){o.call(this,e)}function a(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}i(s.prototype,o.prototype),i(s,o),s.prototype.pipe=function(e,t){let r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",l),r.on("close",c));let s=!1;function l(){s||(s=!0,e.end())}function c(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function u(e){h(),0===o.listenerCount(this,"error")&&this.emit("error",e)}function h(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",l),r.removeListener("close",c),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",h),r.removeListener("close",h),e.removeListener("close",h)}return a(r,"error",u),a(e,"error",u),r.on("end",h),r.on("close",h),e.on("close",h),e.emit("pipe",r),e},e.exports={Stream:s,prependListener:a}},50392:(e,t,r)=>{"use strict";let n=globalThis.AbortController||r(72481).AbortController,{codes:{ERR_INVALID_ARG_VALUE:i,ERR_INVALID_ARG_TYPE:o,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:a},AbortError:l}=r(92297),{validateAbortSignal:c,validateInteger:u,validateObject:h}=r(10794),d=r(2258).Symbol("kWeak"),f=r(2258).Symbol("kResistStopPropagation"),{finished:p}=r(10025),m=r(67216),{addAbortSignalNoValidate:g}=r(95953),{isWritable:y,isNodeStream:_}=r(54664),{deprecate:E}=r(83632),{ArrayPrototypePush:T,Boolean:b,MathFloor:w,Number:v,NumberIsNaN:S,Promise:A,PromiseReject:I,PromiseResolve:C,PromisePrototypeThen:O,Symbol:N}=r(2258),R=N("kEmpty"),D=N("kEof");function k(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);null!=t&&h(t,"options"),(null==t?void 0:t.signal)!=null&&c(t.signal,"options.signal");let n=1;(null==t?void 0:t.concurrency)!=null&&(n=w(t.concurrency));let i=n-1;return(null==t?void 0:t.highWaterMark)!=null&&(i=w(t.highWaterMark)),u(n,"options.concurrency",1),u(i,"options.highWaterMark",0),i+=n,(async function*(){let o,s;let a=r(83632).AbortSignalAny([null==t?void 0:t.signal].filter(b)),c=this,u=[],h={signal:a},d=!1,f=0;function p(){d=!0,m()}function m(){f-=1,g()}function g(){s&&!d&&f<n&&u.length<i&&(s(),s=null)}(async function(){try{for await(let t of c){if(d)return;if(a.aborted)throw new l;try{if((t=e(t,h))===R)continue;t=C(t)}catch(e){t=I(e)}f+=1,O(t,m,p),u.push(t),o&&(o(),o=null),!d&&(u.length>=i||f>=n)&&await new A(e=>{s=e})}u.push(D)}catch(t){let e=I(t);O(e,m,p),u.push(e)}finally{d=!0,o&&(o(),o=null)}})();try{for(;;){for(;u.length>0;){let e=await u[0];if(e===D)return;if(a.aborted)throw new l;e!==R&&(yield e),u.shift(),g()}await new A(e=>{o=e})}}finally{d=!0,s&&(s(),s=null)}}).call(this)}async function P(e,t){for await(let r of U.call(this,e,t))return!0;return!1}async function M(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);return!await P.call(this,async(...t)=>!await e(...t),t)}async function L(e,t){for await(let r of U.call(this,e,t))return r}async function x(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);async function r(t,r){return await e(t,r),R}for await(let e of k.call(this,r,t));}function U(e,t){if("function"!=typeof e)throw new o("fn",["Function","AsyncFunction"],e);async function r(t,r){return await e(t,r)?t:R}return k.call(this,r,t)}class F extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function B(e,t,r){var i,s;if("function"!=typeof e)throw new o("reducer",["Function","AsyncFunction"],e);null!=r&&h(r,"options"),(null==r?void 0:r.signal)!=null&&c(r.signal,"options.signal");let a=arguments.length>1;if(null!=r&&null!==(i=r.signal)&&void 0!==i&&i.aborted){let e=new l(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(e)),e}let u=new n,m=u.signal;null!=r&&r.signal&&r.signal.addEventListener("abort",()=>u.abort(),{once:!0,[d]:this,[f]:!0});let g=!1;try{for await(let n of this){if(g=!0,null!=r&&null!==(s=r.signal)&&void 0!==s&&s.aborted)throw new l;a?t=await e(t,n,{signal:m}):(t=n,a=!0)}if(!g&&!a)throw new F}finally{u.abort()}return t}async function q(e){null!=e&&h(e,"options"),(null==e?void 0:e.signal)!=null&&c(e.signal,"options.signal");let t=[];for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new l(void 0,{cause:e.signal.reason});T(t,n)}return t}function j(e){if(S(e=v(e)))return 0;if(e<0)throw new a("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:E(function(e){return null!=e&&h(e,"options"),(null==e?void 0:e.signal)!=null&&c(e.signal,"options.signal"),(async function*(){let t=0;for await(let n of this){var r;if(null!=e&&null!==(r=e.signal)&&void 0!==r&&r.aborted)throw new l({cause:e.signal.reason});yield[t++,n]}}).call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(e,t){return null!=t&&h(t,"options"),(null==t?void 0:t.signal)!=null&&c(t.signal,"options.signal"),e=j(e),(async function*(){var r,n;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;for await(let r of this){if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;e--<=0&&(yield r)}}).call(this)},filter:U,flatMap:function(e,t){let r=k.call(this,e,t);return(async function*(){for await(let e of r)yield*e}).call(this)},map:k,take:function(e,t){return null!=t&&h(t,"options"),(null==t?void 0:t.signal)!=null&&c(t.signal,"options.signal"),e=j(e),(async function*(){var r,n;if(null!=t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new l;for await(let r of this){if(null!=t&&null!==(n=t.signal)&&void 0!==n&&n.aborted)throw new l;if(e-- >0&&(yield r),e<=0)return}}).call(this)},compose:function(e,t){if(null!=t&&h(t,"options"),(null==t?void 0:t.signal)!=null&&c(t.signal,"options.signal"),_(e)&&!y(e))throw new i("stream",e,"must be writable");let r=m(this,e);return null!=t&&t.signal&&g(t.signal,r),r}},e.exports.promiseReturningOperators={every:M,forEach:x,reduce:B,toArray:q,some:P,find:L}},86831:(e,t,r)=>{"use strict";let{ObjectSetPrototypeOf:n}=r(2258);e.exports=o;let i=r(5547);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}n(o.prototype,i.prototype),n(o,i),o.prototype._transform=function(e,t,r){r(null,e)}},25547:(e,t,r)=>{let n,i,o;"use strict";let s=r(66319),{ArrayIsArray:a,Promise:l,SymbolAsyncIterator:c,SymbolDispose:u}=r(2258),h=r(10025),{once:d}=r(83632),f=r(83708),p=r(65032),{aggregateTwoErrors:m,codes:{ERR_INVALID_ARG_TYPE:g,ERR_INVALID_RETURN_VALUE:y,ERR_MISSING_ARGS:_,ERR_STREAM_DESTROYED:E,ERR_STREAM_PREMATURE_CLOSE:T},AbortError:b}=r(92297),{validateFunction:w,validateAbortSignal:v}=r(10794),{isIterable:S,isReadable:A,isReadableNodeStream:I,isNodeStream:C,isTransformStream:O,isWebStream:N,isReadableStream:R,isReadableFinished:D}=r(54664),k=globalThis.AbortController||r(72481).AbortController;function P(e,t,r){let n=!1;return e.on("close",()=>{n=!0}),{destroy:t=>{n||(n=!0,f.destroyer(e,t||new E("pipe")))},cleanup:h(e,{readable:t,writable:r},e=>{n=!e})}}function M(e){if(S(e))return e;if(I(e))return L(e);throw new g("val",["Readable","Iterable","AsyncIterable"],e)}async function*L(e){i||(i=r(83782)),yield*i.prototype[c].call(e)}async function x(e,t,r,{end:n}){let i;let o=null,s=e=>{if(e&&(i=e),o){let e=o;o=null,e()}},a=()=>new l((e,t)=>{i?t(i):o=()=>{i?t(i):e()}});t.on("drain",s);let c=h(t,{readable:!1},s);try{for await(let r of(t.writableNeedDrain&&await a(),e))t.write(r)||await a();n&&(t.end(),await a()),r()}catch(e){r(i!==e?m(i,e):e)}finally{c(),t.off("drain",s)}}async function U(e,t,r,{end:n}){O(t)&&(t=t.writable);let i=t.getWriter();try{for await(let t of e)await i.ready,i.write(t).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(e){try{await i.abort(e),r(e)}catch(e){r(e)}}}function F(e,t,i){let l,c,d,f;if(1===e.length&&a(e[0])&&(e=e[0]),e.length<2)throw new _("streams");let m=new k,E=m.signal,w=null==i?void 0:i.signal,L=[];function F(){Y(new b)}v(w,"options.signal"),o=o||r(83632).addAbortListener,w&&(l=o(w,F));let B=[],q=0;function j(e){Y(e,0==--q)}function Y(e,r){var n;if(e&&(!c||"ERR_STREAM_PREMATURE_CLOSE"===c.code)&&(c=e),c||r){for(;B.length;)B.shift()(c);null===(n=l)||void 0===n||n[u](),m.abort(),r&&(c||L.forEach(e=>e()),s.nextTick(t,c,d))}}for(let t=0;t<e.length;t++){let o=e[t],a=t<e.length-1,l=t>0,c=a||(null==i?void 0:i.end)!==!1,u=t===e.length-1;if(C(o)){if(c){let{destroy:e,cleanup:t}=P(o,a,l);B.push(e),A(o)&&u&&L.push(t)}function H(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&j(e)}o.on("error",H),A(o)&&u&&L.push(()=>{o.removeListener("error",H)})}if(0===t){if("function"==typeof o){if(!S(f=o({signal:E})))throw new y("Iterable, AsyncIterable or Stream","source",f)}else f=S(o)||I(o)||O(o)?o:p.from(o)}else if("function"==typeof o){var V,$;if(f=o(f=O(f)?M(null===(V=f)||void 0===V?void 0:V.readable):M(f),{signal:E}),a){if(!S(f,!0))throw new y("AsyncIterable",`transform[${t-1}]`,f)}else{n||(n=r(86831));let e=new n({objectMode:!0}),t=null===($=f)||void 0===$?void 0:$.then;if("function"==typeof t)q++,t.call(f,t=>{d=t,null!=t&&e.write(t),c&&e.end(),s.nextTick(j)},t=>{e.destroy(t),s.nextTick(j,t)});else if(S(f,!0))q++,x(f,e,j,{end:c});else if(R(f)||O(f)){let t=f.readable||f;q++,x(t,e,j,{end:c})}else throw new y("AsyncIterable or Promise","destination",f);let{destroy:i,cleanup:o}=P(f=e,!1,!0);B.push(i),u&&L.push(o)}}else if(C(o)){if(I(f)){q+=2;let e=function(e,t,r,{end:n}){let i=!1;if(t.on("close",()=>{i||r(new T)}),e.pipe(t,{end:!1}),n){function o(){i=!0,t.end()}D(e)?s.nextTick(o):e.once("end",o)}else r();return h(e,{readable:!0,writable:!1},t=>{let n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)}),h(t,{readable:!1,writable:!0},r)}(f,o,j,{end:c});A(o)&&u&&L.push(e)}else if(O(f)||R(f)){let e=f.readable||f;q++,x(e,o,j,{end:c})}else if(S(f))q++,x(f,o,j,{end:c});else throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],f);f=o}else if(N(o)){if(I(f))q++,U(M(f),o,j,{end:c});else if(R(f)||S(f))q++,U(f,o,j,{end:c});else if(O(f))q++,U(f.readable,o,j,{end:c});else throw new g("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],f);f=o}else f=p.from(o)}return(null!=E&&E.aborted||null!=w&&w.aborted)&&s.nextTick(F),f}e.exports={pipelineImpl:F,pipeline:function(...e){return F(e,d((w(e[e.length-1],"streams[stream.length - 1]"),e.pop())))}}},83782:(e,t,r)=>{"use strict";let n;let i=r(66319),{ArrayPrototypeIndexOf:o,NumberIsInteger:s,NumberIsNaN:a,NumberParseInt:l,ObjectDefineProperties:c,ObjectKeys:u,ObjectSetPrototypeOf:h,Promise:d,SafeSet:f,SymbolAsyncDispose:p,SymbolAsyncIterator:m,Symbol:g}=r(2258);e.exports=H,H.ReadableState=Y;let{EventEmitter:y}=r(82361),{Stream:_,prependListener:E}=r(41759),{Buffer:T}=r(14300),{addAbortSignal:b}=r(95953),w=r(10025),v=r(83632).debuglog("stream",e=>{v=e}),S=r(33986),A=r(83708),{getHighWaterMark:I,getDefaultHighWaterMark:C}=r(6824),{aggregateTwoErrors:O,codes:{ERR_INVALID_ARG_TYPE:N,ERR_METHOD_NOT_IMPLEMENTED:R,ERR_OUT_OF_RANGE:D,ERR_STREAM_PUSH_AFTER_EOF:k,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:P},AbortError:M}=r(92297),{validateObject:L}=r(10794),x=g("kPaused"),{StringDecoder:U}=r(73165),F=r(41159);h(H.prototype,_.prototype),h(H,_);let B=()=>{},{errorOrDestroy:q}=A;function j(e){return{enumerable:!1,get(){return(this.state&e)!=0},set(t){t?this.state|=e:this.state&=~e}}}function Y(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(65032)),this.state=6192,e&&e.objectMode&&(this.state|=1),n&&e&&e.readableObjectMode&&(this.state|=1),this.highWaterMark=e?I(this,e,"readableHighWaterMark",n):C(!1),this.buffer=new S,this.length=0,this.pipes=[],this.flowing=null,this[x]=null,e&&!1===e.emitClose&&(this.state&=-2049),e&&!1===e.autoDestroy&&(this.state&=-4097),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new U(e.encoding),this.encoding=e.encoding)}function H(e){if(!(this instanceof H))return new H(e);let t=this instanceof r(65032);this._readableState=new Y(e,this,t),e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&b(e.signal,this)),_.call(this,e),A.construct(this,()=>{this._readableState.needReadable&&K(this,this._readableState)})}function V(e,t,r,n){let i;v("readableAddChunk",t);let o=e._readableState;if((1&o.state)==0&&("string"==typeof t?(r=r||o.defaultEncoding,o.encoding!==r&&(n&&o.encoding?t=T.from(t,r).toString(o.encoding):(t=T.from(t,r),r=""))):t instanceof T?r="":_._isUint8Array(t)?(t=_._uint8ArrayToBuffer(t),r=""):null!=t&&(i=new N("chunk",["string","Buffer","Uint8Array"],t))),i)q(e,i);else if(null===t)o.state&=-9,function(e,t){if(v("onEofChunk"),!t.ended){if(t.decoder){let e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?W(e):(t.needReadable=!1,t.emittedReadable=!0,G(e))}}(e,o);else if((1&o.state)!=0||t&&t.length>0){if(n){if((4&o.state)!=0)q(e,new P);else{if(o.destroyed||o.errored)return!1;$(e,o,t,!0)}}else if(o.ended)q(e,new k);else{if(o.destroyed||o.errored)return!1;o.state&=-9,o.decoder&&!r?(t=o.decoder.write(t),o.objectMode||0!==t.length?$(e,o,t,!1):K(e,o)):$(e,o,t,!1)}}else n||(o.state&=-9,K(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function $(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?((65536&t.state)!=0?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),(64&t.state)!=0&&W(e)),K(e,t)}function z(e,t){return e<=0||0===t.length&&t.ended?0:(1&t.state)!=0?1:a(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function W(e){let t=e._readableState;v("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(v("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(G,e))}function G(e){let t=e._readableState;v("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&!t.errored&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,ee(e)}function K(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,i.nextTick(Z,e,t))}function Z(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){let r=t.length;if(v("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function Q(e){let t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[x]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function X(e){v("readable nexttick read 0"),e.read(0)}function J(e,t){v("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),ee(e),t.flowing&&!t.reading&&e.read(0)}function ee(e){let t=e._readableState;for(v("flow",t.flowing);t.flowing&&null!==e.read(););}function et(e,t){"function"!=typeof e.read&&(e=H.wrap(e,{objectMode:!0}));let r=er(e,t);return r.stream=e,r}async function*er(e,t){let r,n=B;function i(t){this===e?(n(),n=B):n=t}e.on("readable",i);let o=w(e,{writable:!1},e=>{r=e?O(r,e):null,n(),n=B});try{for(;;){let t=e.destroyed?null:e.read();if(null!==t)yield t;else if(r)throw r;else{if(null===r)return;await new d(i)}}}catch(e){throw r=O(r,e)}finally{(r||(null==t?void 0:t.destroyOnReturn)!==!1)&&(void 0===r||e._readableState.autoDestroy)?A.destroyer(e,null):(e.off("readable",i),o())}}function en(e,t){let r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function ei(e){let t=e._readableState;v("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(eo,t,e))}function eo(e,t){if(v("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length){if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)i.nextTick(es,t);else if(e.autoDestroy){let e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}}function es(e){!e.writable||e.writableEnded||e.destroyed||e.end()}function ea(){return void 0===n&&(n={}),n}c(Y.prototype,{objectMode:j(1),ended:j(2),endEmitted:j(4),reading:j(8),constructed:j(16),sync:j(32),needReadable:j(64),emittedReadable:j(128),readableListening:j(256),resumeScheduled:j(512),errorEmitted:j(1024),emitClose:j(2048),autoDestroy:j(4096),destroyed:j(8192),closed:j(16384),closeEmitted:j(32768),multiAwaitDrain:j(65536),readingMore:j(131072),dataEmitted:j(262144)}),H.prototype.destroy=A.destroy,H.prototype._undestroy=A.undestroy,H.prototype._destroy=function(e,t){t(e)},H.prototype[y.captureRejectionSymbol]=function(e){this.destroy(e)},H.prototype[p]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new M,this.destroy(e)),new d((t,r)=>w(this,n=>n&&n!==e?r(n):t(null)))},H.prototype.push=function(e,t){return V(this,e,t,!1)},H.prototype.unshift=function(e,t){return V(this,e,t,!0)},H.prototype.isPaused=function(){let e=this._readableState;return!0===e[x]||!1===e.flowing},H.prototype.setEncoding=function(e){let t=new U(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let e of r)n+=t.write(e);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this},H.prototype.read=function(e){let t;v("read",e),void 0===e?e=NaN:s(e)||(e=l(e,10));let r=this._readableState,n=e;if(e>r.highWaterMark&&(r.highWaterMark=function(e){if(e>1073741824)throw new D("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(r.state&=-129),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return v("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?ei(this):W(this),null;if(0===(e=z(e,r))&&r.ended)return 0===r.length&&ei(this),null;let i=(64&r.state)!=0;if(v("need readable",i),(0===r.length||r.length-e<r.highWaterMark)&&v("length less than watermark",i=!0),r.ended||r.reading||r.destroyed||r.errored||!r.constructed)v("reading, ended or constructing",i=!1);else if(i){v("do read"),r.state|=40,0===r.length&&(r.state|=64);try{this._read(r.highWaterMark)}catch(e){q(this,e)}r.state&=-33,r.reading||(e=z(n,r))}return null===(t=e>0?en(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.multiAwaitDrain?r.awaitDrainWriters.clear():r.awaitDrainWriters=null),0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&ei(this)),null===t||r.errorEmitted||r.closeEmitted||(r.dataEmitted=!0,this.emit("data",t)),t},H.prototype._read=function(e){throw new R("_read()")},H.prototype.pipe=function(e,t){let r;let n=this,o=this._readableState;1!==o.pipes.length||o.multiAwaitDrain||(o.multiAwaitDrain=!0,o.awaitDrainWriters=new f(o.awaitDrainWriters?[o.awaitDrainWriters]:[])),o.pipes.push(e),v("pipe count=%d opts=%j",o.pipes.length,t);let s=t&&!1===t.end||e===i.stdout||e===i.stderr?m:a;function a(){v("onend"),e.end()}o.endEmitted?i.nextTick(s):n.once("end",s),e.on("unpipe",function t(i,s){v("onunpipe"),i===n&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,v("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),r&&e.removeListener("drain",r),e.removeListener("error",h),e.removeListener("unpipe",t),n.removeListener("end",a),n.removeListener("end",m),n.removeListener("data",u),l=!0,r&&o.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&r())});let l=!1;function c(){l||(1===o.pipes.length&&o.pipes[0]===e?(v("false write response, pause",0),o.awaitDrainWriters=e,o.multiAwaitDrain=!1):o.pipes.length>1&&o.pipes.includes(e)&&(v("false write response, pause",o.awaitDrainWriters.size),o.awaitDrainWriters.add(e)),n.pause()),r||(r=function(){let t=n._readableState;t.awaitDrainWriters===e?(v("pipeOnDrain",1),t.awaitDrainWriters=null):t.multiAwaitDrain&&(v("pipeOnDrain",t.awaitDrainWriters.size),t.awaitDrainWriters.delete(e)),(!t.awaitDrainWriters||0===t.awaitDrainWriters.size)&&n.listenerCount("data")&&n.resume()},e.on("drain",r))}function u(t){v("ondata");let r=e.write(t);v("dest.write",r),!1===r&&c()}function h(t){if(v("onerror",t),m(),e.removeListener("error",h),0===e.listenerCount("error")){let r=e._writableState||e._readableState;r&&!r.errorEmitted?q(e,t):e.emit("error",t)}}function d(){e.removeListener("finish",p),m()}function p(){v("onfinish"),e.removeListener("close",d),m()}function m(){v("unpipe"),n.unpipe(e)}return n.on("data",u),E(e,"error",h),e.once("close",d),e.once("finish",p),e.emit("pipe",n),!0===e.writableNeedDrain?c():o.flowing||(v("pipe resume"),n.resume()),e},H.prototype.unpipe=function(e){let t=this._readableState;if(0===t.pipes.length)return this;if(!e){let e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}let r=o(t.pipes,e);return -1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},H.prototype.on=function(e,t){let r=_.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"!==e||n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,v("on readable",n.length,n.reading),n.length?W(this):n.reading||i.nextTick(X,this)),r},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(e,t){let r=_.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(Q,this),r},H.prototype.off=H.prototype.removeListener,H.prototype.removeAllListeners=function(e){let t=_.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&i.nextTick(Q,this),t},H.prototype.resume=function(){let e=this._readableState;return e.flowing||(v("resume"),e.flowing=!e.readableListening,e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(J,this,e))),e[x]=!1,this},H.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[x]=!0,this},H.prototype.wrap=function(e){let t=!1;e.on("data",r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",e=>{q(this,e)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};let r=u(e);for(let t=1;t<r.length;t++){let n=r[t];void 0===this[n]&&"function"==typeof e[n]&&(this[n]=e[n].bind(e))}return this},H.prototype[m]=function(){return et(this)},H.prototype.iterator=function(e){return void 0!==e&&L(e,"options"),et(this,e)},c(H.prototype,{readable:{__proto__:null,get(){let e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._readableState.readable&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),c(Y.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[x]},set(e){this[x]=!!e}}}),H._fromList=en,H.from=function(e,t){return F(H,e,t)},H.fromWeb=function(e,t){return ea().newStreamReadableFromReadableStream(e,t)},H.toWeb=function(e,t){return ea().newReadableStreamFromStreamReadable(e,t)},H.wrap=function(e,t){var r,n;return new H({objectMode:null===(r=null!==(n=e.readableObjectMode)&&void 0!==n?n:e.objectMode)||void 0===r||r,...t,destroy(t,r){A.destroyer(e,t),r(t)}}).wrap(e)}},6824:(e,t,r)=>{"use strict";let{MathFloor:n,NumberIsInteger:i}=r(2258),{validateInteger:o}=r(10794),{ERR_INVALID_ARG_VALUE:s}=r(92297).codes,a=16384,l=16;function c(e){return e?l:a}e.exports={getHighWaterMark:function(e,t,r,o){let a=null!=t.highWaterMark?t.highWaterMark:o?t[r]:null;if(null!=a){if(!i(a)||a<0)throw new s(o?`options.${r}`:"options.highWaterMark",a);return n(a)}return c(e.objectMode)},getDefaultHighWaterMark:c,setDefaultHighWaterMark:function(e,t){o(t,"value",0),e?l=t:a=t}}},5547:(e,t,r)=>{"use strict";let{ObjectSetPrototypeOf:n,Symbol:i}=r(2258);e.exports=c;let{ERR_METHOD_NOT_IMPLEMENTED:o}=r(92297).codes,s=r(65032),{getHighWaterMark:a}=r(6824);n(c.prototype,s.prototype),n(c,s);let l=i("kCallback");function c(e){if(!(this instanceof c))return new c(e);let t=e?a(this,e,"readableHighWaterMark",!0):null;0===t&&(e={...e,highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0}),s.call(this,e),this._readableState.sync=!1,this[l]=null,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function u(e){"function"!=typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((t,r)=>{if(t){e?e(t):this.destroy(t);return}null!=r&&this.push(r),this.push(null),e&&e()})}function h(){this._final!==u&&u.call(this)}c.prototype._final=u,c.prototype._transform=function(e,t,r){throw new o("_transform()")},c.prototype._write=function(e,t,r){let n=this._readableState,i=this._writableState,o=n.length;this._transform(e,t,(e,t)=>{if(e){r(e);return}null!=t&&this.push(t),i.ended||o===n.length||n.length<n.highWaterMark?r():this[l]=r})},c.prototype._read=function(){if(this[l]){let e=this[l];this[l]=null,e()}}},54664:(e,t,r)=>{"use strict";let{SymbolAsyncIterator:n,SymbolIterator:i,SymbolFor:o}=r(2258),s=o("nodejs.stream.destroyed"),a=o("nodejs.stream.errored"),l=o("nodejs.stream.readable"),c=o("nodejs.stream.writable"),u=o("nodejs.stream.disturbed"),h=o("nodejs.webstream.isClosedPromise"),d=o("nodejs.webstream.controllerErrorFunction");function f(e,t=!1){var r;return!!(e&&"function"==typeof e.pipe&&"function"==typeof e.on&&(!t||"function"==typeof e.pause&&"function"==typeof e.resume)&&(!e._writableState||(null===(r=e._readableState)||void 0===r?void 0:r.readable)!==!1)&&(!e._writableState||e._readableState))}function p(e){var t;return!!(e&&"function"==typeof e.write&&"function"==typeof e.on&&(!e._readableState||(null===(t=e._writableState)||void 0===t?void 0:t.writable)!==!1))}function m(e){return e&&(e._readableState||e._writableState||"function"==typeof e.write&&"function"==typeof e.on||"function"==typeof e.pipe&&"function"==typeof e.on)}function g(e){return!!(e&&!m(e)&&"function"==typeof e.pipeThrough&&"function"==typeof e.getReader&&"function"==typeof e.cancel)}function y(e){return!!(e&&!m(e)&&"function"==typeof e.getWriter&&"function"==typeof e.abort)}function _(e){return!!(e&&!m(e)&&"object"==typeof e.readable&&"object"==typeof e.writable)}function E(e){if(!m(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[s]||null!=n&&n.destroyed)}function T(e){if(!p(e))return null;if(!0===e.writableEnded)return!0;let t=e._writableState;return(null==t||!t.errored)&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)}function b(e,t){if(!f(e))return null;let r=e._readableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function w(e){return e&&null!=e[l]?e[l]:"boolean"!=typeof(null==e?void 0:e.readable)?null:!E(e)&&f(e)&&e.readable&&!b(e)}function v(e){return e&&null!=e[c]?e[c]:"boolean"!=typeof(null==e?void 0:e.writable)?null:!E(e)&&p(e)&&e.writable&&!T(e)}function S(e){return"boolean"==typeof e._closed&&"boolean"==typeof e._defaultKeepAlive&&"boolean"==typeof e._removedConnection&&"boolean"==typeof e._removedContLen}function A(e){return"boolean"==typeof e._sent100&&S(e)}e.exports={isDestroyed:E,kIsDestroyed:s,isDisturbed:function(e){var t;return!!(e&&(null!==(t=e[u])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:u,isErrored:function(e){var t,r,n,i,o,s,l,c,u,h;return!!(e&&(null!==(t=null!==(r=null!==(n=null!==(i=null!==(o=null!==(s=e[a])&&void 0!==s?s:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(l=e._readableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==n?n:null===(c=e._writableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==r?r:null===(u=e._readableState)||void 0===u?void 0:u.errored)&&void 0!==t?t:null===(h=e._writableState)||void 0===h?void 0:h.errored))},kIsErrored:a,isReadable:w,kIsReadable:l,kIsClosedPromise:h,kControllerErrorFunction:d,kIsWritable:c,isClosed:function(e){if(!m(e))return null;if("boolean"==typeof e.closed)return e.closed;let t=e._writableState,r=e._readableState;return"boolean"==typeof(null==t?void 0:t.closed)||"boolean"==typeof(null==r?void 0:r.closed)?(null==t?void 0:t.closed)||(null==r?void 0:r.closed):"boolean"==typeof e._closed&&S(e)?e._closed:null},isDuplexNodeStream:function(e){return!!(e&&"function"==typeof e.pipe&&e._readableState&&"function"==typeof e.on&&"function"==typeof e.write)},isFinished:function(e,t){return m(e)?!!E(e)||!((null==t?void 0:t.readable)!==!1&&w(e)||(null==t?void 0:t.writable)!==!1&&v(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"==typeof e[n]:!1===t?"function"==typeof e[i]:"function"==typeof e[n]||"function"==typeof e[i])},isReadableNodeStream:f,isReadableStream:g,isReadableEnded:function(e){if(!f(e))return null;if(!0===e.readableEnded)return!0;let t=e._readableState;return!!t&&!t.errored&&("boolean"!=typeof(null==t?void 0:t.ended)?null:t.ended)},isReadableFinished:b,isReadableErrored:function(e){var t,r;return m(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:m,isWebStream:function(e){return g(e)||y(e)||_(e)},isWritable:v,isWritableNodeStream:p,isWritableStream:y,isWritableEnded:T,isWritableFinished:function(e,t){if(!p(e))return null;if(!0===e.writableFinished)return!0;let r=e._writableState;return(null==r||!r.errored)&&("boolean"!=typeof(null==r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return m(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"==typeof e._consuming&&"boolean"==typeof e._dumped&&(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)===void 0},isServerResponse:A,willEmitClose:function(e){if(!m(e))return null;let t=e._writableState,r=e._readableState,n=t||r;return!n&&A(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:_}},44327:(e,t,r)=>{"use strict";let n;let i=r(66319),{ArrayPrototypeSlice:o,Error:s,FunctionPrototypeSymbolHasInstance:a,ObjectDefineProperty:l,ObjectDefineProperties:c,ObjectSetPrototypeOf:u,StringPrototypeToLowerCase:h,Symbol:d,SymbolHasInstance:f}=r(2258);e.exports=L,L.WritableState=P;let{EventEmitter:p}=r(82361),m=r(41759).Stream,{Buffer:g}=r(14300),y=r(83708),{addAbortSignal:_}=r(95953),{getHighWaterMark:E,getDefaultHighWaterMark:T}=r(6824),{ERR_INVALID_ARG_TYPE:b,ERR_METHOD_NOT_IMPLEMENTED:w,ERR_MULTIPLE_CALLBACK:v,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:A,ERR_STREAM_ALREADY_FINISHED:I,ERR_STREAM_NULL_VALUES:C,ERR_STREAM_WRITE_AFTER_END:O,ERR_UNKNOWN_ENCODING:N}=r(92297).codes,{errorOrDestroy:R}=y;function D(){}u(L.prototype,m.prototype),u(L,m);let k=d("kOnFinished");function P(e,t,n){"boolean"!=typeof n&&(n=t instanceof r(65032)),this.objectMode=!!(e&&e.objectMode),n&&(this.objectMode=this.objectMode||!!(e&&e.writableObjectMode)),this.highWaterMark=e?E(this,e,"writableHighWaterMark",n):T(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let i=!!(e&&!1===e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=B.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,M(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[k]=[]}function M(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function L(e){let t=this instanceof r(65032);if(!t&&!a(L,this))return new L(e);this._writableState=new P(e,this,t),e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final),"function"==typeof e.construct&&(this._construct=e.construct),e.signal&&_(e.signal,this)),m.call(this,e),y.construct(this,()=>{let e=this._writableState;e.writing||H(this,e),$(this,e)})}function x(e,t,r,n){let o;let s=e._writableState;if("function"==typeof r)n=r,r=s.defaultEncoding;else{if(r){if("buffer"!==r&&!g.isEncoding(r))throw new N(r)}else r=s.defaultEncoding;"function"!=typeof n&&(n=D)}if(null===t)throw new C;if(!s.objectMode){if("string"==typeof t)!1!==s.decodeStrings&&(t=g.from(t,r),r="buffer");else if(t instanceof g)r="buffer";else if(m._isUint8Array(t))t=m._uint8ArrayToBuffer(t),r="buffer";else throw new b("chunk",["string","Buffer","Uint8Array"],t)}return(s.ending?o=new O:s.destroyed&&(o=new A("write")),o)?(i.nextTick(n,o),R(e,o,!0),o):(s.pendingcb++,function(e,t,r,n,i){let o=t.objectMode?1:r.length;t.length+=o;let s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==D&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1),s&&!t.errored&&!t.destroyed}(e,s,t,r,n))}function U(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new A("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function F(e,t,r,n){--t.pendingcb,n(r),Y(t),R(e,r)}function B(e,t){let r=e._writableState,n=r.sync,o=r.writecb;if("function"!=typeof o){R(e,new v);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),n?i.nextTick(F,e,r,t,o):F(e,r,t,o)):(r.buffered.length>r.bufferedIndex&&H(e,r),n?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===o?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:o,stream:e,state:r},i.nextTick(q,r.afterWriteTickInfo)):j(e,r,1,o))}function q({stream:e,state:t,count:r,cb:n}){return t.afterWriteTickInfo=null,j(e,t,r,n)}function j(e,t,r,n){for(t.ending||e.destroyed||0!==t.length||!t.needDrain||(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&Y(t),$(e,t)}function Y(e){var t,r;if(e.writing)return;for(let r=e.bufferedIndex;r<e.buffered.length;++r){let{chunk:n,callback:i}=e.buffered[r],o=e.objectMode?1:n.length;e.length-=o,i(null!==(t=e.errored)&&void 0!==t?t:new A("write"))}let n=e[k].splice(0);for(let t=0;t<n.length;t++)n[t](null!==(r=e.errored)&&void 0!==r?r:new A("end"));M(e)}function H(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=t,s=r.length-n;if(!s)return;let a=n;if(t.bufferProcessing=!0,s>1&&e._writev){t.pendingcb-=s-1;let n=t.allNoop?D:e=>{for(let t=a;t<r.length;++t)r[t].callback(e)},i=t.allNoop&&0===a?r:o(r,a);i.allBuffers=t.allBuffers,U(e,t,!0,t.length,i,"",n),M(t)}else{do{let{chunk:n,encoding:o,callback:s}=r[a];r[a++]=null,U(e,t,!1,i?1:n.length,n,o,s)}while(a<r.length&&!t.writing);a===r.length?M(t):a>256?(r.splice(0,a),t.bufferedIndex=0):t.bufferedIndex=a}t.bufferProcessing=!1}function V(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function $(e,t,r){V(t)&&(t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function n(n){if(r){R(e,null!=n?n:v());return}if(r=!0,t.pendingcb--,n){let r=t[k].splice(0);for(let e=0;e<r.length;e++)r[e](n);R(e,n,t.sync)}else V(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,i.nextTick(z,e,t))}t.sync=!0,t.pendingcb++;try{e._final(n)}catch(e){n(e)}t.sync=!1}(e,t))),0===t.pendingcb&&(r?(t.pendingcb++,i.nextTick((e,t)=>{V(t)?z(e,t):t.pendingcb--},e,t)):V(t)&&(t.pendingcb++,z(e,t))))}function z(e,t){t.pendingcb--,t.finished=!0;let r=t[k].splice(0);for(let e=0;e<r.length;e++)r[e]();if(e.emit("finish"),t.autoDestroy){let t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}P.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},l(P.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),l(L,f,{__proto__:null,value:function(e){return!!a(this,e)||this===L&&e&&e._writableState instanceof P}}),L.prototype.pipe=function(){R(this,new S)},L.prototype.write=function(e,t,r){return!0===x(this,e,t,r)},L.prototype.cork=function(){this._writableState.corked++},L.prototype.uncork=function(){let e=this._writableState;e.corked&&(e.corked--,e.writing||H(this,e))},L.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=h(e)),!g.isEncoding(e))throw new N(e);return this._writableState.defaultEncoding=e,this},L.prototype._write=function(e,t,r){if(this._writev)this._writev([{chunk:e,encoding:t}],r);else throw new w("_write()")},L.prototype._writev=null,L.prototype.end=function(e,t,r){let n;let o=this._writableState;if("function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e){let r=x(this,e,t);r instanceof s&&(n=r)}return o.corked&&(o.corked=1,this.uncork()),n||(o.errored||o.ending?o.finished?n=new I("end"):o.destroyed&&(n=new A("end")):(o.ending=!0,$(this,o,!0),o.ended=!0)),"function"==typeof r&&(n||o.finished?i.nextTick(r,n):o[k].push(r)),this},c(L.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){let e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){let e=this._writableState;return!!e&&!e.destroyed&&!e.ending&&e.needDrain}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(!1!==this._writableState.writable&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});let W=y.destroy;function G(){return void 0===n&&(n={}),n}L.prototype.destroy=function(e,t){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[k].length)&&i.nextTick(Y,r),W.call(this,e,t),this},L.prototype._undestroy=y.undestroy,L.prototype._destroy=function(e,t){t(e)},L.prototype[p.captureRejectionSymbol]=function(e){this.destroy(e)},L.fromWeb=function(e,t){return G().newStreamWritableFromWritableStream(e,t)},L.toWeb=function(e){return G().newWritableStreamFromStreamWritable(e)}},10794:(e,t,r)=>{"use strict";let{ArrayIsArray:n,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:o,ArrayPrototypeMap:s,NumberIsInteger:a,NumberIsNaN:l,NumberMAX_SAFE_INTEGER:c,NumberMIN_SAFE_INTEGER:u,NumberParseInt:h,ObjectPrototypeHasOwnProperty:d,RegExpPrototypeExec:f,String:p,StringPrototypeToUpperCase:m,StringPrototypeTrim:g}=r(2258),{hideStackFrames:y,codes:{ERR_SOCKET_BAD_PORT:_,ERR_INVALID_ARG_TYPE:E,ERR_INVALID_ARG_VALUE:T,ERR_OUT_OF_RANGE:b,ERR_UNKNOWN_SIGNAL:w}}=r(92297),{normalizeEncoding:v}=r(83632),{isAsyncFunction:S,isArrayBufferView:A}=r(83632).types,I={},C=/^[0-7]+$/,O=y((e,t,r=u,n=c)=>{if("number"!=typeof e)throw new E(t,"number",e);if(!a(e))throw new b(t,"an integer",e);if(e<r||e>n)throw new b(t,`>= ${r} && <= ${n}`,e)}),N=y((e,t,r=-2147483648,n=2147483647)=>{if("number"!=typeof e)throw new E(t,"number",e);if(!a(e))throw new b(t,"an integer",e);if(e<r||e>n)throw new b(t,`>= ${r} && <= ${n}`,e)}),R=y((e,t,r=!1)=>{if("number"!=typeof e)throw new E(t,"number",e);if(!a(e))throw new b(t,"an integer",e);let n=r?1:0;if(e<n||e>4294967295)throw new b(t,`>= ${n} && <= 4294967295`,e)});function D(e,t){if("string"!=typeof e)throw new E(t,"string",e)}let k=y((e,t,r)=>{if(!i(r,e))throw new T(t,e,"must be one of: "+o(s(r,e=>"string"==typeof e?`'${e}'`:p(e)),", "))});function P(e,t){if("boolean"!=typeof e)throw new E(t,"boolean",e)}function M(e,t,r){return null!=e&&d(e,t)?e[t]:r}let L=y((e,t,r=null)=>{let i=M(r,"allowArray",!1),o=M(r,"allowFunction",!1);if(!M(r,"nullable",!1)&&null===e||!i&&n(e)||"object"!=typeof e&&(!o||"function"!=typeof e))throw new E(t,"Object",e)}),x=y((e,t)=>{if(null!=e&&"object"!=typeof e&&"function"!=typeof e)throw new E(t,"a dictionary",e)}),U=y((e,t,r=0)=>{if(!n(e))throw new E(t,"Array",e);if(e.length<r)throw new T(t,e,`must be longer than ${r}`)}),F=y((e,t="buffer")=>{if(!A(e))throw new E(t,["Buffer","TypedArray","DataView"],e)}),B=y((e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new E(t,"AbortSignal",e)}),q=y((e,t)=>{if("function"!=typeof e)throw new E(t,"Function",e)}),j=y((e,t)=>{if("function"!=typeof e||S(e))throw new E(t,"Function",e)}),Y=y((e,t)=>{if(void 0!==e)throw new E(t,"undefined",e)}),H=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function V(e,t){if(void 0===e||!f(H,e))throw new T(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if(void 0===e&&(e=r),"string"==typeof e){if(null===f(C,e))throw new T(t,e,"must be a 32-bit unsigned integer or an octal string");e=h(e,8)}return R(e,t),e},validateArray:U,validateStringArray:function(e,t){U(e,t);for(let r=0;r<e.length;r++)D(e[r],`${t}[${r}]`)},validateBooleanArray:function(e,t){U(e,t);for(let r=0;r<e.length;r++)P(e[r],`${t}[${r}]`)},validateAbortSignalArray:function(e,t){U(e,t);for(let r=0;r<e.length;r++){let n=e[r],i=`${t}[${r}]`;if(null==n)throw new E(i,"AbortSignal",n);B(n,i)}},validateBoolean:P,validateBuffer:F,validateDictionary:x,validateEncoding:function(e,t){let r=v(t),n=e.length;if("hex"===r&&n%2!=0)throw new T("encoding",t,`is invalid for data of length ${n}`)},validateFunction:q,validateInt32:N,validateInteger:O,validateNumber:function(e,t,r,n){if("number"!=typeof e)throw new E(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&l(e))throw new b(t,`${null!=r?`>= ${r}`:""}${null!=r&&null!=n?" && ":""}${null!=n?`<= ${n}`:""}`,e)},validateObject:L,validateOneOf:k,validatePlainFunction:j,validatePort:function(e,t="Port",r=!0){if("number"!=typeof e&&"string"!=typeof e||"string"==typeof e&&0===g(e).length||+e!=+e>>>0||e>65535||0===e&&!r)throw new _(t,e,r);return 0|e},validateSignalName:function(e,t="signal"){if(D(e,t),void 0===I[e]){if(void 0!==I[m(e)])throw new w(e+" (signals must use all capital letters)");throw new w(e)}},validateString:D,validateUint32:R,validateUndefined:Y,validateUnion:function(e,t,r){if(!i(r,e))throw new E(t,`('${o(r,"|")}')`,e)},validateAbortSignal:B,validateLinkHeaderValue:function(e){if("string"==typeof e)return V(e,"hints"),e;if(n(e)){let t=e.length,r="";if(0===t)return r;for(let n=0;n<t;n++){let i=e[n];V(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new T("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},92297:(e,t,r)=>{"use strict";let{format:n,inspect:i}=r(90933),{AggregateError:o}=r(2258),s=globalThis.AggregateError||o,a=Symbol("kIsNodeError"),l=["string","function","number","object","Function","Object","boolean","bigint","symbol"],c=/^([A-Z][a-z0-9]*)+$/,u={};function h(e,t){if(!e)throw new u.ERR_INTERNAL_ASSERTION(t)}function d(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function f(e,t,r){r||(r=Error);class i extends r{constructor(...r){super(function(e,t,r){if("function"==typeof t)return h(t.length<=r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${t.length}).`),t(...r);let i=(t.match(/%[dfijoOs]/g)||[]).length;return(h(i===r.length,`Code: ${e}; The provided arguments length (${r.length}) does not match the required ones (${i}).`),0===r.length)?t:n(t,...r)}(e,t,r))}toString(){return`${this.name} [${e}]: ${this.message}`}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${e}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[a]=!0,u[e]=i}function p(e){let t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class m extends Error{constructor(e="The operation was aborted",t){if(void 0!==t&&"object"!=typeof t)throw new u.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}f("ERR_ASSERTION","%s",Error),f("ERR_INVALID_ARG_TYPE",(e,t,r)=>{h("string"==typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+=`${e} `:n+=`"${e}" ${e.includes(".")?"property":"argument"} `,n+="must be ";let o=[],s=[],a=[];for(let e of t)h("string"==typeof e,"All expected entries have to be of type string"),l.includes(e)?o.push(e.toLowerCase()):c.test(e)?s.push(e):(h("object"!==e,'The value "object" should be written as "Object"'),a.push(e));if(s.length>0){let e=o.indexOf("object");-1!==e&&(o.splice(o,e,1),s.push("Object"))}if(o.length>0){switch(o.length){case 1:n+=`of type ${o[0]}`;break;case 2:n+=`one of type ${o[0]} or ${o[1]}`;break;default:{let e=o.pop();n+=`one of type ${o.join(", ")}, or ${e}`}}(s.length>0||a.length>0)&&(n+=" or ")}if(s.length>0){switch(s.length){case 1:n+=`an instance of ${s[0]}`;break;case 2:n+=`an instance of ${s[0]} or ${s[1]}`;break;default:{let e=s.pop();n+=`an instance of ${s.join(", ")}, or ${e}`}}a.length>0&&(n+=" or ")}switch(a.length){case 0:break;case 1:a[0].toLowerCase()!==a[0]&&(n+="an "),n+=`${a[0]}`;break;case 2:n+=`one of ${a[0]} or ${a[1]}`;break;default:{let e=a.pop();n+=`one of ${a.join(", ")}, or ${e}`}}if(null==r)n+=`. Received ${r}`;else if("function"==typeof r&&r.name)n+=`. Received function ${r.name}`;else if("object"==typeof r){var u;if(null!==(u=r.constructor)&&void 0!==u&&u.name)n+=`. Received an instance of ${r.constructor.name}`;else{let e=i(r,{depth:-1});n+=`. Received ${e}`}}else{let e=i(r,{colors:!1});e.length>25&&(e=`${e.slice(0,25)}...`),n+=`. Received type ${typeof r} (${e})`}return n},TypeError),f("ERR_INVALID_ARG_VALUE",(e,t,r="is invalid")=>{let n=i(t);n.length>128&&(n=n.slice(0,128)+"...");let o=e.includes(".")?"property":"argument";return`The ${o} '${e}' ${r}. Received ${n}`},TypeError),f("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;let i=null!=r&&null!==(n=r.constructor)&&void 0!==n&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${e} to be returned from the "${t}" function but got ${i}.`},TypeError),f("ERR_MISSING_ARGS",(...e)=>{let t;h(e.length>0,"At least one arg needs to be specified");let r=e.length;switch(e=(Array.isArray(e)?e:[e]).map(e=>`"${e}"`).join(" or "),r){case 1:t+=`The ${e[0]} argument`;break;case 2:t+=`The ${e[0]} and ${e[1]} arguments`;break;default:{let r=e.pop();t+=`The ${e.join(", ")}, and ${r} arguments`}}return`${t} must be specified`},TypeError),f("ERR_OUT_OF_RANGE",(e,t,r)=>{let n;if(h(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>4294967296)n=d(String(r));else if("bigint"==typeof r){n=String(r);let e=BigInt(2)**BigInt(32);(r>e||r<-e)&&(n=d(n)),n+="n"}else n=i(r);return`The value of "${e}" is out of range. It must be ${t}. Received ${n}`},RangeError),f("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),f("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),f("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),f("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),f("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),f("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),f("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),f("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),f("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),f("ERR_STREAM_WRITE_AFTER_END","write after end",Error),f("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:m,aggregateTwoErrors:p(function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;let r=new s([t,e],t.message);return r.code=t.code,r}return e||t}),hideStackFrames:p,codes:u}},10039:(e,t,r)=>{"use strict";let n=r(12781);if(n&&"disable"===process.env.READABLE_STREAM){let t=n.promises;e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get:()=>t}),e.exports.Stream=n.Stream}else{let t=r(67337),n=r(93180),i=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=i,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get:()=>n}),e.exports.Stream=t.Stream}e.exports.default=e.exports},2258:e=>{"use strict";class t extends Error{constructor(e){if(!Array.isArray(e))throw TypeError(`Expected input to be an Array, got ${typeof e}`);let t="";for(let r=0;r<e.length;r++)t+=`    ${e[r].stack}
`;super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:t,ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error,FunctionPrototypeCall:(e,t,...r)=>e.call(t,...r),FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Boolean,Uint8Array}},83632:(e,t,r)=>{"use strict";let n=r(14300),{format:i,inspect:o}=r(90933),{codes:{ERR_INVALID_ARG_TYPE:s}}=r(92297),{kResistStopPropagation:a,AggregateError:l,SymbolDispose:c}=r(2258),AbortSignal=globalThis.AbortSignal||r(72481).AbortSignal,u=globalThis.AbortController||r(72481).AbortController,h=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||n.Blob,f=(e,t)=>{if(void 0!==e&&(null===e||"object"!=typeof e||!("aborted"in e)))throw new s(t,"AbortSignal",e)},p=(e,t)=>{if("function"!=typeof e)throw new s(t,"Function",e)};e.exports={AggregateError:l,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(...r){t||(t=!0,e.apply(this,r))}},createDeferredPromise:function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},promisify:e=>new Promise((t,r)=>{e((e,...n)=>e?r(e):t(...n))}),debuglog:()=>function(){},format:i,inspect:o,types:{isAsyncFunction:e=>e instanceof h,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:void 0!==d?function(e){return e instanceof d}:function(e){return!1},deprecate:(e,t)=>e,addAbortListener:r(82361).addAbortListener||function(e,t){let r;if(void 0===e)throw new s("signal","AbortSignal",e);return f(e,"signal"),p(t,"listener"),e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[a]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[c](){var e;null===(e=r)||void 0===e||e()}}},AbortSignalAny:AbortSignal.any||function(e){if(1===e.length)return e[0];let t=new u,r=()=>t.abort();return e.forEach(e=>{f(e,"signals"),e.addEventListener("abort",r,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(e=>e.removeEventListener("abort",r))},{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},90933:e=>{"use strict";e.exports={format:(e,...t)=>e.replace(/%([sdifj])/g,function(...[e,r]){let n=t.shift();if("f"===r)return n.toFixed(6);if("j"===r)return JSON.stringify(n);if("s"!==r||"object"!=typeof n)return n.toString();{let e=n.constructor!==Object?n.constructor.name:"";return`${e} {}`.trim()}}),inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return`"${e}"`;if(!e.includes("`")&&!e.includes("${"))return`\`${e}\``}return`'${e}'`;case"number":if(isNaN(e))return"NaN";if(Object.is(e,-0))return String(e);return e;case"bigint":return`${String(e)}n`;case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},67337:(e,t,r)=>{"use strict";let{Buffer:n}=r(14300),{ObjectDefineProperty:i,ObjectKeys:o,ReflectApply:s}=r(2258),{promisify:{custom:a}}=r(83632),{streamReturningOperators:l,promiseReturningOperators:c}=r(50392),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=r(92297),h=r(67216),{setDefaultHighWaterMark:d,getDefaultHighWaterMark:f}=r(6824),{pipeline:p}=r(25547),{destroyer:m}=r(83708),g=r(10025),y=r(93180),_=r(54664),E=e.exports=r(41759).Stream;for(let e of(E.isDestroyed=_.isDestroyed,E.isDisturbed=_.isDisturbed,E.isErrored=_.isErrored,E.isReadable=_.isReadable,E.isWritable=_.isWritable,E.Readable=r(83782),o(l))){let t=l[e];function T(...e){if(new.target)throw u();return E.Readable.from(s(t,this,e))}i(T,"name",{__proto__:null,value:t.name}),i(T,"length",{__proto__:null,value:t.length}),i(E.Readable.prototype,e,{__proto__:null,value:T,enumerable:!1,configurable:!0,writable:!0})}for(let e of o(c)){let t=c[e];function b(...e){if(new.target)throw u();return s(t,this,e)}i(b,"name",{__proto__:null,value:t.name}),i(b,"length",{__proto__:null,value:t.length}),i(E.Readable.prototype,e,{__proto__:null,value:b,enumerable:!1,configurable:!0,writable:!0})}E.Writable=r(44327),E.Duplex=r(65032),E.Transform=r(5547),E.PassThrough=r(86831),E.pipeline=p;let{addAbortSignal:w}=r(95953);E.addAbortSignal=w,E.finished=g,E.destroy=m,E.compose=h,E.setDefaultHighWaterMark=d,E.getDefaultHighWaterMark=f,i(E,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>y}),i(p,a,{__proto__:null,enumerable:!0,get:()=>y.pipeline}),i(g,a,{__proto__:null,enumerable:!0,get:()=>y.finished}),E.Stream=E,E._isUint8Array=function(e){return e instanceof Uint8Array},E._uint8ArrayToBuffer=function(e){return n.from(e.buffer,e.byteOffset,e.byteLength)}},93180:(e,t,r)=>{"use strict";let{ArrayPrototypePop:n,Promise:i}=r(2258),{isIterable:o,isNodeStream:s,isWebStream:a}=r(54664),{pipelineImpl:l}=r(25547),{finished:c}=r(10025);r(67337),e.exports={finished:c,pipeline:function(...e){return new i((t,r)=>{let i,c;let u=e[e.length-1];if(u&&"object"==typeof u&&!s(u)&&!o(u)&&!a(u)){let t=n(e);i=t.signal,c=t.end}l(e,(e,n)=>{e?r(e):t(n)},{signal:i,end:c})})}}},13703:(e,t,r)=>{"use strict";e.exports=r(28518)()},28518:e=>{"use strict";function t(e){return e instanceof Buffer?Buffer.from(e):new e.constructor(e.buffer.slice(),e.byteOffset,e.length)}e.exports=function(e){if((e=e||{}).circles)return function(e){let r=[],n=[],i=new Map;if(i.set(Date,e=>new Date(e)),i.set(Map,(e,t)=>new Map(s(Array.from(e),t))),i.set(Set,(e,t)=>new Set(s(Array.from(e),t))),e.constructorHandlers)for(let t of e.constructorHandlers)i.set(t[0],t[1]);let o=null;return e.proto?function e(a){if("object"!=typeof a||null===a)return a;if(Array.isArray(a))return s(a,e);if(a.constructor!==Object&&(o=i.get(a.constructor)))return o(a,e);let l={};for(let s in r.push(a),n.push(l),a){let c=a[s];if("object"!=typeof c||null===c)l[s]=c;else if(c.constructor!==Object&&(o=i.get(c.constructor)))l[s]=o(c,e);else if(ArrayBuffer.isView(c))l[s]=t(c);else{let t=r.indexOf(c);-1!==t?l[s]=n[t]:l[s]=e(c)}}return r.pop(),n.pop(),l}:function e(a){if("object"!=typeof a||null===a)return a;if(Array.isArray(a))return s(a,e);if(a.constructor!==Object&&(o=i.get(a.constructor)))return o(a,e);let l={};for(let s in r.push(a),n.push(l),a){if(!1===Object.hasOwnProperty.call(a,s))continue;let c=a[s];if("object"!=typeof c||null===c)l[s]=c;else if(c.constructor!==Object&&(o=i.get(c.constructor)))l[s]=o(c,e);else if(ArrayBuffer.isView(c))l[s]=t(c);else{let t=r.indexOf(c);-1!==t?l[s]=n[t]:l[s]=e(c)}}return r.pop(),n.pop(),l};function s(e,s){let a=Object.keys(e),l=Array(a.length);for(let c=0;c<a.length;c++){let u=a[c],h=e[u];if("object"!=typeof h||null===h)l[u]=h;else if(h.constructor!==Object&&(o=i.get(h.constructor)))l[u]=o(h,s);else if(ArrayBuffer.isView(h))l[u]=t(h);else{let e=r.indexOf(h);-1!==e?l[u]=n[e]:l[u]=s(h)}}return l}}(e);let r=new Map;if(r.set(Date,e=>new Date(e)),r.set(Map,(e,t)=>new Map(i(Array.from(e),t))),r.set(Set,(e,t)=>new Set(i(Array.from(e),t))),e.constructorHandlers)for(let t of e.constructorHandlers)r.set(t[0],t[1]);let n=null;return e.proto?function e(o){if("object"!=typeof o||null===o)return o;if(Array.isArray(o))return i(o,e);if(o.constructor!==Object&&(n=r.get(o.constructor)))return n(o,e);let s={};for(let i in o){let a=o[i];"object"!=typeof a||null===a?s[i]=a:a.constructor!==Object&&(n=r.get(a.constructor))?s[i]=n(a,e):ArrayBuffer.isView(a)?s[i]=t(a):s[i]=e(a)}return s}:function e(o){if("object"!=typeof o||null===o)return o;if(Array.isArray(o))return i(o,e);if(o.constructor!==Object&&(n=r.get(o.constructor)))return n(o,e);let s={};for(let i in o){if(!1===Object.hasOwnProperty.call(o,i))continue;let a=o[i];"object"!=typeof a||null===a?s[i]=a:a.constructor!==Object&&(n=r.get(a.constructor))?s[i]=n(a,e):ArrayBuffer.isView(a)?s[i]=t(a):s[i]=e(a)}return s};function i(e,i){let o=Object.keys(e),s=Array(o.length);for(let a=0;a<o.length;a++){let l=o[a],c=e[l];"object"!=typeof c||null===c?s[l]=c:c.constructor!==Object&&(n=r.get(c.constructor))?s[l]=n(c,i):ArrayBuffer.isView(c)?s[l]=t(c):s[l]=i(c)}return s}}},66027:(e,t,r)=>{/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var n=r(14300),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},75377:(e,t,r)=>{"use strict";var n,i=r(14300),o=i.Buffer,s={};for(n in i)i.hasOwnProperty(n)&&"SlowBuffer"!==n&&"Buffer"!==n&&(s[n]=i[n]);var a=s.Buffer={};for(n in o)o.hasOwnProperty(n)&&"allocUnsafe"!==n&&"allocUnsafeSlow"!==n&&(a[n]=o[n]);if(s.Buffer.prototype=o.prototype,a.from&&a.from!==Uint8Array.from||(a.from=function(e,t,r){if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type '+typeof e);if(e&&void 0===e.length)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);return o(e,t,r)}),a.alloc||(a.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError('The "size" argument must be of type number. Received type '+typeof e);if(e<0||e>=2*1073741824)throw RangeError('The value "'+e+'" is invalid for option "size"');var n=o(e);return t&&0!==t.length?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n}),!s.kStringMaxLength)try{s.kStringMaxLength=process.binding("buffer").kStringMaxLength}catch(e){}!s.constants&&(s.constants={MAX_LENGTH:s.kMaxLength},s.kStringMaxLength&&(s.constants.MAX_STRING_LENGTH=s.kStringMaxLength)),e.exports=s},174:(e,t,r)=>{"use strict";var n=r(27329),i=r(23577),o=r(79597)(),s=r(14500),a=r(257),l=n("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||l(t)!==t)throw new a("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,c=!0;if("length"in e&&s){var u=s(e,"length");u&&!u.configurable&&(n=!1),u&&!u.writable&&(c=!1)}return(n||c||!r)&&(o?i(e,"length",t,!0,!0):i(e,"length",t)),e}},4312:(e,t,r)=>{"use strict";var n=r(23577),i=r(79597)(),o=r(44395).functionsHaveConfigurableNames(),s=r(257);e.exports=function(e,t){if("function"!=typeof e)throw new s("`fn` is not a function");var r=arguments.length>2&&!!arguments[2];return(!r||o)&&(i?n(e,"name",t,!0,!0):n(e,"name",t)),e}},82248:(e,t,r)=>{"use strict";var n=r(7483);e.exports=n.setPrototypeOf||null},65998:e=>{"use strict";e.exports="undefined"!=typeof Reflect&&Reflect.setPrototypeOf||null},60523:(e,t,r)=>{"use strict";var n=r(65998),i=r(82248),o=r(28380),s=r(257);e.exports=n?function(e,t){if(n(e,t))return e;throw new s("Reflect.setPrototypeOf: failed to set [[Prototype]]")}:i||(o?function(e,t){return o(e,t),e}:null)},84186:(e,t,r)=>{"use strict";var n=r(75424),i=r(257),o=function(e,t,r){for(var n,i=e;null!=(n=i.next);i=n)if(n.key===t)return i.next=n.next,r||(n.next=e.next,e.next=n),n},s=function(e,t){if(e){var r=o(e,t);return r&&r.value}},a=function(e,t,r){var n=o(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},l=function(e,t){if(e)return o(e,t,!0)};e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new i("Side channel does not contain "+n(e))},delete:function(t){var r=e&&e.next,n=l(e,t);return n&&r&&r===n&&(e=void 0),!!n},get:function(t){return s(e,t)},has:function(t){var r;return!!(r=e)&&!!o(r,t)},set:function(t,r){e||(e={next:void 0}),a(e,t,r)}};return t}},27242:(e,t,r)=>{"use strict";var n=r(27329),i=r(92554),o=r(75424),s=r(257),a=n("%Map%",!0),l=i("Map.prototype.get",!0),c=i("Map.prototype.set",!0),u=i("Map.prototype.has",!0),h=i("Map.prototype.delete",!0),d=i("Map.prototype.size",!0);e.exports=!!a&&function(){var e,t={assert:function(e){if(!t.has(e))throw new s("Side channel does not contain "+o(e))},delete:function(t){if(e){var r=h(e,t);return 0===d(e)&&(e=void 0),r}return!1},get:function(t){if(e)return l(e,t)},has:function(t){return!!e&&u(e,t)},set:function(t,r){e||(e=new a),c(e,t,r)}};return t}},78698:(e,t,r)=>{"use strict";var n=r(27329),i=r(92554),o=r(75424),s=r(27242),a=r(257),l=n("%WeakMap%",!0),c=i("WeakMap.prototype.get",!0),u=i("WeakMap.prototype.set",!0),h=i("WeakMap.prototype.has",!0),d=i("WeakMap.prototype.delete",!0);e.exports=l?function(){var e,t,r={assert:function(e){if(!r.has(e))throw new a("Side channel does not contain "+o(e))},delete:function(r){if(l&&r&&("object"==typeof r||"function"==typeof r)){if(e)return d(e,r)}else if(s&&t)return t.delete(r);return!1},get:function(r){return l&&r&&("object"==typeof r||"function"==typeof r)&&e?c(e,r):t&&t.get(r)},has:function(r){return l&&r&&("object"==typeof r||"function"==typeof r)&&e?h(e,r):!!t&&t.has(r)},set:function(r,n){l&&r&&("object"==typeof r||"function"==typeof r)?(e||(e=new l),u(e,r,n)):s&&(t||(t=s()),t.set(r,n))}};return r}:s},78907:(e,t,r)=>{"use strict";var n=r(257),i=r(75424),o=r(84186),s=r(27242),a=r(78698)||s||o;e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new n("Side channel does not contain "+i(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,r){e||(e=a()),e.set(t,r)}};return t}},43074:(e,t,r)=>{var n;!function(){"use strict";var i={not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function o(e){return function(e,t){var r,n,s,a,l,c,u,h,d,f=1,p=e.length,m="";for(n=0;n<p;n++)if("string"==typeof e[n])m+=e[n];else if("object"==typeof e[n]){if((a=e[n]).keys)for(s=0,r=t[f];s<a.keys.length;s++){if(void 0==r)throw Error(o('[sprintf] Cannot access property "%s" of undefined value "%s"',a.keys[s],a.keys[s-1]));r=r[a.keys[s]]}else r=a.param_no?t[a.param_no]:t[f++];if(i.not_type.test(a.type)&&i.not_primitive.test(a.type)&&r instanceof Function&&(r=r()),i.numeric_arg.test(a.type)&&"number"!=typeof r&&isNaN(r))throw TypeError(o("[sprintf] expecting number but found %T",r));switch(i.number.test(a.type)&&(h=r>=0),a.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,a.width?parseInt(a.width):0);break;case"e":r=a.precision?parseFloat(r).toExponential(a.precision):parseFloat(r).toExponential();break;case"f":r=a.precision?parseFloat(r).toFixed(a.precision):parseFloat(r);break;case"g":r=a.precision?String(Number(r.toPrecision(a.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=a.precision?r.substring(0,a.precision):r;break;case"t":r=String(!!r),r=a.precision?r.substring(0,a.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=a.precision?r.substring(0,a.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=a.precision?r.substring(0,a.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}i.json.test(a.type)?m+=r:(i.number.test(a.type)&&(!h||a.sign)?(d=h?"+":"-",r=r.toString().replace(i.sign,"")):d="",c=a.pad_char?"0"===a.pad_char?"0":a.pad_char.charAt(1):" ",u=a.width-(d+r).length,l=a.width&&u>0?c.repeat(u):"",m+=a.align?d+r+l:"0"===c?d+l+r:l+d+r)}return m}(function(e){if(a[e])return a[e];for(var t,r=e,n=[],o=0;r;){if(null!==(t=i.text.exec(r)))n.push(t[0]);else if(null!==(t=i.modulo.exec(r)))n.push("%");else if(null!==(t=i.placeholder.exec(r))){if(t[2]){o|=1;var s=[],l=t[2],c=[];if(null!==(c=i.key.exec(l)))for(s.push(c[1]);""!==(l=l.substring(c[0].length));)if(null!==(c=i.key_access.exec(l)))s.push(c[1]);else if(null!==(c=i.index_access.exec(l)))s.push(c[1]);else throw SyntaxError("[sprintf] failed to parse named argument key");else throw SyntaxError("[sprintf] failed to parse named argument key");t[2]=s}else o|=2;if(3===o)throw Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}else throw SyntaxError("[sprintf] unexpected placeholder");r=r.substring(t[0].length)}return a[e]=n}(e),arguments)}function s(e,t){return o.apply(null,[e].concat(t||[]))}var a=Object.create(null);t.sprintf=o,t.vsprintf=s,"undefined"!=typeof window&&(window.sprintf=o,window.vsprintf=s,void 0!==(n=(function(){return{sprintf:o,vsprintf:s}}).call(t,r,t,e))&&(e.exports=n))}()},82924:(e,t,r)=>{"use strict";let n=r(95687);e.exports=(e,t)=>{t=void 0===t?1/0:t;let r=new Map,i=!1,o=!0;return e instanceof n.Server?e.on("secureConnection",s):e.on("connection",s),e.on("request",function(e,t){r.set(e.socket,r.get(e.socket)+1),t.once("finish",()=>{let t=r.get(e.socket)-1;r.set(e.socket,t),i&&0===t&&e.socket.end()})}),e.stop=function(n){setImmediate(()=>{i=!0,t<1/0&&setTimeout(l,t).unref(),e.close(e=>{n&&n(e,o)}),r.forEach(a)})},e._pendingSockets=r,e;function s(e){r.set(e,0),e.once("close",()=>r.delete(e))}function a(e,t){0===e&&t.end()}function l(){o=!1,r.forEach((e,t)=>t.end()),setImmediate(()=>{r.forEach((e,t)=>t.destroy())})}}},73165:(e,t,r)=>{"use strict";var n=r(66027).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=h,t=3;break;default:this.write=d,this.end=f;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,""}}(this,e,0);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=s(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},84764:(e,t,r)=>{"use strict";let n;let i=r(22037),o=r(76224),s=r(88913),{env:a}=process;function l(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function c(e,t){if(0===n)return 0;if(s("color=16m")||s("color=full")||s("color=truecolor"))return 3;if(s("color=256"))return 2;if(e&&!t&&void 0===n)return 0;let r=n||0;if("dumb"===a.TERM)return r;if("win32"===process.platform){let e=i.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in a)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(e=>e in a)||"codeship"===a.CI_NAME?1:r;if("TEAMCITY_VERSION"in a)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(a.TEAMCITY_VERSION)?1:0;if("truecolor"===a.COLORTERM)return 3;if("TERM_PROGRAM"in a){let e=parseInt((a.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(a.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(a.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(a.TERM)||"COLORTERM"in a?1:r}s("no-color")||s("no-colors")||s("color=false")||s("color=never")?n=0:(s("color")||s("colors")||s("color=true")||s("color=always"))&&(n=1),"FORCE_COLOR"in a&&(n="true"===a.FORCE_COLOR?1:"false"===a.FORCE_COLOR?0:0===a.FORCE_COLOR.length?1:Math.min(parseInt(a.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return l(c(e,e&&e.isTTY))},stdout:l(c(!0,o.isatty(1))),stderr:l(c(!0,o.isatty(2)))}},58362:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(57871),i=r(68527);class o{constructor(e){var t;this.timeoutMillis=e,this.deferred=i.defer(),this.possibleTimeoutCause=null,this.isRejected=!1,this.promise=(t=this.deferred.promise,new Promise((r,i)=>{let o=setTimeout(()=>i(new n.TimeoutError),e);t.then(e=>{clearTimeout(o),r(e)}).catch(e=>{clearTimeout(o),i(e)})})).catch(e=>(e instanceof n.TimeoutError&&(e=new n.TimeoutError(this.possibleTimeoutCause?this.possibleTimeoutCause.message:"operation timed out for an unknown reason")),this.isRejected=!0,Promise.reject(e)))}abort(){this.reject(Error("aborted"))}reject(e){this.deferred.reject(e)}resolve(e){this.deferred.resolve(e)}}t.PendingOperation=o},71286:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(58362),i=r(30375),o=r(68527),s=r(82361),a=r(39512);class l{constructor(e){if(this.destroyed=!1,this.emitter=new s.EventEmitter,!(e=e||{}).create)throw Error("Tarn: opt.create function most be provided");if(!e.destroy)throw Error("Tarn: opt.destroy function most be provided");if("number"!=typeof e.min||e.min<0||e.min!==Math.round(e.min))throw Error("Tarn: opt.min must be an integer >= 0");if("number"!=typeof e.max||e.max<=0||e.max!==Math.round(e.max))throw Error("Tarn: opt.max must be an integer > 0");if(e.min>e.max)throw Error("Tarn: opt.max is smaller than opt.min");if(!o.checkOptionalTime(e.acquireTimeoutMillis))throw Error("Tarn: invalid opt.acquireTimeoutMillis "+JSON.stringify(e.acquireTimeoutMillis));if(!o.checkOptionalTime(e.createTimeoutMillis))throw Error("Tarn: invalid opt.createTimeoutMillis "+JSON.stringify(e.createTimeoutMillis));if(!o.checkOptionalTime(e.destroyTimeoutMillis))throw Error("Tarn: invalid opt.destroyTimeoutMillis "+JSON.stringify(e.destroyTimeoutMillis));if(!o.checkOptionalTime(e.idleTimeoutMillis))throw Error("Tarn: invalid opt.idleTimeoutMillis "+JSON.stringify(e.idleTimeoutMillis));if(!o.checkOptionalTime(e.reapIntervalMillis))throw Error("Tarn: invalid opt.reapIntervalMillis "+JSON.stringify(e.reapIntervalMillis));if(!o.checkOptionalTime(e.createRetryIntervalMillis))throw Error("Tarn: invalid opt.createRetryIntervalMillis "+JSON.stringify(e.createRetryIntervalMillis));let t={create:!0,validate:!0,destroy:!0,log:!0,min:!0,max:!0,acquireTimeoutMillis:!0,createTimeoutMillis:!0,destroyTimeoutMillis:!0,idleTimeoutMillis:!0,reapIntervalMillis:!0,createRetryIntervalMillis:!0,propagateCreateError:!0};for(let r of Object.keys(e))if(!t[r])throw Error(`Tarn: unsupported option opt.${r}`);this.creator=e.create,this.destroyer=e.destroy,this.validate="function"==typeof e.validate?e.validate:()=>!0,this.log=e.log||(()=>{}),this.acquireTimeoutMillis=e.acquireTimeoutMillis||3e4,this.createTimeoutMillis=e.createTimeoutMillis||3e4,this.destroyTimeoutMillis=e.destroyTimeoutMillis||5e3,this.idleTimeoutMillis=e.idleTimeoutMillis||3e4,this.reapIntervalMillis=e.reapIntervalMillis||1e3,this.createRetryIntervalMillis=e.createRetryIntervalMillis||200,this.propagateCreateError=!!e.propagateCreateError,this.min=e.min,this.max=e.max,this.used=[],this.free=[],this.pendingCreates=[],this.pendingAcquires=[],this.pendingDestroys=[],this.pendingValidations=[],this.destroyed=!1,this.interval=null,this.eventId=1}numUsed(){return this.used.length}numFree(){return this.free.length}numPendingAcquires(){return this.pendingAcquires.length}numPendingValidations(){return this.pendingValidations.length}numPendingCreates(){return this.pendingCreates.length}acquire(){let e=this.eventId++;this._executeEventHandlers("acquireRequest",e);let t=new n.PendingOperation(this.acquireTimeoutMillis);return this.pendingAcquires.push(t),t.promise=t.promise.then(t=>(this._executeEventHandlers("acquireSuccess",e,t),t)).catch(r=>(this._executeEventHandlers("acquireFail",e,r),c(this.pendingAcquires,t),Promise.reject(r))),this._tryAcquireOrCreate(),t}release(e){this._executeEventHandlers("release",e);for(let t=0,r=this.used.length;t<r;++t){let r=this.used[t];if(r.resource===e)return this.used.splice(t,1),this.free.push(r.resolve()),this._tryAcquireOrCreate(),!0}return!1}isEmpty(){return 0===[this.numFree(),this.numUsed(),this.numPendingAcquires(),this.numPendingValidations(),this.numPendingCreates()].reduce((e,t)=>e+t)}check(){let e=o.now(),t=[],r=this.min-this.used.length,n=this.free.length-r,i=0;this.free.forEach(r=>{o.duration(e,r.timestamp)>=this.idleTimeoutMillis&&i<n?(i++,this._destroy(r.resource)):t.push(r)}),this.free=t,this.isEmpty()&&this._stopReaping()}destroy(){let e=this.eventId++;return this._executeEventHandlers("poolDestroyRequest",e),this._stopReaping(),this.destroyed=!0,o.reflect(Promise.all(this.pendingCreates.map(e=>o.reflect(e.promise))).then(()=>new Promise((e,t)=>{if(0===this.numPendingValidations()){e();return}let r=setInterval(()=>{0===this.numPendingValidations()&&(a.clearInterval(r),e())},100)})).then(()=>Promise.all(this.used.map(e=>o.reflect(e.promise)))).then(()=>Promise.all(this.pendingAcquires.map(e=>(e.abort(),o.reflect(e.promise))))).then(()=>Promise.all(this.free.map(e=>o.reflect(this._destroy(e.resource))))).then(()=>Promise.all(this.pendingDestroys.map(e=>e.promise))).then(()=>{this.free=[],this.pendingAcquires=[]})).then(t=>(this._executeEventHandlers("poolDestroySuccess",e),this.emitter.removeAllListeners(),t))}on(e,t){this.emitter.on(e,t)}removeListener(e,t){this.emitter.removeListener(e,t)}removeAllListeners(e){this.emitter.removeAllListeners(e)}_tryAcquireOrCreate(){!this.destroyed&&(this._hasFreeResources()?this._doAcquire():this._shouldCreateMoreResources()&&this._doCreate())}_hasFreeResources(){return this.free.length>0}_doAcquire(){for(;this._canAcquire();){let e=this.pendingAcquires.shift(),t=this.free.pop();if(void 0===t||void 0===e){let e="this.free was empty while trying to acquire resource";throw this.log(`Tarn: ${e}`,"warn"),Error(`Internal error, should never happen. ${e}`)}this.pendingValidations.push(e),this.used.push(t);let r=new n.PendingOperation(this.acquireTimeoutMillis);e.promise.catch(e=>{r.abort()}),r.promise.catch(e=>(this.log("Tarn: resource validator threw an exception "+e.stack,"warn"),!1)).then(r=>{try{r&&!e.isRejected?(this._startReaping(),e.resolve(t.resource)):(c(this.used,t),r?this.free.push(t):(this._destroy(t.resource),setTimeout(()=>{this._tryAcquireOrCreate()},0)),e.isRejected||this.pendingAcquires.unshift(e))}finally{c(this.pendingValidations,e)}}),this._validateResource(t.resource).then(e=>{r.resolve(e)}).catch(e=>{r.reject(e)})}}_canAcquire(){return this.free.length>0&&this.pendingAcquires.length>0}_validateResource(e){try{return Promise.resolve(this.validate(e))}catch(e){return Promise.reject(e)}}_shouldCreateMoreResources(){return this.used.length+this.pendingCreates.length<this.max&&this.pendingCreates.length<this.pendingAcquires.length}_doCreate(){let e=this.pendingAcquires.slice();this._create().promise.then(()=>(this._tryAcquireOrCreate(),null)).catch(t=>{this.propagateCreateError&&0!==this.pendingAcquires.length&&this.pendingAcquires[0].reject(t),e.forEach(e=>{e.possibleTimeoutCause=t}),o.delay(this.createRetryIntervalMillis).then(()=>this._tryAcquireOrCreate())})}_create(){var e;let t=this.eventId++;this._executeEventHandlers("createRequest",t);let r=new n.PendingOperation(this.createTimeoutMillis);return r.promise=r.promise.catch(e=>{throw c(this.pendingCreates,r)&&this._executeEventHandlers("createFail",t,e),e}),this.pendingCreates.push(r),(e=this.creator,new Promise((t,r)=>{let n=(e,n)=>{e?r(e):t(n)};o.tryPromise(()=>e(n)).then(e=>{e&&t(e)}).catch(e=>{r(e)})})).then(e=>(r.isRejected?this.destroyer(e):(c(this.pendingCreates,r),this.free.push(new i.Resource(e)),r.resolve(e),this._executeEventHandlers("createSuccess",t,e)),null)).catch(e=>(r.isRejected||(c(this.pendingCreates,r)&&this._executeEventHandlers("createFail",t,e),r.reject(e)),null)),r}_destroy(e){let t=this.eventId++;this._executeEventHandlers("destroyRequest",t,e);let r=new n.PendingOperation(this.destroyTimeoutMillis);return Promise.resolve().then(()=>this.destroyer(e)).then(()=>{r.resolve(e)}).catch(e=>{r.reject(e)}),this.pendingDestroys.push(r),r.promise.then(r=>(this._executeEventHandlers("destroySuccess",t,e),r)).catch(r=>this._logDestroyerError(t,e,r)).then(e=>{let t=this.pendingDestroys.findIndex(e=>e===r);return this.pendingDestroys.splice(t,1),e})}_logDestroyerError(e,t,r){this._executeEventHandlers("destroyFail",e,t,r),this.log("Tarn: resource destroyer threw an exception "+r.stack,"warn")}_startReaping(){this.interval||(this._executeEventHandlers("startReaping"),this.interval=setInterval(()=>this.check(),this.reapIntervalMillis))}_stopReaping(){null!==this.interval&&(this._executeEventHandlers("stopReaping"),a.clearInterval(this.interval)),this.interval=null}_executeEventHandlers(e,...t){this.emitter.listeners(e).forEach(r=>{try{r(...t)}catch(t){this.log(`Tarn: event handler "${e}" threw an exception ${t.stack}`,"warn")}})}}function c(e,t){let r=e.indexOf(t);return -1!==r&&(e.splice(r,1),!0)}t.Pool=l},87635:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{constructor(e){this._value=e.value,this._error=e.error}value(){return this._value}reason(){return this._error}isRejected(){return!!this._error}isFulfilled(){return!!this._value}}t.PromiseInspection=r},30375:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(68527);class i{constructor(e){this.resource=e,this.resource=e,this.timestamp=n.now(),this.deferred=n.defer()}get promise(){return this.deferred.promise}resolve(){return this.deferred.resolve(void 0),new i(this.resource)}}t.Resource=i},57871:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{}t.TimeoutError=r},20136:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(71286);t.Pool=n.Pool;let i=r(57871);t.TimeoutError=i.TimeoutError,e.exports={Pool:n.Pool,TimeoutError:i.TimeoutError}},68527:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(87635);function i(e){return"number"==typeof e&&e===Math.round(e)&&e>0}t.defer=function(){let e=null,t=null;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},t.now=function(){return Date.now()},t.duration=function(e,t){return Math.abs(t-e)},t.checkOptionalTime=function(e){return void 0===e||i(e)},t.checkRequiredTime=i,t.delay=function(e){return new Promise(t=>setTimeout(t,e))},t.reflect=function(e){return e.then(e=>new n.PromiseInspection({value:e})).catch(e=>new n.PromiseInspection({error:e}))},t.tryPromise=function(e){try{let t=e();return Promise.resolve(t)}catch(e){return Promise.reject(e)}}},33049:(e,t,r)=>{e.exports=r(34877)},39547:(e,t,r)=>{"use strict";let{EventEmitter:n}=r(15673),i=r(57034)("mssql:base"),{parseSqlConnectionString:o}=r(38771),s=r(20136),{IDS:a}=r(44800),l=r(72670),c=r(23781),u=r(13703),{MSSQLError:h}=r(33014);class d extends n{constructor(e,t){if(super(),a.add(this,"ConnectionPool"),i("pool(%d): created",a.get(this)),this._connectStack=[],this._closeStack=[],this._connected=!1,this._connecting=!1,this._healthy=!1,"string"==typeof e)try{this.config=this.constructor.parseConnectionString(e)}catch(e){if("function"==typeof t)return setImmediate(t,e);throw e}else this.config=u(e);this.config.port=this.config.port||1433,this.config.options=this.config.options||{},this.config.stream=this.config.stream||!1,this.config.parseJSON=this.config.parseJSON||!1,this.config.arrayRowMode=this.config.arrayRowMode||!1,this.config.validateConnection=!("validateConnection"in this.config)||this.config.validateConnection;let r=/^(.*)\\(.*)$/.exec(this.config.server);if(r&&(this.config.server=r[1],this.config.options.instanceName=r[2]),void 0!==this.config.options.useColumnNames&&!0!==this.config.options.useColumnNames){let e=new h("Invalid options `useColumnNames`, use `arrayRowMode` instead");if("function"==typeof t)return setImmediate(t,e);throw e}"function"==typeof t&&this.connect(t)}get connected(){return this._connected}get connecting(){return this._connecting}get healthy(){return this._healthy}static parseConnectionString(e){return this._parseConnectionString(e)}static _parseAuthenticationType(e,t){switch(e.toLowerCase()){case"active directory integrated":if(t.includes("token"))return"azure-active-directory-access-token";if(["client id","client secret","tenant id"].every(e=>t.includes(e)))return"azure-active-directory-service-principal-secret";if(["client id","msi endpoint","msi secret"].every(e=>t.includes(e)))return"azure-active-directory-msi-app-service";if(["client id","msi endpoint"].every(e=>t.includes(e)))return"azure-active-directory-msi-vm";return"azure-active-directory-default";case"active directory password":return"azure-active-directory-password";case"ntlm":return"ntlm";default:return"default"}}static _parseConnectionString(e){let t=o(e,!0,!0);return Object.entries(t).reduce((e,[r,n])=>{switch(r){case"application name":case"asynchronous processing":case"attachdbfilename":case"column encryption setting":case"connection lifetime":case"connectretrycount":case"context connection":case"enlist":case"failover partner":case"integrated security":case"multipleactiveresultsets":case"network library":case"persist security info":case"poolblockingperiod":case"pooling":case"replication":case"transparentnetworkipresolution":case"type system version":case"user instance":break;case"applicationintent":Object.assign(e.options,{readOnlyIntent:"readonly"===n});break;case"authentication":Object.assign(e,{authentication_type:this._parseAuthenticationType(n,Object.keys(t))});break;case"connection timeout":Object.assign(e,{connectionTimeout:1e3*n});break;case"connectretryinterval":Object.assign(e.options,{connectionRetryInterval:1e3*n});break;case"client id":Object.assign(e,{clientId:n});break;case"client secret":Object.assign(e,{clientSecret:n});break;case"current language":Object.assign(e.options,{language:n});break;case"data source":{let t,r=n,i=1433;if(/^np:/i.test(r))throw Error("Connection via Named Pipes is not supported.");/^tcp:/i.test(r)&&(r=r.substr(4));let o=/^(.*)\\(.*)$/.exec(r);o&&(r=o[1].trim(),t=o[2].trim());let s=/^(.*),(.*)$/.exec(r);if(s)r=s[1].trim(),i=parseInt(s[2].trim(),10);else{let e=/^(.*),(.*)$/.exec(t);e&&(t=e[1].trim(),i=parseInt(e[2].trim(),10))}("."===r||"(.)"===r||"(localdb)"===r.toLowerCase()||"(local)"===r.toLowerCase())&&(r="localhost"),Object.assign(e,{port:i,server:r}),t&&Object.assign(e.options,{instanceName:t});break}case"encrypt":Object.assign(e.options,{encrypt:!!n});break;case"initial catalog":Object.assign(e,{database:n});break;case"max pool size":Object.assign(e.pool,{max:n});break;case"min pool size":Object.assign(e.pool,{min:n});break;case"msi endpoint":Object.assign(e,{msiEndpoint:n});break;case"msi secret":Object.assign(e,{msiSecret:n});break;case"multisubnetfailover":Object.assign(e.options,{multiSubnetFailover:n});break;case"packet size":Object.assign(e.options,{packetSize:n});break;case"password":Object.assign(e,{password:n});break;case"tenant id":Object.assign(e,{tenantId:n});break;case"token":Object.assign(e,{token:n});break;case"transaction binding":Object.assign(e.options,{enableImplicitTransactions:"implicit unbind"===n.toLowerCase()});break;case"trustservercertificate":Object.assign(e.options,{trustServerCertificate:n});break;case"user id":{let t,r=n,i=/^(.*)\\(.*)$/.exec(r);i&&(t=i[1],r=i[2]),t&&Object.assign(e,{domain:t}),r&&Object.assign(e,{user:r});break}case"workstation id":Object.assign(e.options,{workstationId:n});break;case"request timeout":Object.assign(e,{requestTimeout:parseInt(n,10)});break;case"stream":Object.assign(e,{stream:!!n});break;case"useutc":Object.assign(e.options,{useUTC:!!n});break;case"parsejson":Object.assign(e,{parseJSON:!!n})}return e},{options:{},pool:{}})}acquire(e,t){let r=c.Promise.resolve(this._acquire()).catch(e=>{throw this.emit("error",e),e});return"function"==typeof t?(r.then(e=>t(null,e,this.config)).catch(t),this):r}_acquire(){return this.pool?this.pool.destroyed?c.Promise.reject(new l("Connection is closing","ENOTOPEN")):this.pool.acquire().promise:c.Promise.reject(new l("Connection not yet open.","ENOTOPEN"))}release(e){return i("connection(%d): released",a.get(e)),this.pool&&this.pool.release(e),this}connect(e){return"function"==typeof e?(this._connect(e),this):new c.Promise((e,t)=>this._connect(r=>{if(r)return t(r);e(this)}))}_connect(e){if(this._connected)return i("pool(%d): already connected, executing connect callback immediately",a.get(this)),setImmediate(e,null,this);this._connectStack.push(e),this._connecting||(this._connecting=!0,i("pool(%d): connecting",a.get(this)),this._poolCreate().then(e=>(i("pool(%d): connected",a.get(this)),this._healthy=!0,this._poolDestroy(e).then(()=>{this.pool=new s.Pool(Object.assign({create:()=>this._poolCreate().then(e=>(this._healthy=!0,e)).catch(e=>{throw this.pool.numUsed()+this.pool.numFree()<=0&&(this._healthy=!1),e}),validate:this._poolValidate.bind(this),destroy:this._poolDestroy.bind(this),max:10,min:0,idleTimeoutMillis:3e4,propagateCreateError:!0},this.config.pool)),this._connecting=!1,this._connected=!0}))).then(()=>{this._connectStack.forEach(e=>{setImmediate(e,null,this)})}).catch(e=>{this._connecting=!1,this._connectStack.forEach(t=>{setImmediate(t,e)})}).then(()=>{this._connectStack=[]}))}get size(){return this.pool.numFree()+this.pool.numUsed()+this.pool.numPendingCreates()}get available(){return this.pool.numFree()}get pending(){return this.pool.numPendingAcquires()}get borrowed(){return this.pool.numUsed()}close(e){return"function"==typeof e?(this._close(e),this):new c.Promise((e,t)=>{this._close(r=>{if(r)return t(r);e(this)})})}_close(e){if(this._connecting&&(i("pool(%d): close called while connecting",a.get(this)),setImmediate(e,new l("Cannot close a pool while it is connecting"))),!this.pool)return i("pool(%d): already closed, executing close callback immediately",a.get(this)),setImmediate(e,null);this._closeStack.push(e),this.pool.destroyed||(this._connecting=this._connected=this._healthy=!1,this.pool.destroy().then(()=>{i("pool(%d): pool closed, removing pool reference and executing close callbacks",a.get(this)),this.pool=null,this._closeStack.forEach(e=>{setImmediate(e,null)})}).catch(e=>{this.pool=null,this._closeStack.forEach(t=>{setImmediate(t,e)})}).then(()=>{this._closeStack=[]}))}request(){return new c.driver.Request(this)}transaction(){return new c.driver.Transaction(this)}query(){if("string"==typeof arguments[0])return new c.driver.Request(this).query(arguments[0],arguments[1]);let e=Array.prototype.slice.call(arguments),t=e.shift();return new c.driver.Request(this)._template(t,e,"query")}batch(){if("string"==typeof arguments[0])return new c.driver.Request(this).batch(arguments[0],arguments[1]);let e=Array.prototype.slice.call(arguments),t=e.shift();return new c.driver.Request(this)._template(t,e,"batch")}}e.exports=d},57043:(e,t,r)=>{"use strict";let n=r(39547),i=r(19705),o=r(94422),s=r(44211),{ConnectionError:a,TransactionError:l,RequestError:c,PreparedStatementError:u,MSSQLError:h}=r(33014),d=r(23781),f=r(13602),p=r(11839),{TYPES:m}=r(74173),{connect:g,close:y,on:_,off:E,removeListener:T,query:b,batch:w}=r(3873);for(let t in e.exports={ConnectionPool:n,Transaction:s,Request:o,PreparedStatement:i,ConnectionError:a,TransactionError:l,RequestError:c,PreparedStatementError:u,MSSQLError:h,driver:d.driver,exports:{ConnectionError:a,TransactionError:l,RequestError:c,PreparedStatementError:u,MSSQLError:h,Table:f,ISOLATION_LEVEL:p,TYPES:m,MAX:65535,map:d.map,getTypeByValue:d.getTypeByValue,connect:g,close:y,on:_,removeListener:T,off:E,query:b,batch:w}},Object.defineProperty(e.exports,"Promise",{enumerable:!0,get:()=>d.Promise,set:e=>{d.Promise=e}}),Object.defineProperty(e.exports,"valueHandler",{enumerable:!0,value:d.valueHandler,writable:!1,configurable:!1}),m){let r=m[t];e.exports.exports[t]=r,e.exports.exports[t.toUpperCase()]=r}},19705:(e,t,r)=>{"use strict";let n=r(57034)("mssql:base"),{EventEmitter:i}=r(15673),{IDS:o,objectHasProperty:s}=r(44800),a=r(3873),{TransactionError:l,PreparedStatementError:c}=r(33014),u=r(23781),{TYPES:h,declare:d}=r(74173);class f extends i{constructor(e){super(),o.add(this,"PreparedStatement"),n("ps(%d): created",o.get(this)),this.parent=e||a.pool,this._handle=0,this.prepared=!1,this.parameters={}}get config(){return this.parent.config}get connected(){return this.parent.connected}acquire(e,t){return this._acquiredConnection?this._activeRequest?setImmediate(t,new l("Can't acquire connection for the request. There is another request in progress.","EREQINPROG")):(this._activeRequest=e,setImmediate(t,null,this._acquiredConnection,this._acquiredConfig)):setImmediate(t,new c("Statement is not prepared. Call prepare() first.","ENOTPREPARED")),this}release(e){return e===this._acquiredConnection&&(this._activeRequest=null),this}input(e,t){if(/--| |\/\*|\*\/|'/.test(e))throw new c(`SQL injection warning for param '${e}'`,"EINJECT");if(arguments.length<2)throw new c("Invalid number of arguments. 2 arguments expected.","EARGS");if(t instanceof Function&&(t=t()),s(this.parameters,e))throw new c(`The parameter name ${e} has already been declared. Parameter names must be unique`,"EDUPEPARAM");return this.parameters[e]={name:e,type:t.type,io:1,length:t.length,scale:t.scale,precision:t.precision,tvpType:t.tvpType},this}replaceInput(e,t,r){return delete this.parameters[e],this.input(e,t,r)}output(e,t){if(/--| |\/\*|\*\/|'/.test(e))throw new c(`SQL injection warning for param '${e}'`,"EINJECT");if(arguments.length<2)throw new c("Invalid number of arguments. 2 arguments expected.","EARGS");if(t instanceof Function&&(t=t()),s(this.parameters,e))throw new c(`The parameter name ${e} has already been declared. Parameter names must be unique`,"EDUPEPARAM");return this.parameters[e]={name:e,type:t.type,io:2,length:t.length,scale:t.scale,precision:t.precision},this}replaceOutput(e,t){return delete this.parameters[e],this.output(e,t)}prepare(e,t){return"function"==typeof t?(this._prepare(e,t),this):new u.Promise((t,r)=>{this._prepare(e,e=>{if(e)return r(e);t(this)})})}_prepare(e,t){if(n("ps(%d): prepare",o.get(this)),"function"==typeof e&&(t=e,e=void 0),this.prepared)return setImmediate(t,new c("Statement is already prepared.","EALREADYPREPARED"));this.statement=e||this.statement,this.parent.acquire(this,(e,r,i)=>{if(e)return t(e);this._acquiredConnection=r,this._acquiredConfig=i;let a=new u.driver.Request(this);a.stream=!1,a.output("handle",h.Int),a.input("params",h.NVarChar,(()=>{let e=[];for(let t in this.parameters){if(!s(this.parameters,t))continue;let r=this.parameters[t];e.push(`@${t} ${d(r.type,r)}${2===r.io?" output":""}`)}return e})().join(",")),a.input("stmt",h.NVarChar,this.statement),a.execute("sp_prepare",(e,r)=>{if(e)return this.parent.release(this._acquiredConnection),this._acquiredConnection=null,this._acquiredConfig=null,t(e);n("ps(%d): prepared",o.get(this)),this._handle=r.output.handle,this.prepared=!0,t(null)})})}execute(e,t){return this.stream||"function"==typeof t?this._execute(e,t):new u.Promise((t,r)=>{this._execute(e,(e,n)=>{if(e)return r(e);t(n)})})}_execute(e,t){let r=new u.driver.Request(this);for(let t in r.stream=this.stream,r.arrayRowMode=this.arrayRowMode,r.input("handle",h.Int,this._handle),this.parameters){if(!s(this.parameters,t))continue;let n=this.parameters[t];r.parameters[t]={name:t,type:n.type,io:n.io,value:e[t],length:n.length,scale:n.scale,precision:n.precision}}return r.execute("sp_execute",(e,r)=>{if(e)return t(e);t(null,r)}),r}unprepare(e){return"function"==typeof e?(this._unprepare(e),this):new u.Promise((e,t)=>{this._unprepare(r=>{if(r)return t(r);e()})})}_unprepare(e){if(n("ps(%d): unprepare",o.get(this)),!this.prepared)return setImmediate(e,new c("Statement is not prepared. Call prepare() first.","ENOTPREPARED"));if(this._activeRequest)return setImmediate(e,new l("Can't unprepare the statement. There is a request in progress.","EREQINPROG"));let t=new u.driver.Request(this);t.stream=!1,t.input("handle",h.Int,this._handle),t.execute("sp_unprepare",t=>t?e(t):(this.parent.release(this._acquiredConnection),this._acquiredConnection=null,this._acquiredConfig=null,this._handle=0,this.prepared=!1,n("ps(%d): unprepared",o.get(this)),e(null)))}}e.exports=f},94422:(e,t,r)=>{"use strict";let n=r(57034)("mssql:base"),{EventEmitter:i}=r(15673),{Readable:o}=r(84492),{IDS:s,objectHasProperty:a}=r(44800),l=r(3873),{RequestError:c,ConnectionError:u}=r(33014),{TYPES:h}=r(74173),d=r(23781);class f extends i{constructor(e){super(),s.add(this,"Request"),n("request(%d): created",s.get(this)),this.canceled=!1,this._paused=!1,this.parent=e||l.pool,this.parameters={},this.stream=null,this.arrayRowMode=null}get paused(){return this._paused}template(){let e=Array.prototype.slice.call(arguments),t=e.shift();return this._template(t,e)}_template(e,t,r){let n=[e[0]];for(let r=0;r<t.length;r++){let i=t[r];if(Array.isArray(i)){for(let e=0;e<i.length;e++)this.input(`param${r+1}_${e}`,i[e]),n.push(`@param${r+1}_${e}`),e<i.length-1&&n.push(", ");n.push(e[r+1])}else this.input(`param${r+1}`,i),n.push(`@param${r+1}`,e[r+1])}return r?this[r](n.join("")):n.join("")}input(e,t,r){if(/--| |\/\*|\*\/|'/.test(e))throw new c(`SQL injection warning for param '${e}'`,"EINJECT");if(arguments.length<2)throw new c("Invalid number of arguments. At least 2 arguments expected.","EARGS");if(2==arguments.length&&(r=t,t=d.getTypeByValue(r)),!r||"function"!=typeof r.valueOf||r instanceof Date||(r=r.valueOf()),void 0===r&&(r=null),"number"==typeof r&&isNaN(r)&&(r=null),t instanceof Function&&(t=t()),a(this.parameters,e))throw new c(`The parameter name ${e} has already been declared. Parameter names must be unique`,"EDUPEPARAM");return this.parameters[e]={name:e,type:t.type,io:1,value:r,length:t.length,scale:t.scale,precision:t.precision,tvpType:t.tvpType},this}replaceInput(e,t,r){return delete this.parameters[e],this.input(e,t,r)}output(e,t,r){if(t||(t=h.NVarChar),/--| |\/\*|\*\/|'/.test(e))throw new c(`SQL injection warning for param '${e}'`,"EINJECT");if(t===h.Text||t===h.NText||t===h.Image)throw new c("Deprecated types (Text, NText, Image) are not supported as OUTPUT parameters.","EDEPRECATED");if(!r||"function"!=typeof r.valueOf||r instanceof Date||(r=r.valueOf()),void 0===r&&(r=null),"number"==typeof r&&isNaN(r)&&(r=null),t instanceof Function&&(t=t()),a(this.parameters,e))throw new c(`The parameter name ${e} has already been declared. Parameter names must be unique`,"EDUPEPARAM");return this.parameters[e]={name:e,type:t.type,io:2,value:r,length:t.length,scale:t.scale,precision:t.precision},this}replaceOutput(e,t,r){return delete this.parameters[e],this.output(e,t,r)}batch(e,t){if(null===this.stream&&this.parent&&(this.stream=this.parent.config.stream),null===this.arrayRowMode&&this.parent&&(this.arrayRowMode=this.parent.config.arrayRowMode),this.rowsAffected=0,"function"==typeof t)return this._batch(e,(e,r,n,i)=>{if(this.stream&&(e&&this.emit("error",e),e=null,this.emit("done",{output:n,rowsAffected:i})),e)return t(e);t(null,{recordsets:r,recordset:r&&r[0],output:n,rowsAffected:i})}),this;if("object"==typeof e){let t=Array.prototype.slice.call(arguments),r=t.shift();e=this._template(r,t)}return new d.Promise((t,r)=>{this._batch(e,(e,n,i,o)=>{if(this.stream&&(e&&this.emit("error",e),e=null,this.emit("done",{output:i,rowsAffected:o})),e)return r(e);t({recordsets:n,recordset:n&&n[0],output:i,rowsAffected:o})})})}_batch(e,t){return this.parent?this.parent.connected?void(this.canceled=!1,setImmediate(t)):setImmediate(t,new u("Connection is closed.","ECONNCLOSED")):setImmediate(t,new c("No connection is specified for that request.","ENOCONN"))}bulk(e,t,r){return("function"==typeof t?(r=t,t={}):void 0===t&&(t={}),null===this.stream&&this.parent&&(this.stream=this.parent.config.stream),null===this.arrayRowMode&&this.parent&&(this.arrayRowMode=this.parent.config.arrayRowMode),this.stream||"function"==typeof r)?(this._bulk(e,t,(e,t)=>this.stream?(e&&this.emit("error",e),this.emit("done",{rowsAffected:t})):e?r(e):void r(null,{rowsAffected:t})),this):new d.Promise((r,n)=>{this._bulk(e,t,(e,t)=>{if(e)return n(e);r({rowsAffected:t})})})}_bulk(e,t,r){return this.parent?this.parent.connected?void(this.canceled=!1,setImmediate(r)):setImmediate(r,new u("Connection is closed.","ECONNCLOSED")):setImmediate(r,new c("No connection is specified for that request.","ENOCONN"))}toReadableStream(e={}){this.stream=!0,this.pause();let t=new o({...e,objectMode:!0,read:()=>{this.resume()}});return this.on("row",e=>{t.push(e)||this.pause()}),this.on("error",e=>{t.emit("error",e)}),this.on("done",()=>{t.push(null)}),t}pipe(e){return this.toReadableStream().pipe(e)}query(e,t){if(null===this.stream&&this.parent&&(this.stream=this.parent.config.stream),null===this.arrayRowMode&&this.parent&&(this.arrayRowMode=this.parent.config.arrayRowMode),this.rowsAffected=0,"function"==typeof t)return this._query(e,(e,r,n,i,o)=>{if(this.stream&&(e&&this.emit("error",e),e=null,this.emit("done",{output:n,rowsAffected:i})),e)return t(e);let s={recordsets:r,recordset:r&&r[0],output:n,rowsAffected:i};this.arrayRowMode&&(s.columns=o),t(null,s)}),this;if("object"==typeof e){let t=Array.prototype.slice.call(arguments),r=t.shift();e=this._template(r,t)}return new d.Promise((t,r)=>{this._query(e,(e,n,i,o,s)=>{if(this.stream&&(e&&this.emit("error",e),e=null,this.emit("done",{output:i,rowsAffected:o})),e)return r(e);let a={recordsets:n,recordset:n&&n[0],output:i,rowsAffected:o};this.arrayRowMode&&(a.columns=s),t(a)})})}_query(e,t){return this.parent?this.parent.connected?void(this.canceled=!1,setImmediate(t)):setImmediate(t,new u("Connection is closed.","ECONNCLOSED")):setImmediate(t,new c("No connection is specified for that request.","ENOCONN"))}execute(e,t){return(null===this.stream&&this.parent&&(this.stream=this.parent.config.stream),null===this.arrayRowMode&&this.parent&&(this.arrayRowMode=this.parent.config.arrayRowMode),this.rowsAffected=0,"function"==typeof t)?(this._execute(e,(e,r,n,i,o,s)=>{if(this.stream&&(e&&this.emit("error",e),e=null,this.emit("done",{output:n,rowsAffected:o,returnValue:i})),e)return t(e);let a={recordsets:r,recordset:r&&r[0],output:n,rowsAffected:o,returnValue:i};this.arrayRowMode&&(a.columns=s),t(null,a)}),this):new d.Promise((t,r)=>{this._execute(e,(e,n,i,o,s,a)=>{if(this.stream&&(e&&this.emit("error",e),e=null,this.emit("done",{output:i,rowsAffected:s,returnValue:o})),e)return r(e);let l={recordsets:n,recordset:n&&n[0],output:i,rowsAffected:s,returnValue:o};this.arrayRowMode&&(l.columns=a),t(l)})})}_execute(e,t){return this.parent?this.parent.connected?void(this.canceled=!1,setImmediate(t)):setImmediate(t,new u("Connection is closed.","ECONNCLOSED")):setImmediate(t,new c("No connection is specified for that request.","ENOCONN"))}cancel(){return this._cancel(),!0}_cancel(){this.canceled=!0}pause(){return!!this.stream&&(this._pause(),!0)}_pause(){this._paused=!0}resume(){return!!this.stream&&(this._resume(),!0)}_resume(){this._paused=!1}_setCurrentRequest(e){return this._currentRequest=e,this._paused&&this.pause(),this}}e.exports=f},44211:(e,t,r)=>{"use strict";let n=r(57034)("mssql:base"),{EventEmitter:i}=r(15673),{IDS:o}=r(44800),s=r(3873),{TransactionError:a}=r(33014),l=r(23781),c=r(11839);class u extends i{constructor(e){super(),o.add(this,"Transaction"),n("transaction(%d): created",o.get(this)),this.parent=e||s.pool,this.isolationLevel=u.defaultIsolationLevel,this.name=""}get config(){return this.parent.config}get connected(){return this.parent.connected}acquire(e,t){return this._acquiredConnection?this._activeRequest?setImmediate(t,new a("Can't acquire connection for the request. There is another request in progress.","EREQINPROG")):(this._activeRequest=e,setImmediate(t,null,this._acquiredConnection,this._acquiredConfig)):setImmediate(t,new a("Transaction has not begun. Call begin() first.","ENOTBEGUN")),this}release(e){return e===this._acquiredConnection&&(this._activeRequest=null),this}begin(e,t){return(e instanceof Function&&(t=e,e=void 0),"function"==typeof t)?(this._begin(e,e=>{e||this.emit("begin"),t(e)}),this):new l.Promise((t,r)=>{this._begin(e,e=>{if(e)return r(e);this.emit("begin"),t(this)})})}_begin(e,t){if(this._acquiredConnection)return setImmediate(t,new a("Transaction has already begun.","EALREADYBEGUN"));if(this._aborted=!1,this._rollbackRequested=!1,e){if(Object.keys(c).some(t=>c[t]===e))this.isolationLevel=e;else throw new a("Invalid isolation level.")}setImmediate(t)}commit(e){return"function"==typeof e?(this._commit(t=>{t||this.emit("commit"),e(t)}),this):new l.Promise((e,t)=>{this._commit(r=>{if(r)return t(r);this.emit("commit"),e()})})}_commit(e){return this._aborted?setImmediate(e,new a("Transaction has been aborted.","EABORT")):this._acquiredConnection?this._activeRequest?setImmediate(e,new a("Can't commit transaction. There is a request in progress.","EREQINPROG")):void setImmediate(e):setImmediate(e,new a("Transaction has not begun. Call begin() first.","ENOTBEGUN"))}request(){return new l.driver.Request(this)}rollback(e){return"function"==typeof e?(this._rollback(t=>{t||this.emit("rollback",this._aborted),e(t)}),this):new l.Promise((e,t)=>this._rollback(r=>{if(r)return t(r);this.emit("rollback",this._aborted),e()}))}_rollback(e){return this._aborted?setImmediate(e,new a("Transaction has been aborted.","EABORT")):this._acquiredConnection?this._activeRequest?setImmediate(e,new a("Can't rollback transaction. There is a request in progress.","EREQINPROG")):void(this._rollbackRequested=!0,setImmediate(e)):setImmediate(e,new a("Transaction has not begun. Call begin() first.","ENOTBEGUN"))}}u.defaultIsolationLevel=c.READ_COMMITTED,e.exports=u},74173:(e,t,r)=>{"use strict";let n=r(44800).objectHasProperty,i=Symbol.for("nodejs.util.inspect.custom"),o={VarChar:e=>({type:o.VarChar,length:e}),NVarChar:e=>({type:o.NVarChar,length:e}),Text:()=>({type:o.Text}),Int:()=>({type:o.Int}),BigInt:()=>({type:o.BigInt}),TinyInt:()=>({type:o.TinyInt}),SmallInt:()=>({type:o.SmallInt}),Bit:()=>({type:o.Bit}),Float:()=>({type:o.Float}),Numeric:(e,t)=>({type:o.Numeric,precision:e,scale:t}),Decimal:(e,t)=>({type:o.Decimal,precision:e,scale:t}),Real:()=>({type:o.Real}),Date:()=>({type:o.Date}),DateTime:()=>({type:o.DateTime}),DateTime2:e=>({type:o.DateTime2,scale:e}),DateTimeOffset:e=>({type:o.DateTimeOffset,scale:e}),SmallDateTime:()=>({type:o.SmallDateTime}),Time:e=>({type:o.Time,scale:e}),UniqueIdentifier:()=>({type:o.UniqueIdentifier}),SmallMoney:()=>({type:o.SmallMoney}),Money:()=>({type:o.Money}),Binary:e=>({type:o.Binary,length:e}),VarBinary:e=>({type:o.VarBinary,length:e}),Image:()=>({type:o.Image}),Xml:()=>({type:o.Xml}),Char:e=>({type:o.Char,length:e}),NChar:e=>({type:o.NChar,length:e}),NText:()=>({type:o.NText}),TVP:e=>({type:o.TVP,tvpType:e}),UDT:()=>({type:o.UDT}),Geography:()=>({type:o.Geography}),Geometry:()=>({type:o.Geometry}),Variant:()=>({type:o.Variant})};e.exports.TYPES=o,e.exports.DECLARATIONS={};let s=function(e,t){if(null==t&&(t=2),(e=String(e)).length<t)for(let r=1;r<=t-e.length;r++)e=`0${e}`;return e};for(let t in o)if(n(o,t)){let r=o[t];r.declaration=t.toLowerCase(),e.exports.DECLARATIONS[r.declaration]=r,((e,t)=>{t[i]=()=>`[sql.${e}]`})(t,r)}e.exports.declare=(e,t)=>{switch(e){case o.VarChar:case o.VarBinary:return`${e.declaration} (${t.length>8e3?"MAX":null==t.length?"MAX":t.length})`;case o.NVarChar:return`${e.declaration} (${t.length>4e3?"MAX":null==t.length?"MAX":t.length})`;case o.Char:case o.NChar:case o.Binary:return`${e.declaration} (${null==t.length?1:t.length})`;case o.Decimal:case o.Numeric:return`${e.declaration} (${null==t.precision?18:t.precision}, ${null==t.scale?0:t.scale})`;case o.Time:case o.DateTime2:case o.DateTimeOffset:return`${e.declaration} (${null==t.scale?7:t.scale})`;case o.TVP:return`${t.tvpType} readonly`;default:return e.declaration}},e.exports.cast=(e,t,r)=>{if(null==e)return null;switch(typeof e){case"string":return`N'${e.replace(/'/g,"''")}'`;case"number":return e;case"boolean":return e?1:0;case"object":if(e instanceof Date){let t=e.getUTCMilliseconds()/1e3;null!=e.nanosecondDelta&&(t+=e.nanosecondDelta);let n=null==r.scale?7:r.scale;return t=n>0?String(t).substr(1,n+1):"",`N'${e.getUTCFullYear()}-${s(e.getUTCMonth()+1)}-${s(e.getUTCDate())} ${s(e.getUTCHours())}:${s(e.getUTCMinutes())}:${s(e.getUTCSeconds())}${t}'`}if(Buffer.isBuffer(e))return`0x${e.toString("hex")}`;return null;default:return null}}},72670:(e,t,r)=>{"use strict";let n=r(23632);class i extends n{constructor(e,t){super(e,t),this.name="ConnectionError"}}e.exports=i},33014:(e,t,r)=>{"use strict";let n=r(72670),i=r(23632),o=r(22751),s=r(17252),a=r(23799);e.exports={ConnectionError:n,MSSQLError:i,PreparedStatementError:o,RequestError:s,TransactionError:a}},23632:e=>{"use strict";class t extends Error{constructor(e,t){e instanceof Error?(super(e.message),this.code=e.code||t,Error.captureStackTrace(this,this.constructor),Object.defineProperty(this,"originalError",{enumerable:!0,value:e})):(super(e),this.code=t),this.name="MSSQLError"}}e.exports=t},22751:(e,t,r)=>{"use strict";let n=r(23632);class i extends n{constructor(e,t){super(e,t),this.name="PreparedStatementError"}}e.exports=i},17252:(e,t,r)=>{"use strict";let n=r(23632);class i extends n{constructor(e,t){super(e,t),e instanceof Error&&(e.info?(this.number=e.info.number||e.code,this.lineNumber=e.info.lineNumber,this.state=e.info.state||e.sqlstate,this.class=e.info.class,this.serverName=e.info.serverName,this.procName=e.info.procName):(this.number=e.code,this.lineNumber=e.lineNumber,this.state=e.sqlstate,this.class=e.severity,this.serverName=e.serverName,this.procName=e.procName)),this.name="RequestError";let r=/^\[Microsoft\]\[SQL Server Native Client 11\.0\](?:\[SQL Server\])?([\s\S]*)$/.exec(this.message);r&&(this.message=r[1])}}e.exports=i},23799:(e,t,r)=>{"use strict";let n=r(23632);class i extends n{constructor(e,t){super(e,t),this.name="TransactionError"}}e.exports=i},3873:(e,t,r)=>{"use strict";let n=r(23781),i=null,o={};function s(e,t){if(!o[e])return i;let r=o[e].indexOf(t);return -1===r||(o[e].splice(r,1),0===o[e].length&&(o[e]=void 0),i&&i.removeListener(e,t)),i}e.exports={batch:function(){if("string"==typeof arguments[0])return new n.driver.Request().batch(arguments[0],arguments[1]);let e=Array.prototype.slice.call(arguments),t=e.shift();return new n.driver.Request()._template(t,e,"batch")},close:function(e){if(i){let t=i;return i=null,t.close(e)}return"function"==typeof e?(setImmediate(e),null):new n.Promise(e=>{e(i)})},connect:function(e,t){if(!i){for(let t in i=new n.driver.ConnectionPool(e),o)for(let e=0,r=o[t].length;e<r;e++)i.on(t,o[t][e]);let t=i.close;i.close=(function(e){for(let e in o)for(let t=0,r=o[e].length;t<r;t++)this.removeListener(e,o[e][t]);return this.on("error",e=>{if(o.error)for(let t=0,r=o.error.length;t<r;t++)o.error[t].call(this,e)}),i=null,t.call(this,e)}).bind(i)}return"function"==typeof t?i.connect((e,r)=>{e&&(i=null),t(e,r)}):i.connect().catch(e=>(i=null,n.Promise.reject(e)))},off:s,on:function(e,t){return o[e]||(o[e]=[]),o[e].push(t),i&&i.on(e,t),i},query:function(){if("string"==typeof arguments[0])return new n.driver.Request().query(arguments[0],arguments[1]);let e=Array.prototype.slice.call(arguments),t=e.shift();return new n.driver.Request()._template(t,e,"query")},removeListener:s},Object.defineProperty(e.exports,"pool",{get:()=>i,set:()=>{}})},11839:e=>{"use strict";e.exports={READ_UNCOMMITTED:1,READ_COMMITTED:2,REPEATABLE_READ:3,SERIALIZABLE:4,SNAPSHOT:5}},23781:(e,t,r)=>{"use strict";let n=r(74173).TYPES,i=r(13602),o=Promise,s=[];s.register=function(e,t){for(let t=0;t<this.length;t++)if(this[t].js===e){this.splice(t,1);break}return this.push({js:e,sql:t}),null},s.register(String,n.NVarChar),s.register(Number,n.Int),s.register(Boolean,n.Bit),s.register(Date,n.DateTime),s.register(Buffer,n.VarBinary),s.register(i,n.TVP),e.exports={driver:{},getTypeByValue:function(e){if(null==e)return n.NVarChar;switch(typeof e){case"string":for(let e of Array.from(s))if(e.js===String)return e.sql;return n.NVarChar;case"number":case"bigint":if(e%1!=0)return n.Float;if(e<-2147483648||e>2147483647)return n.BigInt;return n.Int;case"boolean":for(let e of Array.from(s))if(e.js===Boolean)return e.sql;return n.Bit;case"object":for(let t of Array.from(s))if(e instanceof t.js)return t.sql;return n.NVarChar;default:return n.NVarChar}},map:s},Object.defineProperty(e.exports,"Promise",{get:()=>o,set:e=>{o=e}}),Object.defineProperty(e.exports,"valueHandler",{enumerable:!0,value:new Map,writable:!1,configurable:!1})},13602:(e,t,r)=>{"use strict";let n=r(74173).TYPES,i=r(74173).declare,o=r(44800).objectHasProperty;function s(e){if(e){let t=s.parseName(e);this.name=t.name,this.schema=t.schema,this.database=t.database,this.path=(this.database?`[${this.database}].`:"")+(this.schema?`[${this.schema}].`:"")+`[${this.name}]`,this.temporary="#"===this.name.charAt(0)}this.columns=[],this.rows=[],Object.defineProperty(this.columns,"add",{value(e,t,r){if(null==t)throw Error("Column data type is not defined.");return t instanceof Function&&(t=t()),r=r||{},t.name=e,["nullable","primary","identity","readOnly","length"].forEach(e=>{o(r,e)&&(t[e]=r[e])}),this.push(t)}}),Object.defineProperty(this.rows,"add",{value(){return this.push(Array.prototype.slice.call(arguments))}}),Object.defineProperty(this.rows,"clear",{value(){return this.splice(0,this.length)}})}s.prototype._makeBulk=function(){for(let e=0;e<this.columns.length;e++){let t=this.columns[e];switch(t.type){case n.Date:case n.DateTime:case n.DateTime2:for(let t=0;t<this.rows.length;t++){let r=this.rows[t][e];if("string"==typeof r||"number"==typeof r){let n=new Date(r);if(isNaN(n.getDate()))throw TypeError("Invalid date value passed to bulk rows");this.rows[t][e]=n}}break;case n.Xml:t.type=n.NVarChar(65535).type;break;case n.UDT:case n.Geography:case n.Geometry:t.type=n.VarBinary(65535).type}}return this},s.prototype.declare=function(){let e=this.columns.filter(e=>!0===e.primary).map(e=>`[${e.name}]`),t=this.columns.map(t=>{let r=[`[${t.name}] ${i(t.type,t)}`];return!0===t.nullable?r.push("null"):!1===t.nullable&&r.push("not null"),!0===t.primary&&1===e.length&&r.push("primary key"),r.join(" ")}),r=e.length>1?`, constraint [PK_${this.temporary?this.name.substr(1):this.name}] primary key (${e.join(", ")})`:"";return`create table ${this.path} (${t.join(", ")}${r})`},s.fromRecordset=function(e,t){let r=new this(t);for(let t in e.columns)if(o(e.columns,t)){let n=e.columns[t];r.columns.add(t,{type:n.type,length:n.length,scale:n.scale,precision:n.precision},{nullable:n.nullable,identity:n.identity,readOnly:n.readOnly})}if(1===r.columns.length&&"JSON_F52E2B61-18A1-11d1-B105-00805F49916B"===r.columns[0].name)for(let t=0;t<e.length;t++)r.rows.add(JSON.stringify(e[t]));else for(let t=0;t<e.length;t++)r.rows.add.apply(r.rows,r.columns.map(r=>e[t][r.name]));return r},s.parseName=function(e){let t=e.length,r=-1,n="",i=!1,o=[];for(;++r<t;){let t=e.charAt(r);if("["===t)i?n+=t:i=!0;else if("]"===t){if(i)i=!1;else throw Error("Invalid table name.")}else"."===t?i?n+=t:(o.push(n),n=""):n+=t}switch(n&&o.push(n),o.length){case 1:return{name:o[0],schema:null,database:null};case 2:return{name:o[1],schema:o[0],database:null};case 3:return{name:o[2],schema:o[1],database:o[0]};default:throw Error("Invalid table name.")}},e.exports=s},90607:(e,t,r)=>{"use strict";let n=r(1129),i=r(57034)("mssql:tedi"),o=r(39547),{IDS:s}=r(44800),a=r(23781),l=r(72670);class c extends o{_config(){let e={server:this.config.server,options:Object.assign({encrypt:"boolean"!=typeof this.config.encrypt||this.config.encrypt,trustServerCertificate:"boolean"==typeof this.config.trustServerCertificate&&this.config.trustServerCertificate},this.config.options),authentication:Object.assign({type:void 0!==this.config.domain?"ntlm":void 0!==this.config.authentication_type?this.config.authentication_type:"default",options:Object.entries({userName:this.config.user,password:this.config.password,domain:this.config.domain,clientId:this.config.clientId,clientSecret:this.config.clientSecret,tenantId:this.config.tenantId,token:this.config.token,msiEndpoint:this.config.msiEndpoint,msiSecret:this.config.msiSecret}).reduce((e,[t,r])=>void 0!==r?{...e,[t]:r}:e,{})},this.config.authentication)};return e.options.database=e.options.database||this.config.database,e.options.port=e.options.port||this.config.port,e.options.connectTimeout=e.options.connectTimeout??this.config.connectionTimeout??this.config.timeout??15e3,e.options.requestTimeout=e.options.requestTimeout??this.config.requestTimeout??this.config.timeout??15e3,e.options.tdsVersion=e.options.tdsVersion||"7_4",e.options.rowCollectionOnDone=e.options.rowCollectionOnDone||!1,e.options.rowCollectionOnRequestCompletion=e.options.rowCollectionOnRequestCompletion||!1,e.options.useColumnNames=e.options.useColumnNames||!1,e.options.appName=e.options.appName||"node-mssql",e.options.instanceName&&delete e.options.port,isNaN(e.options.requestTimeout)&&(e.options.requestTimeout=15e3),(e.options.requestTimeout===1/0||e.options.requestTimeout<0)&&(e.options.requestTimeout=0),!e.options.debug&&this.config.debug&&(e.options.debug={packet:!0,token:!0,data:!0,payload:!0}),e}_poolCreate(){return new a.Promise((e,t)=>{let r;let o=r=>{e(r),e=t=()=>{}},a=r=>{t(r),e=t=()=>{}};try{r=new n.Connection(this._config())}catch(e){a(e);return}r.connect(e=>{if(e)return a(e=new l(e));i("connection(%d): established",s.get(r)),this.collation=r.databaseCollation,o(r)}),s.add(r,"Connection"),i("pool(%d): connection #%d created",s.get(this),s.get(r)),i("connection(%d): establishing",s.get(r)),r.on("end",()=>{a(new l("The connection ended without ever completing the connection"))}),r.on("error",e=>{"ESOCKET"===e.code?r.hasError=!0:this.emit("error",e),a(e)}),this.config.debug&&r.on("debug",this.emit.bind(this,"debug",r)),"function"==typeof this.config.beforeConnect&&this.config.beforeConnect(r)})}_poolValidate(e){return!!e&&!e.closed&&!e.hasError&&(!this.config.validateConnection||new a.Promise(t=>{let r=new n.Request("SELECT 1;",e=>{t(!e)});e.execSql(r)}))}_poolDestroy(e){return new a.Promise((t,r)=>{if(!e){t();return}i("connection(%d): destroying",s.get(e)),e.closed?(i("connection(%d): already closed",s.get(e)),t()):(e.once("end",()=>{i("connection(%d): destroyed",s.get(e)),t()}),e.close())})}}e.exports=c},34877:(e,t,r)=>{"use strict";let n=r(57043),i=r(90607),o=r(55047),s=r(82859);e.exports=Object.assign({ConnectionPool:i,Transaction:o,Request:s,PreparedStatement:n.PreparedStatement},n.exports),Object.defineProperty(e.exports,"Promise",{enumerable:!0,get:()=>n.Promise,set:e=>{n.Promise=e}}),Object.defineProperty(e.exports,"valueHandler",{enumerable:!0,value:n.valueHandler,writable:!1,configurable:!1}),n.driver.name="tedious",n.driver.ConnectionPool=i,n.driver.Transaction=o,n.driver.Request=s},82859:(e,t,r)=>{"use strict";let n=r(1129),i=r(57034)("mssql:tedi"),o=r(94422),s=r(17252),{IDS:a,objectHasProperty:l}=r(44800),{TYPES:c,DECLARATIONS:u,declare:h,cast:d}=r(74173),f=r(13602),{PARSERS:p}=r(72043),{valueHandler:m}=r(23781),g="JSON_F52E2B61-18A1-11d1-B105-00805F49916B",y="XML_F52E2B61-18A1-11d1-B105-00805F49916B",_={BitN:104,DateTimeN:111,DecimalN:106,FloatN:109,IntN:38,MoneyN:110,NumericN:108},E=function(e){switch(e){case c.VarChar:return n.TYPES.VarChar;case c.NVarChar:return n.TYPES.NVarChar;case c.Text:return n.TYPES.Text;case c.Int:return n.TYPES.Int;case c.BigInt:return n.TYPES.BigInt;case c.TinyInt:return n.TYPES.TinyInt;case c.SmallInt:return n.TYPES.SmallInt;case c.Bit:return n.TYPES.Bit;case c.Float:return n.TYPES.Float;case c.Decimal:return n.TYPES.Decimal;case c.Numeric:return n.TYPES.Numeric;case c.Real:return n.TYPES.Real;case c.Money:return n.TYPES.Money;case c.SmallMoney:return n.TYPES.SmallMoney;case c.Time:return n.TYPES.Time;case c.Date:return n.TYPES.Date;case c.DateTime:return n.TYPES.DateTime;case c.DateTime2:return n.TYPES.DateTime2;case c.DateTimeOffset:return n.TYPES.DateTimeOffset;case c.SmallDateTime:return n.TYPES.SmallDateTime;case c.UniqueIdentifier:return n.TYPES.UniqueIdentifier;case c.Xml:return n.TYPES.NVarChar;case c.Char:return n.TYPES.Char;case c.NChar:return n.TYPES.NChar;case c.NText:return n.TYPES.NVarChar;case c.Image:return n.TYPES.Image;case c.Binary:return n.TYPES.Binary;case c.VarBinary:return n.TYPES.VarBinary;case c.UDT:case c.Geography:case c.Geometry:return n.TYPES.UDT;case c.TVP:return n.TYPES.TVP;case c.Variant:return n.TYPES.Variant;default:return e}},T=function(e,t){if("object"==typeof e)switch(e){case n.TYPES.Char:return c.Char;case n.TYPES.NChar:return c.NChar;case n.TYPES.VarChar:return c.VarChar;case n.TYPES.NVarChar:return c.NVarChar;case n.TYPES.Text:return c.Text;case n.TYPES.NText:return c.NText;case n.TYPES.Int:return c.Int;case n.TYPES.BigInt:return c.BigInt;case n.TYPES.TinyInt:return c.TinyInt;case n.TYPES.SmallInt:return c.SmallInt;case n.TYPES.Bit:return c.Bit;case n.TYPES.Float:return c.Float;case n.TYPES.Real:return c.Real;case n.TYPES.Money:return c.Money;case n.TYPES.SmallMoney:return c.SmallMoney;case n.TYPES.Numeric:return c.Numeric;case n.TYPES.Decimal:return c.Decimal;case n.TYPES.DateTime:return c.DateTime;case n.TYPES.Time:return c.Time;case n.TYPES.Date:return c.Date;case n.TYPES.DateTime2:return c.DateTime2;case n.TYPES.DateTimeOffset:return c.DateTimeOffset;case n.TYPES.SmallDateTime:return c.SmallDateTime;case n.TYPES.UniqueIdentifier:return c.UniqueIdentifier;case n.TYPES.Image:return c.Image;case n.TYPES.Binary:return c.Binary;case n.TYPES.VarBinary:return c.VarBinary;case n.TYPES.Xml:return c.Xml;case n.TYPES.UDT:return c.UDT;case n.TYPES.TVP:return c.TVP;case n.TYPES.Variant:return c.Variant;default:switch(e.id){case _.BitN:return c.Bit;case _.NumericN:return c.Numeric;case _.DecimalN:return c.Decimal;case _.IntN:if(8===t)return c.BigInt;if(4===t)return c.Int;if(2===t)return c.SmallInt;return c.TinyInt;case _.FloatN:if(8===t)return c.Float;return c.Real;case _.MoneyN:if(8===t)return c.Money;return c.SmallMoney;case _.DateTimeN:if(8===t)return c.DateTime;return c.SmallDateTime}}},b=function(e,t){let r={};t&&(r=[]);for(let n=0,i=e.length;n<i;n++){let i=e[n],o={index:n,name:i.colName,length:i.dataLength,type:T(i.type,i.dataLength),scale:i.scale,precision:i.precision,nullable:!!(1&i.flags),caseSensitive:!!(2&i.flags),identity:!!(16&i.flags),readOnly:!(12&i.flags)};i.udtInfo&&(o.udt={name:i.udtInfo.typeName,database:i.udtInfo.dbname,schema:i.udtInfo.owningSchema,assembly:i.udtInfo.assemblyName},u[i.udtInfo.typeName]&&(o.type=u[i.udtInfo.typeName])),t?r.push(o):r[i.colName]=o}return r},w=function(e,t){let r=T(t.type);return m.has(r)?m.get(r)(e):t.type!==n.TYPES.UDT||null==e?e:p[t.udtInfo.typeName]?p[t.udtInfo.typeName](e):e},v=function(e){if(!(e instanceof f))return e;{let t={name:e.name,schema:e.schema,columns:[],rows:e.rows};for(let r of e.columns)t.columns.push({name:r.name,type:E(r.type),length:r.length,scale:r.scale,precision:r.precision});return t}};class S extends o{_batch(e,t){this._isBatch=!0,this._query(e,t)}_bulk(e,t,r){super._bulk(e,t,o=>{if(o)return r(o);try{e._makeBulk()}catch(e){return r(new s(e,"EREQUEST"))}if(!e.name)return r(new s("Table name must be specified for bulk insert.","ENAME"));if("@"===e.name.charAt(0))return r(new s("You can't use table variables for bulk insert.","ENAME"));let l=[],c={},u=!1,h=(e,t,n)=>{let i=Error(n.message);if(i.info=n,i=new s(i,"EREQUEST"),this.stream)this.emit("error",i);else if(e&&!u){if(t){for(let e in c)t.removeListener(e,c[e]);this.parent.release(t)}u=!0,r(i)}l.push(i)},d=e=>{this.emit("info",{message:e.message,number:e.number,state:e.state,class:e.class,lineNumber:e.lineNumber,serverName:e.serverName,procName:e.procName})};this.parent.acquire(this,(o,f)=>{let p=(e,...t)=>{try{this.parent.release(f)}catch(e){}r(e,...t)};if(o)return p(o);if(i("connection(%d): borrowed to request #%d",a.get(f),a.get(this)),this.canceled)return i("request(%d): canceled",a.get(this)),p(new s("Canceled.","ECANCEL"));this._cancel=()=>{i("request(%d): cancel",a.get(this)),f.cancel()},f.on("infoMessage",c.infoMessage=d),f.on("errorMessage",c.errorMessage=h.bind(null,!1,f)),f.on("error",c.error=h.bind(null,!0,f));let m=(e,t)=>{let r;if(e&&(!l.length||l.length&&e.message!==l[l.length-1].message)&&(e=new s(e,"EREQUEST"),this.stream&&this.emit("error",e),l.push(e)),delete this._cancel,l.length&&!this.stream&&((r=l.pop()).precedingErrors=l),!u){for(let e in c)f.removeListener(e,c[e]);u=!0,this.stream?p(null,t):p(r,t)}},g=f.newBulkLoad(e.path,t,m);for(let t of e.columns)g.addColumn(t.name,E(t.type),{nullable:t.nullable,length:t.length,scale:t.scale,precision:t.precision});if(e.create){let t=e.temporary?`tempdb..[${e.name}]`:e.path,r=new n.Request(`if object_id('${t.replace(/'/g,"''")}') is null ${e.declare()}`,t=>{if(t)return m(t);f.execBulkLoad(g,e.rows)});this._setCurrentRequest(r),f.execSqlBatch(r)}else f.execBulkLoad(g,e.rows)})})}_query(e,t){super._query(e,r=>{if(r)return t(r);let o=[],c=[],u=[],p={},m={},_=[],T={},S=[],A=null,I=!1,C=!1,O=null,N=!1,R=(e,r,n)=>{let i=Error(n.message);if(i.info=n,i=new s(i,"EREQUEST"),this.stream)this.emit("error",i);else if(e&&!N){if(r){for(let e in p)r.removeListener(e,p[e]);this.parent.release(r)}N=!0,t(i)}u.push(i)},D=e=>{this.emit("info",{message:e.message,number:e.number,state:e.state,class:e.class,lineNumber:e.lineNumber,serverName:e.serverName,procName:e.procName})};this.parent.acquire(this,(r,k,P)=>{let M;if(r)return t(r);if(i("connection(%d): borrowed to request #%d",a.get(k),a.get(this)),this.canceled)return i("request(%d): canceled",a.get(this)),this.parent.release(k),t(new s("Canceled.","ECANCEL"));this._cancel=()=>{i("request(%d): cancel",a.get(this)),k.cancel()},k.on("infoMessage",p.infoMessage=D),k.on("errorMessage",p.errorMessage=R.bind(null,!1,k)),k.on("error",p.error=R.bind(null,!0,k)),i("request(%d): query",a.get(this),e);let L=new n.Request(e,e=>{let r;if((e?.errors?e.errors:[e]).forEach((e,t,{length:r})=>{e&&(!u.length||u.length&&u.length>=r&&e.message!==u[u.length-r+t].message)&&(e=new s(e,"EREQUEST"),this.stream&&this.emit("error",e),u.push(e))}),I)for(let e in this.stream||(A=o.pop()[0]),A){let t=A[e];"___return___"!==e&&(m[e]=t)}if(delete this._cancel,u.length&&!this.stream&&((r=u.pop()).precedingErrors=u),!N){for(let e in p)k.removeListener(e,p[e]);this.parent.release(k),N=!0,r?i("request(%d): failed",a.get(this),r):i("request(%d): completed",a.get(this)),this.stream?t(null,null,m,_,c):t(r,o,m,_,c)}});this._setCurrentRequest(L),L.on("columnMetadata",e=>{T=b(e,this.arrayRowMode),C=!1,1===e.length&&(e[0].colName===g||e[0].colName===y)&&(C=!0,O=[]),this.stream&&(this._isBatch&&T.___return___||this.emit("recordset",T)),this.arrayRowMode&&c.push(T)});let x=(e,t)=>{if(null!=e&&(_.push(e),this.stream&&this.emit("rowsaffected",e)),0!==Object.keys(T).length){if(C){let e=O.join("");if(T[g]&&!0===P.parseJSON)try{M=""===e?null:JSON.parse(e)}catch(t){M=null;let e=new s(Error(`Failed to parse incoming JSON. ${t.message}`),"EJSON");this.stream&&this.emit("error",e),u.push(e)}else(M={})[Object.keys(T)[0]]=e;O=null,this.stream?this.emit("row",M):S.push(M)}this.stream||(Object.defineProperty(S,"columns",{enumerable:!1,configurable:!0,value:T}),Object.defineProperty(S,"toTable",{enumerable:!1,configurable:!0,value(e){return f.fromRecordset(this,e)}}),o.push(S)),S=[],T={}}};if(L.on("doneInProc",x),L.on("done",x),L.on("returnValue",(e,t,r)=>{m[e]=t}),L.on("row",e=>{if(S||(S=[]),C)return O.push(e[0].value);for(let t of(M=this.arrayRowMode?[]:{},e))if(t.value=w(t.value,t.metadata),this.arrayRowMode)M.push(t.value);else{let e=M[t.metadata.colName];void 0!==e?e instanceof Array?e.push(t.value):M[t.metadata.colName]=[e,t.value]:M[t.metadata.colName]=t.value}this.stream?this._isBatch&&M.___return___?A=M:this.emit("row",M):S.push(M)}),this._isBatch){if(Object.keys(this.parameters).length){for(let e in this.parameters){if(!l(this.parameters,e))continue;let r=this.parameters[e];try{r.value=E(r.type).validate(r.value,this.parent.collation)}catch(n){n.message=`Validation failed for parameter '${e}'. ${n.message}`;let r=new s(n,"EPARAM");return this.parent.release(k),t(r)}}let e=[];for(let t in this.parameters){if(!l(this.parameters,t))continue;let r=this.parameters[t];e.push(`@${t} ${h(r.type,r)}`)}let r=[];for(let e in this.parameters){if(!l(this.parameters,e))continue;let t=this.parameters[e];r.push(`@${e} = ${d(t.value,t.type,t)}`)}let n=[];for(let e in this.parameters)l(this.parameters,e)&&2===this.parameters[e].io&&n.push(`@${e} as [${e}]`);I=n.length>0,L.sqlTextOrProcedure=`declare ${e.join(", ")};select ${r.join(", ")};${L.sqlTextOrProcedure};${I?`select 1 as [___return___], ${n.join(", ")}`:""}`}}else for(let e in this.parameters){if(!l(this.parameters,e))continue;let t=this.parameters[e];1===t.io?L.addParameter(t.name,E(t.type),v(t.value),{length:t.length,scale:t.scale,precision:t.precision}):L.addOutputParameter(t.name,E(t.type),v(t.value),{length:t.length,scale:t.scale,precision:t.precision})}try{k[this._isBatch?"execSqlBatch":"execSql"](L)}catch(e){R(!0,k,e)}})})}_execute(e,t){super._execute(e,r=>{if(r)return t(r);let o=[],c=[],u=[],h={},d={},p=[],m={},_=[],T=0,S=!1,A=null,I=!1,C=(e,r,n)=>{let i=Error(n.message);if(i.info=n,i=new s(i,"EREQUEST"),this.stream)this.emit("error",i);else if(e&&!I){if(r){for(let e in h)r.removeListener(e,h[e]);this.parent.release(r)}I=!0,t(i)}u.push(i)},O=e=>{this.emit("info",{message:e.message,number:e.number,state:e.state,class:e.class,lineNumber:e.lineNumber,serverName:e.serverName,procName:e.procName})};this.parent.acquire(this,(r,N,R)=>{let D;if(r)return t(r);if(i("connection(%d): borrowed to request #%d",a.get(N),a.get(this)),this.canceled)return i("request(%d): canceled",a.get(this)),this.parent.release(N),t(new s("Canceled.","ECANCEL"));if(this._cancel=()=>{i("request(%d): cancel",a.get(this)),N.cancel()},N.on("infoMessage",h.infoMessage=O),N.on("errorMessage",h.errorMessage=C.bind(null,!1,N)),N.on("error",h.error=C.bind(null,!0,N)),i.enabled){let t=Object.keys(this.parameters).map(e=>this.parameters[e]),r=e=>"string"==typeof e&&e.length>50?e.substring(0,47)+"...":e,n=e=>e.name+" [sql."+e.type.name+"]",o={};t.forEach(e=>{o[n(e)]=r(e.value)}),i("request(%d): execute %s %O",a.get(this),e,o)}let k=new n.Request(e,e=>{let r;if(e&&(!u.length||u.length&&e.message!==u[u.length-1].message)&&(e=new s(e,"EREQUEST"),this.stream&&this.emit("error",e),u.push(e)),delete this._cancel,u.length&&!this.stream&&((r=u.pop()).precedingErrors=u),!I){for(let e in h)N.removeListener(e,h[e]);this.parent.release(N),I=!0,r?i("request(%d): failed",a.get(this),r):i("request(%d): complete",a.get(this)),this.stream?t(null,null,d,T,p,c):t(r,o,d,T,p,c)}});for(let e in this._setCurrentRequest(k),k.on("columnMetadata",e=>{m=b(e,this.arrayRowMode),S=!1,1===e.length&&(e[0].colName===g||e[0].colName===y)&&(S=!0,A=[]),this.stream&&this.emit("recordset",m),this.arrayRowMode&&c.push(m)}),k.on("row",e=>{if(_||(_=[]),S)return A.push(e[0].value);for(let t of(D=this.arrayRowMode?[]:{},e))if(t.value=w(t.value,t.metadata),this.arrayRowMode)D.push(t.value);else{let e=D[t.metadata.colName];null!=e?e instanceof Array?e.push(t.value):D[t.metadata.colName]=[e,t.value]:D[t.metadata.colName]=t.value}this.stream?this.emit("row",D):_.push(D)}),k.on("doneInProc",(e,t)=>{if(null!=e&&(p.push(e),this.stream&&this.emit("rowsaffected",e)),0!==Object.keys(m).length){if(S){if(m[g]&&!0===R.parseJSON)try{D=0===A.length?null:JSON.parse(A.join(""))}catch(t){D=null;let e=new s(Error(`Failed to parse incoming JSON. ${t.message}`),"EJSON");this.stream&&this.emit("error",e),u.push(e)}else(D={})[Object.keys(m)[0]]=A.join("");A=null,this.stream?this.emit("row",D):_.push(D)}this.stream||(Object.defineProperty(_,"columns",{enumerable:!1,configurable:!0,value:m}),Object.defineProperty(_,"toTable",{enumerable:!1,configurable:!0,value(e){return f.fromRecordset(this,e)}}),o.push(_)),_=[],m={}}}),k.on("doneProc",(e,t,r)=>{T=r}),k.on("returnValue",(e,t,r)=>{d[e]=t}),this.parameters){if(!l(this.parameters,e))continue;let t=this.parameters[e];1===t.io?k.addParameter(t.name,E(t.type),v(t.value),{length:t.length,scale:t.scale,precision:t.precision}):k.addOutputParameter(t.name,E(t.type),v(t.value),{length:t.length,scale:t.scale,precision:t.precision})}N.callProcedure(k)})})}_pause(){super._pause(),this._currentRequest&&this._currentRequest.pause()}_resume(){super._resume(),this._currentRequest&&this._currentRequest.resume()}}e.exports=S},55047:(e,t,r)=>{"use strict";let n=r(57034)("mssql:tedi"),i=r(44211),{IDS:o}=r(44800),s=r(23799);class a extends i{constructor(e){super(e),this._abort=()=>{if(!this._rollbackRequested){let e=this._acquiredConnection;setImmediate(this.parent.release.bind(this.parent),e),this._acquiredConnection.removeListener("rollbackTransaction",this._abort),this._acquiredConnection=null,this._acquiredConfig=null,this._aborted=!0,this.emit("rollback",!0)}}}_begin(e,t){super._begin(e,e=>{if(e)return t(e);n("transaction(%d): begin",o.get(this)),this.parent.acquire(this,(e,r,i)=>{if(e)return t(e);this._acquiredConnection=r,this._acquiredConnection.on("rollbackTransaction",this._abort),this._acquiredConfig=i,r.beginTransaction(e=>{e&&(e=new s(e)),n("transaction(%d): begun",o.get(this)),t(e)},this.name,this.isolationLevel)})})}_commit(e){super._commit(t=>{if(t)return e(t);n("transaction(%d): commit",o.get(this)),this._acquiredConnection.commitTransaction(t=>{t&&(t=new s(t)),this._acquiredConnection.removeListener("rollbackTransaction",this._abort),this.parent.release(this._acquiredConnection),this._acquiredConnection=null,this._acquiredConfig=null,t||n("transaction(%d): commited",o.get(this)),e(t)})})}_rollback(e){super._rollback(t=>{if(t)return e(t);n("transaction(%d): rollback",o.get(this)),this._acquiredConnection.rollbackTransaction(t=>{t&&(t=new s(t)),this._acquiredConnection.removeListener("rollbackTransaction",this._abort),this.parent.release(this._acquiredConnection),this._acquiredConnection=null,this._acquiredConfig=null,t||n("transaction(%d): rolled back",o.get(this)),e(t)})})}}e.exports=a},72043:e=>{"use strict";class t{constructor(){this.x=0,this.y=0,this.z=null,this.m=null}}let r=(e,r,n)=>{let i=[];if(r<1)return i;if(n)for(let n=1;n<=r;n++){let r=new t;i.push(r),r.x=e.readDoubleLE(e.position),r.y=e.readDoubleLE(e.position+8),e.position+=16}else for(let n=1;n<=r;n++){let r=new t;i.push(r),r.lat=e.readDoubleLE(e.position),r.lng=e.readDoubleLE(e.position+8),r.x=r.lat,r.y=r.lng,e.position+=16}return i},n=(e,t)=>{t<1||t.forEach(t=>{t.z=e.readDoubleLE(e.position),e.position+=8})},i=(e,t)=>{t<1||t.forEach(t=>{t.m=e.readDoubleLE(e.position),e.position+=8})},o=(e,t,r)=>{let n=[];if(t<1)return n;if(r.P)n.push({attribute:1,pointOffset:0});else if(r.L)n.push({attribute:1,pointOffset:0});else for(let r=1;r<=t;r++)n.push({attribute:e.readUInt8(e.position),pointOffset:e.readInt32LE(e.position+1)}),e.position+=5;return n},s=(e,t,r)=>{let n=[];if(t<1)return n;if(r.P)n.push({parentOffset:-1,figureOffset:0,type:1});else if(r.L)n.push({parentOffset:-1,figureOffset:0,type:2});else for(let r=1;r<=t;r++)n.push({parentOffset:e.readInt32LE(e.position),figureOffset:e.readInt32LE(e.position+4),type:e.readUInt8(e.position+8)}),e.position+=9;return n},a=(e,t)=>{let r=[];if(t<1)return r;for(let n=1;n<=t;n++)r.push({type:e.readUInt8(e.position)}),e.position++;return r},l=(e,t)=>{let l,c,u;let h=e.readInt32LE(0);if(-1===h)return null;let d={srid:h,version:e.readUInt8(4)},f=e.readUInt8(5);e.position=6;let p={Z:(1&f)>0,M:(2&f)>0,V:(4&f)>0,P:(8&f)>0,L:(16&f)>0};if(2===d.version&&(p.H=(8&f)>0),p.P?l=1:p.L?l=2:(l=e.readUInt32LE(e.position),e.position+=4),d.points=r(e,l,t),p.Z&&n(e,d.points),p.M&&i(e,d.points),p.P?c=1:p.L?c=1:(c=e.readUInt32LE(e.position),e.position+=4),d.figures=o(e,c,p),p.P?u=1:p.L?u=1:(u=e.readUInt32LE(e.position),e.position+=4),d.shapes=s(e,u,p),2===d.version&&e.position<e.length){let t=e.readUInt32LE(e.position);e.position+=4,d.segments=a(e,t)}else d.segments=[];return d};e.exports.PARSERS={geography:e=>l(e,!1),geometry:e=>l(e,!0)}},44800:e=>{let t=new WeakMap,r={Connection:1,ConnectionPool:1,Request:1,Transaction:1,PreparedStatement:1};e.exports={objectHasProperty:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),INCREMENT:r,IDS:{get:t.get.bind(t),add:(e,n,i)=>{if(i)return t.set(e,i);t.set(e,r[n]++)}}}},16502:(e,t)=>{"use strict";t.S=void 0,t.S={operationRequestMap:new WeakMap}},92317:(e,t)=>{"use strict";t.S=void 0,t.S={instrumenterImplementation:void 0}},88559:(e,t,r)=>{"use strict";var n=r(257),i=r(36672),o=r(39558),s=r(74372);e.exports=function(e,t,r){if(!i(e))throw new n("Assertion failed: Type(O) is not Object");if(!s(t))throw new n("Assertion failed: P is not a Property Key");return o(e,t,{"[[Configurable]]":!0,"[[Enumerable]]":!1,"[[Value]]":r,"[[Writable]]":!0})}},39558:(e,t,r)=>{"use strict";var n=r(257),i=r(36672),o=r(70736),s=r(40296),a=r(36068),l=r(5870),c=r(74372),u=r(52562),h=r(47728);e.exports=function(e,t,r){if(!i(e))throw new n("Assertion failed: Type(O) is not Object");if(!c(t))throw new n("Assertion failed: P is not a Property Key");var d=o(r)?r:h(r);if(!o(d))throw new n("Assertion failed: Desc is not a valid Property Descriptor");return s(l,u,a,e,t,d)}},36068:(e,t,r)=>{"use strict";var n=r(257),i=r(70736),o=r(56506);e.exports=function(e){if(void 0!==e&&!i(e))throw new n("Assertion failed: `Desc` must be a Property Descriptor");return o(e)}},76189:(e,t,r)=>{"use strict";e.exports=r(93704)},5870:(e,t,r)=>{"use strict";var n=r(257),i=r(52273),o=r(70736);e.exports=function(e){if(void 0===e)return!1;if(!o(e))throw new n("Assertion failed: `Desc` must be a Property Descriptor");return!!(i(e,"[[Value]]")||i(e,"[[Writable]]"))}},52562:(e,t,r)=>{"use strict";var n=r(65856);e.exports=function(e,t){return e===t?0!==e||1/e==1/t:n(e)&&n(t)}},43514:e=>{"use strict";e.exports=function(e){return!!e}},47728:(e,t,r)=>{"use strict";var n=r(52273),i=r(257),o=r(36672),s=r(76189),a=r(43514);e.exports=function(e){if(!o(e))throw new i("ToPropertyDescriptor requires an object");var t={};if(n(e,"enumerable")&&(t["[[Enumerable]]"]=a(e.enumerable)),n(e,"configurable")&&(t["[[Configurable]]"]=a(e.configurable)),n(e,"value")&&(t["[[Value]]"]=e.value),n(e,"writable")&&(t["[[Writable]]"]=a(e.writable)),n(e,"get")){var r=e.get;if(void 0!==r&&!s(r))throw new i("getter must be a function");t["[[Get]]"]=r}if(n(e,"set")){var l=e.set;if(void 0!==l&&!s(l))throw new i("setter must be a function");t["[[Set]]"]=l}if((n(t,"[[Get]]")||n(t,"[[Set]]"))&&(n(t,"[[Value]]")||n(t,"[[Writable]]")))throw new i("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}},58511:(e,t,r)=>{"use strict";var n=r(9193),i=r(257),o=r(82907),s=r(97844);e.exports=function(e,t,r){if("string"!=typeof e)throw new i("Assertion failed: `S` must be a String");if(!o(t)||t<0||t>s)throw new i("Assertion failed: `length` must be an integer >= 0 and <= 2**53");if("boolean"!=typeof r)throw new i("Assertion failed: `unicode` must be a Boolean");if(!r||t+1>=e.length)return t+1;var a=n(e,t);return t+a["[[CodeUnitCount]]"]}},35075:(e,t,r)=>{"use strict";var n=r(27329),i=r(31685),o=r(257),s=r(36672),a=n("%Promise%",!0),l=r(92554),c=r(82430),u=r(68602),h=r(9989),d=r(98356),f=l("Promise.prototype.then",!0);e.exports=function(e){if(!s(e))throw new o("Assertion failed: Type(O) is not Object");if(arguments.length>1)throw new i("although AsyncFromSyncIteratorContinuation should take a second argument, it is not used in this implementation");if(!a)throw new i("This environment does not support Promises.");return new a(function(t){var r=u(e);t(f(d(a,h(e)),function(e){return c(e,r)}))})}},26371:(e,t,r)=>{"use strict";var n=r(27329),i=r(92554),o=r(257),s=r(1645),a=n("%Reflect.apply%",!0)||i("Function.prototype.apply");e.exports=function(e,t){var r=arguments.length>2?arguments[2]:[];if(!s(r))throw new o("Assertion failed: optional `argumentsList`, if provided, must be a List");return a(e,t,r)}},9193:(e,t,r)=>{"use strict";var n=r(257),i=r(92554),o=r(84552),s=r(56152),a=r(63510),l=i("String.prototype.charAt"),c=i("String.prototype.charCodeAt");e.exports=function(e,t){if("string"!=typeof e)throw new n("Assertion failed: `string` must be a String");var r=e.length;if(t<0||t>=r)throw new n("Assertion failed: `position` must be >= 0, and < the length of `string`");var i=c(e,t),u=l(e,t),h=o(i),d=s(i);if(!h&&!d)return{"[[CodePoint]]":u,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!1};if(d||t+1===r)return{"[[CodePoint]]":u,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0};var f=c(e,t+1);return s(f)?{"[[CodePoint]]":a(i,f),"[[CodeUnitCount]]":2,"[[IsUnpairedSurrogate]]":!1}:{"[[CodePoint]]":u,"[[CodeUnitCount]]":1,"[[IsUnpairedSurrogate]]":!0}}},29578:(e,t,r)=>{"use strict";var n=r(27329),i=r(31685),o=r(257),s=r(36672),a=n("%Promise%",!0),l=r(35075),c=r(26371),u=r(82430),h=r(39244),d=r(38594),f=r(23605),p=r(7814),m=r(65695),g=r(90997),y=n("%AsyncFromSyncIteratorPrototype%",!0)||{next:function(e){if(!a)throw new i("This environment does not support Promises.");var t=this;g.assert(t,"[[SyncIteratorRecord]]");var r=arguments.length;return new a(function(n){var i=g.get(t,"[[SyncIteratorRecord]]");n(l(r>0?f(i,e):f(i)))})},return:function(){if(!a)throw new i("This environment does not support Promises.");var e=this;g.assert(e,"[[SyncIteratorRecord]]");var t=arguments.length>0,r=t?arguments[0]:void 0;return new a(function(n,i){var a,h=g.get(e,"[[SyncIteratorRecord]]")["[[Iterator]]"],f=d(h,"return");if(void 0===f){c(n,void 0,[u(r,!0)]);return}if(!s(a=t?c(f,h,[r]):c(f,h))){c(i,void 0,[new o("Iterator `return` method returned a non-object value.")]);return}n(l(a))})},throw:function(){if(!a)throw new i("This environment does not support Promises.");var e=this;g.assert(e,"[[SyncIteratorRecord]]");var t=arguments.length>0,r=t?arguments[0]:void 0;return new a(function(n,i){var a,u=g.get(e,"[[SyncIteratorRecord]]")["[[Iterator]]"],h=d(u,"throw");if(void 0===h){c(i,void 0,[r]);return}if(!s(a=t?c(h,u,[r]):c(h,u))){c(i,void 0,[new o("Iterator `throw` method returned a non-object value.")]);return}n(l(a))})}};e.exports=function(e){if(!m(e))throw new o("Assertion failed: `syncIteratorRecord` must be an Iterator Record");var t=p(y);g.set(t,"[[SyncIteratorRecord]]",e);var r=h(t,"next");return{"[[Iterator]]":t,"[[NextMethod]]":r,"[[Done]]":!1}}},86960:(e,t,r)=>{"use strict";var n=r(257),i=r(36672),o=r(74372),s=r(12160);e.exports=function(e,t,r){if(!i(e))throw new n("Assertion failed: Type(O) is not Object");if(!o(t))throw new n("Assertion failed: P is not a Property Key");return s(e,t,{"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Value]]":r,"[[Writable]]":!0})}},46340:(e,t,r)=>{"use strict";var n=r(257),i=r(36672),o=r(86960),s=r(74372);e.exports=function(e,t,r){if(!i(e))throw new n("Assertion failed: Type(O) is not Object");if(!s(t))throw new n("Assertion failed: P is not a Property Key");if(!o(e,t,r))throw new n("unable to create data property")}},82430:(e,t,r)=>{"use strict";var n=r(257);e.exports=function(e,t){if("boolean"!=typeof t)throw new n("Assertion failed: Type(done) is not Boolean");return{value:e,done:t}}},38189:(e,t,r)=>{"use strict";var n=r(257),i=r(70736),o=r(56506);e.exports=function(e){if(void 0!==e&&!i(e))throw new n("Assertion failed: `Desc` must be a Property Descriptor");return o(e)}},39244:(e,t,r)=>{"use strict";var n=r(257),i=r(75424),o=r(74372),s=r(36672);e.exports=function(e,t){if(!s(e))throw new n("Assertion failed: Type(O) is not Object");if(!o(t))throw new n("Assertion failed: P is not a Property Key, got "+i(t));return e[t]}},22232:(e,t,r)=>{"use strict";var n=r(27329),i=r(257),o=n("%Symbol.asyncIterator%",!0),s=r(75424),a=r(82799)(),l=r(58511),c=r(29578),u=r(72685),h=r(38594),d={AdvanceStringIndex:l,GetMethod:h},f=r(78974);e.exports=function(e,t){if("SYNC"!==t&&"ASYNC"!==t)throw new i("Assertion failed: `kind` must be one of 'sync' or 'async', got "+s(t));if("ASYNC"===t&&a&&o&&(r=h(e,o)),void 0===r){var r,n=f(d,e);if("ASYNC"===t){if(void 0===n)throw new i("iterator method is `undefined`");return c(u(e,n))}r=n}if(void 0===r)throw new i("iterator method is `undefined`");return u(e,r)}},72685:(e,t,r)=>{"use strict";var n=r(257),i=r(36672),o=r(26371),s=r(39244),a=r(82127);e.exports=function(e,t){if(!a(t))throw new n("method must be a function");var r=o(t,e);if(!i(r))throw new n("iterator must return an object");var l=s(r,"next");return{"[[Iterator]]":r,"[[NextMethod]]":l,"[[Done]]":!1}}},38594:(e,t,r)=>{"use strict";var n=r(257),i=r(10155),o=r(82127),s=r(74372),a=r(75424);e.exports=function(e,t){if(!s(t))throw new n("Assertion failed: P is not a Property Key");var r=i(e,t);if(null!=r){if(!o(r))throw new n(a(t)+" is not a function: "+a(r));return r}}},10155:(e,t,r)=>{"use strict";var n=r(257),i=r(75424),o=r(74372);e.exports=function(e,t){if(!o(t))throw new n("Assertion failed: P is not a Property Key, got "+i(t));return e[t]}},56529:(e,t,r)=>{"use strict";var n=r(257),i=r(52273),o=r(70736);e.exports=function(e){if(void 0===e)return!1;if(!o(e))throw new n("Assertion failed: `Desc` must be a Property Descriptor");return!!(i(e,"[[Get]]")||i(e,"[[Set]]"))}},1645:(e,t,r)=>{"use strict";e.exports=r(5656)},82127:(e,t,r)=>{"use strict";e.exports=r(93704)},82740:(e,t,r)=>{"use strict";var n=r(257),i=r(52273),o=r(70736);e.exports=function(e){if(void 0===e)return!1;if(!o(e))throw new n("Assertion failed: `Desc` must be a Property Descriptor");return!!(i(e,"[[Value]]")||i(e,"[[Writable]]"))}},44465:(e,t,r)=>{"use strict";var n=r(27329),i=n("%Object.preventExtensions%",!0),o=n("%Object.isExtensible%",!0),s=r(80653);e.exports=i?function(e){return!s(e)&&o(e)}:function(e){return!s(e)}},50158:(e,t,r)=>{"use strict";var n=r(257),i=r(56529),o=r(82740),s=r(70736);e.exports=function(e){if(void 0===e)return!1;if(!s(e))throw new n("Assertion failed: `Desc` must be a Property Descriptor");return!(i(e)||o(e))}},68602:(e,t,r)=>{"use strict";var n=r(257),i=r(36672),o=r(39244),s=r(13412);e.exports=function(e){if(!i(e))throw new n("Assertion failed: Type(iterResult) is not Object");return s(o(e,"done"))}},23605:(e,t,r)=>{"use strict";var n=r(257),i=r(36672),o=r(26371),s=r(65695);e.exports=function(e){var t;if(!s(e))throw new n("Assertion failed: `iteratorRecord` must be an Iterator Record");try{t=arguments.length<2?o(e["[[NextMethod]]"],e["[[Iterator]]"]):o(e["[[NextMethod]]"],e["[[Iterator]]"],[arguments[1]])}catch(t){throw e["[[Done]]"]=!0,t}if(!i(t))throw e["[[Done]]"]=!0,new n("iterator next must return an object");return t}},97180:(e,t,r)=>{"use strict";var n=r(257),i=r(68602),o=r(23605),s=r(65695);e.exports=function(e){if(!s(e))throw new n("Assertion failed: `iteratorRecord` must be an Iterator Record");var t=o(e);try{var r=i(t)}catch(t){throw e["[[Done]]"]=!0,t}return r?(e["[[Done]]"]=!0,!1):t}},56984:(e,t,r)=>{"use strict";var n=r(257),i=r(97180),o=r(9989),s=r(65695);e.exports=function(e){if(!s(e))throw new n("Assertion failed: `iteratorRecord` must be an Iterator Record");for(var t=[],r=!0;r;)if(r=i(e)){var a=o(r);t[t.length]=a}return t}},9989:(e,t,r)=>{"use strict";var n=r(257),i=r(36672),o=r(39244);e.exports=function(e){if(!i(e))throw new n("Assertion failed: Type(iterResult) is not Object");return o(e,"value")}},12160:(e,t,r)=>{"use strict";var n=r(14500),i=r(31685),o=r(257),s=r(36672),a=r(70736),l=r(56529),c=r(44465),u=r(74372),h=r(58584),d=r(96190),f=r(56645);e.exports=function(e,t,r){if(!s(e))throw new o("Assertion failed: O must be an Object");if(!u(t))throw new o("Assertion failed: P must be a Property Key");if(!a(r))throw new o("Assertion failed: Desc must be a Property Descriptor");if(!n){if(l(r))throw new i("This environment does not support accessor property descriptors.");var p=!(t in e)&&r["[[Writable]]"]&&r["[[Enumerable]]"]&&r["[[Configurable]]"]&&"[[Value]]"in r,m=t in e&&(!("[[Configurable]]"in r)||r["[[Configurable]]"])&&(!("[[Enumerable]]"in r)||r["[[Enumerable]]"])&&(!("[[Writable]]"in r)||r["[[Writable]]"])&&"[[Value]]"in r;if(p||m)return e[t]=r["[[Value]]"],d(e[t],r["[[Value]]"]);throw new i("This environment does not support defining non-writable, non-enumerable, or non-configurable properties")}var g=n(e,t),y=g&&h(g),_=c(e);return f(e,t,_,r,y)}},43397:(e,t,r)=>{"use strict";var n=r(257),i=r(36672),o=r(80400);e.exports=function(e){if(!i(e))throw new n("Assertion failed: O must be an Object");if(!o)throw new n("This environment does not support fetching prototypes.");return o(e)}},7814:(e,t,r)=>{"use strict";var n=r(27329)("%Object.create%",!0),i=r(257),o=r(31685),s=r(36672),a=r(1645),l=r(99444),c=r(90997),u=r(15112)();e.exports=function(e){if(null!==e&&!s(e))throw new i("Assertion failed: `proto` must be null or an object");var t,r=arguments.length<2?[]:arguments[1];if(!a(r))throw new i("Assertion failed: `additionalInternalSlotsList` must be an Array");if(u)t={__proto__:e};else if(n)t=n(e);else{if(null===e)throw new o("native Object.create support is required to create null objects");var h=function(){};h.prototype=e,t=new h}return r.length>0&&l(r,function(e){c.set(t,e,void 0)}),t}},46819:(e,t,r)=>{"use strict";var n=r(257),i=r(60523),o=r(36672),s=r(43397);e.exports=function(e,t){if(null!==t&&!o(t))throw new n("Assertion failed: V must be Object or Null");try{i(e,t)}catch(e){return!1}return s(e)===t}},98356:(e,t,r)=>{"use strict";var n=r(27329),i=r(78462),o=r(31685),s=n("%Promise.resolve%",!0),a=s&&i(s);e.exports=function(e,t){if(!a)throw new o("This environment does not support Promises.");return a(e,t)}},96190:(e,t,r)=>{"use strict";var n=r(65856);e.exports=function(e,t){return e===t?0!==e||1/e==1/t:n(e)&&n(t)}},13412:e=>{"use strict";e.exports=function(e){return!!e}},58584:(e,t,r)=>{"use strict";var n=r(52273),i=r(257),o=r(36672),s=r(82127),a=r(13412);e.exports=function(e){if(!o(e))throw new i("ToPropertyDescriptor requires an object");var t={};if(n(e,"enumerable")&&(t["[[Enumerable]]"]=a(e.enumerable)),n(e,"configurable")&&(t["[[Configurable]]"]=a(e.configurable)),n(e,"value")&&(t["[[Value]]"]=e.value),n(e,"writable")&&(t["[[Writable]]"]=a(e.writable)),n(e,"get")){var r=e.get;if(void 0!==r&&!s(r))throw new i("getter must be a function");t["[[Get]]"]=r}if(n(e,"set")){var l=e.set;if(void 0!==l&&!s(l))throw new i("setter must be a function");t["[[Set]]"]=l}if((n(t,"[[Get]]")||n(t,"[[Set]]"))&&(n(t,"[[Value]]")||n(t,"[[Writable]]")))throw new i("Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");return t}},63510:(e,t,r)=>{"use strict";var n=r(27329),i=r(257),o=n("%String.fromCharCode%"),s=r(84552),a=r(56152);e.exports=function(e,t){if(!s(e)||!a(t))throw new i("Assertion failed: `lead` must be a leading surrogate char code, and `trail` must be a trailing surrogate char code");return o(e)+o(t)}},56645:(e,t,r)=>{"use strict";var n=r(257),i=r(36672),o=r(40296),s=r(51641),a=r(70736),l=r(38189),c=r(56529),u=r(82740),h=r(50158),d=r(74372),f=r(96190);e.exports=function(e,t,r,p,m){if(void 0!==e&&!i(e))throw new n("Assertion failed: O must be undefined or an Object");if(!d(t))throw new n("Assertion failed: P must be a Property Key");if("boolean"!=typeof r)throw new n("Assertion failed: extensible must be a Boolean");if(!a(p))throw new n("Assertion failed: Desc must be a Property Descriptor");if(void 0!==m&&!a(m))throw new n("Assertion failed: current must be a Property Descriptor, or undefined");if(void 0===m)return!!r&&(void 0===e||(c(p)?o(u,f,l,e,t,p):o(u,f,l,e,t,{"[[Configurable]]":!!p["[[Configurable]]"],"[[Enumerable]]":!!p["[[Enumerable]]"],"[[Value]]":p["[[Value]]"],"[[Writable]]":!!p["[[Writable]]"]})));if(!s({IsAccessorDescriptor:c,IsDataDescriptor:u},m))throw new n("`current`, when present, must be a fully populated and valid Property Descriptor");if(!m["[[Configurable]]"]){if("[[Configurable]]"in p&&p["[[Configurable]]"]||"[[Enumerable]]"in p&&!f(p["[[Enumerable]]"],m["[[Enumerable]]"])||!h(p)&&!f(c(p),c(m)))return!1;if(c(m)){if("[[Get]]"in p&&!f(p["[[Get]]"],m["[[Get]]"])||"[[Set]]"in p&&!f(p["[[Set]]"],m["[[Set]]"]))return!1}else if(!m["[[Writable]]"]&&("[[Writable]]"in p&&p["[[Writable]]"]||"[[Value]]"in p&&!f(p["[[Value]]"],m["[[Value]]"])))return!1}if(void 0!==e){var g;return u(m)&&c(p)?o(u,f,l,e,t,{"[[Configurable]]":!!("[[Configurable]]"in p?p:m)["[[Configurable]]"],"[[Enumerable]]":!!("[[Enumerable]]"in p?p:m)["[[Enumerable]]"],"[[Get]]":("[[Get]]"in p?p:m)["[[Get]]"],"[[Set]]":("[[Set]]"in p?p:m)["[[Set]]"]}):c(m)&&u(p)?o(u,f,l,e,t,{"[[Configurable]]":!!("[[Configurable]]"in p?p:m)["[[Configurable]]"],"[[Enumerable]]":!!("[[Enumerable]]"in p?p:m)["[[Enumerable]]"],"[[Value]]":("[[Value]]"in p?p:m)["[[Value]]"],"[[Writable]]":!!("[[Writable]]"in p?p:m)["[[Writable]]"]}):o(u,f,l,e,t,p)}return!0}},40296:(e,t,r)=>{"use strict";var n=r(79597),i=r(91083),o=n.hasArrayLengthDefineBug(),s=o&&r(5656),a=r(92554)("Object.prototype.propertyIsEnumerable");e.exports=function(e,t,r,n,l,c){if(!i){if(!e(c)||!c["[[Configurable]]"]||!c["[[Writable]]"]||l in n&&a(n,l)!==!!c["[[Enumerable]]"])return!1;var u=c["[[Value]]"];return n[l]=u,t(n[l],u)}return o&&"length"===l&&"[[Value]]"in c&&s(n)&&n.length!==c["[[Value]]"]?(n.length=c["[[Value]]"],n.length===c["[[Value]]"]):(i(n,l,r(c)),!0)}},5656:(e,t,r)=>{"use strict";var n=r(27329)("%Array%"),i=!n.isArray&&r(92554)("Object.prototype.toString");e.exports=n.isArray||function(e){return"[object Array]"===i(e)}},99444:e=>{"use strict";e.exports=function(e,t){for(var r=0;r<e.length;r+=1)t(e[r],r,e)}},56506:e=>{"use strict";e.exports=function(e){if(void 0===e)return e;var t={};return"[[Value]]"in e&&(t.value=e["[[Value]]"]),"[[Writable]]"in e&&(t.writable=!!e["[[Writable]]"]),"[[Get]]"in e&&(t.get=e["[[Get]]"]),"[[Set]]"in e&&(t.set=e["[[Set]]"]),"[[Enumerable]]"in e&&(t.enumerable=!!e["[[Enumerable]]"]),"[[Configurable]]"in e&&(t.configurable=!!e["[[Configurable]]"]),t}},78974:(e,t,r)=>{"use strict";var n=r(82799)(),i=r(27329),o=r(92554),s=r(6764),a=i("%Symbol.iterator%",!0),l=o("String.prototype.slice"),c=i("%String%"),u=r(5656);e.exports=function(e,t){var r;return n?r=e.GetMethod(t,a):u(t)?r=function(){var e=-1,t=this;return{next:function(){return{done:(e+=1)>=t.length,value:t[e]}}}}:s(t)&&(r=function(){var r=0;return{next:function(){var n=e.AdvanceStringIndex(c(t),r,!0),i=l(t,r,n);r=n;var o=n>t.length;return{done:o,value:o?void 0:i}}}}),r}},51641:(e,t,r)=>{"use strict";var n=r(70736);e.exports=function(e,t){return n(t)&&"[[Enumerable]]"in t&&"[[Configurable]]"in t&&(e.IsAccessorDescriptor(t)||e.IsDataDescriptor(t))}},84552:e=>{"use strict";e.exports=function(e){return"number"==typeof e&&e>=55296&&e<=56319}},80653:e=>{"use strict";e.exports=function(e){return null===e||"function"!=typeof e&&"object"!=typeof e}},74372:e=>{"use strict";e.exports=function(e){return"string"==typeof e||"symbol"==typeof e}},56152:e=>{"use strict";e.exports=function(e){return"number"==typeof e&&e>=56320&&e<=57343}},65695:(e,t,r)=>{"use strict";var n=r(52273);e.exports=function(e){return!!e&&"object"==typeof e&&n(e,"[[Iterator]]")&&n(e,"[[NextMethod]]")&&n(e,"[[Done]]")&&"boolean"==typeof e["[[Done]]"]}},70736:(e,t,r)=>{"use strict";var n=r(257),i=r(52273),o={__proto__:null,"[[Configurable]]":!0,"[[Enumerable]]":!0,"[[Get]]":!0,"[[Set]]":!0,"[[Value]]":!0,"[[Writable]]":!0};e.exports=function(e){if(!e||"object"!=typeof e)return!1;for(var t in e)if(i(e,t)&&!o[t])return!1;var r=i(e,"[[Value]]")||i(e,"[[Writable]]"),s=i(e,"[[Get]]")||i(e,"[[Set]]");if(r&&s)throw new n("Property Descriptors may not be both accessor and data descriptors");return!0}},19337:e=>{"use strict";e.exports=JSON.parse('{"author":"Mike D Pilsbury <mike.pilsbury@gmail.com>","contributors":["Alex Robson","Arthur Schreiber","Bret Copeland <bret@atlantisflight.org> (https://github.com/bretcope)","Bryan Ross <bryan@rossipedia.com> (https://github.com/rossipedia)","Ciaran Jessup <ciaranj@gmail.com>","Cort Fritz <cfritz@caa.com>","lastonesky","Patrik Simek <patrik@patriksimek.cz>","Phil Dodderidge <pdodde@poyntz.com>","Zach Aller"],"name":"tedious","description":"A TDS driver, for connecting to MS SQLServer databases.","keywords":["sql","database","mssql","sqlserver","sql-server","tds","msnodesql","azure"],"homepage":"https://github.com/tediousjs/tedious","bugs":"https://github.com/tediousjs/tedious/issues","license":"MIT","version":"16.7.1","main":"./lib/tedious.js","repository":{"type":"git","url":"https://github.com/tediousjs/tedious.git"},"engines":{"node":">=16"},"publishConfig":{"tag":"next"},"dependencies":{"@azure/identity":"^3.4.1","@azure/keyvault-keys":"^4.4.0","@js-joda/core":"^5.5.3","bl":"^6.0.3","es-aggregate-error":"^1.0.9","iconv-lite":"^0.6.3","js-md4":"^0.3.2","jsbi":"^4.3.0","native-duplexpair":"^1.0.0","node-abort-controller":"^3.1.1","sprintf-js":"^1.1.2"},"devDependencies":{"@babel/cli":"^7.22.9","@babel/core":"^7.22.9","@babel/node":"^7.22.6","@babel/preset-env":"^7.22.9","@babel/preset-typescript":"^7.22.5","@babel/register":"^7.22.5","@types/async":"^3.2.20","@types/bl":"^5.1.0","@types/chai":"^4.3.5","@types/depd":"^1.1.32","@types/es-aggregate-error":"^1.0.2","@types/lru-cache":"^5.1.1","@types/mocha":"^10.0.1","@types/node":"^16.18.38","@types/sprintf-js":"^1.1.2","@typescript-eslint/eslint-plugin":"^6.0.0","@typescript-eslint/parser":"^6.0.0","async":"^3.2.4","babel-plugin-istanbul":"^6.1.1","chai":"^4.3.7","codecov":"^3.8.3","eslint":"^8.45.0","mitm":"^1.7.2","mocha":"^10.2.0","nyc":"^15.1.0","rimraf":"^5.0.1","semantic-release":"^19.0.3","sinon":"^15.2.0","typedoc":"^0.24.8","typescript":"^5.1.6"},"scripts":{"docs":"typedoc","lint":"eslint src test --ext .js,.ts && tsc","test":"mocha test/unit test/unit/token test/unit/tracking-buffer","test-integration":"mocha test/integration/","test-all":"mocha test/unit/ test/unit/token/ test/unit/tracking-buffer test/integration/","build":"rimraf lib && babel src --out-dir lib --extensions .js,.ts","prepublish":"npm run build","semantic-release":"semantic-release"},"babel":{"sourceMaps":"both","ignore":["./src/**/*.d.ts"],"presets":[["@babel/preset-env",{"targets":{"node":16}}],["@babel/preset-typescript",{"allowDeclareFields":true}]],"plugins":[["@babel/transform-typescript",{"allowDeclareFields":true}]]},"mocha":{"require":"test/setup.js","timeout":5000,"extension":["js","ts"]},"nyc":{"sourceMap":false,"instrument":false,"extension":[".ts"]}}')},81631:e=>{"use strict";e.exports=JSON.parse('[["8740","\uD85C\uDE67\uD85F\uDCB1\uD85F\uDCC5\uD850\uDEBF\uD84D\uDE17\uD85C\uDF52\uD85B\uDE8B\uD85C\uDCD2\uD868\uDF51\uD85F\uDC6C\uD85A\uDF23\uD856\uDE54\uD846\uDE63\uD84F\uDE06\uD84F\uDF61"],["8767","\uD862\uDFB9\uD85E\uDFEF\uD847\uDD5E\uD867\uDEB0\uD866\uDD45\uD847\uDD53\uD84D\uDE9E\uD858\uDC21"],["87a1","\uD856\uDCDE\uD850\uDD61\uD862\uDD0D\uD84C\uDDEA\uD842\uDE8A\uD84C\uDE5E\uD857\uDDB9\uD84D\uDE8E\uD85E\uDF65\uD85B\uDE88\uD857\uDD99\uD849\uDCBC\uD849\uDCC1\uD849\uDCC9\uD849\uDCCC\uD84D\uDDBB\uD86B\uDDFF"],["8840","",4,"\uD840\uDD0C\uD840\uDCD1\uD840\uDCCD\uD840\uDCCB\uD847\uDFE8\uD840\uDCCA\uD840\uDD0E\xc1\xc0\xc9\xc8\xd3\xd2\xca\xca\xca\xe1\xe0\xe9\xe8\xed\xec\xf3\xf2\xfa\xf9"],["88a1","\xfc\xea\xea\xea"],["8940","\uD868\uDFA9\uD844\uDD45"],["8943",""],["8946",""],["894c","\uD85D\uDF35"],["89a1",""],["89ab",""],["89b0","\uD842\uDDE7"],["89b5","\uD867\uDDF6\uD85C\uDC0E\uD868\uDD33"],["89c1",""],["89c5","\uD861\uDC6C\uD847\uDDCA\uD841\uDDD0\uD84A\uDEE6"],["8a40","\uD85F\uDD84"],["8a43","\uD843\uDC42\uD843\uDD15\uD854\uDD2B\uD84B\uDCC6\uD840\uDF41\uD853\uDDB8\uD865\uDCE5\uD860\uDCBE\uD84B\uDC38\uD860\uDD5D\uD85A\uDDF2\uD853\uDDEA\uD843\uDD7C\uD843\uDFB4\uD843\uDCD5\uD844\uDCF4\uD843\uDE96\uD843\uDC0B\uD843\uDF64\uD84B\uDCA9\uD860\uDE56\uD851\uDCD3"],["8a64","\uD843\uDD46\uD866\uDE4D\uD860\uDCE9\uD853\uDEA7\uD84B\uDCC2\uD865\uDDF4\uD854\uDEC7\uD865\uDFD4\uD85E\uDCC8\uD84B\uDD44"],["8a76","\uD858\uDCA5\uD84B\uDD4C\uD84A\uDFCA\uD844\uDC77\uD844\uDC6F"],["8aa1","\uD859\uDEDA\uD859\uDF16\uD85E\uDDA0\uD854\uDC52\uD843\uDC43\uD848\uDDA1\uD862\uDF4C\uD841\uDF31"],["8aac","\uD840\uDDA9\uD84B\uDD8D"],["8ab2","\uD851\uDDC8\uD841\uDCFC\uD858\uDC97\uD843\uDF4C\uD843\uDD96"],["8abb","\uD84A\uDE66\uD844\uDC9D\uD843\uDD9C\uD849\uDF75"],["8ac9","\uD869\uDE01\uD843\uDE09\uD84A\uDECF\uD84B\uDCC9"],["8ace","\uD844\uDCC8\uD84E\uDDC2\uD860\uDE9B\uD857\uDE49\uD848\uDCC7\uD843\uDF31\uD84B\uDCB2\uD865\uDF20\uD853\uDE3B"],["8adf","\uD85D\uDD74\uD84B\uDE8B\uD848\uDE08\uD869\uDE5B\uD863\uDCCD\uD843\uDE7A\uD843\uDC34\uD85A\uDC1C\uD844\uDCCF\uD84A\uDC03\uD84A\uDD39\uD854\uDDE3\uD843\uDE8C\uD843\uDF8D\uD843\uDEAA\uD843\uDF30\uD843\uDD47\uD844\uDD4F\uD843\uDE4C"],["8af6","\uD843\uDEAB\uD842\uDFA9\uD843\uDD48\uD844\uDCC0\uD844\uDD3D\uD849\uDE96\uD843\uDFAD"],["8b40","\uD84C\uDFF4\uD85D\uDE39\uD84A\uDFCE\uD843\uDD7E\uD843\uDD7F\uD84B\uDC51\uD84B\uDC55\uD843\uDE98\uD844\uDCC7\uD843\uDF2E\uD869\uDE32\uD85A\uDF50\uD863\uDCD2\uD863\uDD99\uD863\uDCCA"],["8b55","\uD867\uDEC3\uD85D\uDF5E\uD84B\uDDEE\uD859\uDD72\uD860\uDCBD\uD843\uDEFA\uD843\uDE0F\uD843\uDE77\uD843\uDEFB\uD853\uDDEB\uD843\uDCD6\uD849\uDFB5\uD844\uDCC9\uD843\uDE10\uD843\uDE78\uD844\uDC78\uD844\uDD48\uD860\uDE07\uD845\uDC55\uD843\uDE79\uD853\uDE50\uD84B\uDDA4\uD844\uDC1D\uD844\uDC1E\uD844\uDCF5\uD844\uDCF6\uD843\uDE11"],["8ba1","\uD85D\uDE94\uD860\uDECD\uD843\uDFB5\uD843\uDE7B\uD854\uDD7E\uD843\uDFB6\uD844\uDD80\uD854\uDED8\uD868\uDEBD\uD852\uDDDA\uD846\uDC3A\uD850\uDD77\uD860\uDE7C\uD855\uDF3D\uD856\uDF74\uD84C\uDD3D\uD846\uDFC1\uD87E\uDC78\uD840\uDC86\uD852\uDCE9\uD858\uDE6A"],["8bde","\uD858\uDF4B\uD859\uDE12\uD85A\uDD51\uD85E\uDCB2\uD863\uDE0F\uD866\uDC10\uD840\uDC87"],["8c40","\uD867\uDC73\uD850\uDD4E\uD854\uDDCD\uD857\uDD30\uD862\uDE32\uD84C\uDE81\uD868\uDD07\uD846\uDD80\uD861\uDF0F\uD868\uDEBA\uD842\uDE6F\uD866\uDD47\uD862\uDEEA\uD848\uDC7E\uD862\uDDE3\uD847\uDDB6\uD849\uDF12"],["8ca1","\uD84C\uDFF9\uD84F\uDC63"],["8ca7","\uD851\uDD05\uD852\uDE13\uD857\uDCA4\uD855\uDE95\uD863\uDDB9\uD845\uDC3F"],["8cc9",""],["8cce","\uD852\uDD7B\uD85C\uDD0D\uD85B\uDD74\uD85A\uDF15\uD85B\uDFBE\uD84C\uDE56\uD849\uDF96"],["8ce6","\uD84E\uDF1A\uD84D\uDD51\uD850\uDCEC\uD847\uDE23\uD840\uDDA4\uD85B\uDC41\uD840\uDE39\uD866\uDCFA"],["8d40","\uD842\uDF9F"],["8d42","\uD848\uDDC1\uD862\uDD6D\uD864\uDC79\uD868\uDDB5\uD85B\uDC46\uD861\uDEB2\uD85C\uDFFF\uD855\uDC9A\uD852\uDF0F"],["8da1","\uD862\uDDC0\uD84F\uDF41\uD840\uDF25\uD843\uDED8"],["8e40","\uD84F\uDED7\uD85B\uDED3\uD855\uDFE0\uD862\uDFE9\uD856\uDCE1\uD865\uDCD9\uD856\uDDAC\uD859\uDC8D\uD857\uDC01\uD854\uDF0E\uD857\uDCFE\uD856\uDFB4\uD85B\uDC7F\uD857\uDD20\uD857\uDC65\uD857\uDCC1\uD852\uDC82\uD851\uDD78"],["8ea1","\uD85B\uDE44\uD85B\uDED6\uD850\uDC57\uD858\uDC29\uD845\uDFF9\uD860\uDF6D\uD858\uDD21\uD858\uDD5A\uD858\uDED0\uD858\uDF51\uD845\uDE61\uD840\uDC68\uD84D\uDF66\uD860\uDF3A\uD859\uDC89\uD868\uDC87\uD85B\uDCC3\uD849\uDF14\uD859\uDE26\uD84F\uDDE3\uD859\uDEE8\uD862\uDE48\uD849\uDEF6\uD859\uDC98\uD853\uDFB8\uD845\uDC8A\uD846\uDC5E\uD852\uDE65\uD852\uDE95\uD842\uDF0D\uD85A\uDE52\uD84F\uDD7E\uD845\uDCFD\uD85A\uDF0A\uD852\uDDA7\uD84D\uDD30\uD845\uDF73\uD84F\uDDF8\uD87E\uDD94"],["8f40","\uD843\uDE16\uD845\uDFB4\uD84C\uDD7D\uD84D\uDD5A\uD84F\uDE8B\uD85B\uDDA3\uD85A\uDF05\uD85A\uDF97\uD84D\uDDCE\uD85B\uDDA5\uD85B\uDED4\uD85B\uDE42\uD84B\uDEEF\uD856\uDFE4\uD84F\uDCB5\uD85A\uDF96\uD85B\uDE77\uD85B\uDE43\uD857\uDC91\uD857\uDCC0\uD85B\uDE99"],["8fa1","\uD861\uDE25\uD861\uDE3B\uD85C\uDC88\uD845\uDD82\uD85C\uDCCD\uD87E\uDDB2\uD846\uDCA2\uD85C\uDF9A\uD868\uDCF8\uD84B\uDC27\uD85D\uDDE0\uD84F\uDDB9\uD85D\uDDE4\uD85D\uDF0F\uD862\uDE25\uD85E\uDD24\uD85E\uDEBD\uD85E\uDE59\uD85E\uDF3A\uD84F\uDF8F\uD85E\uDF38\uD855\uDC30\uD855\uDD65\uD852\uDE7A\uD845\uDEDF\uD85F\uDD54\uD85F\uDD8F\uD87E\uDDD4\uD85F\uDD53\uD85F\uDD98\uD85F\uDDBD\uD846\uDD10\uD853\uDCC9"],["9040","\uD860\uDC02\uD844\uDC14\uD852\uDD8A\uD860\uDDBC\uD85C\uDD0C\uD860\uDF65\uD861\uDC12\uD868\uDE9F\uD842\uDE50\uD862\uDDDE\uD861\uDD3D\uD84F\uDDBB\uD84C\uDE62\uD868\uDC14\uD861\uDEBC\uD861\uDD01\uD848\uDF25\uD85B\uDED7\uD861\uDD3C\uD85E\uDEBE\uD861\uDD6C\uD861\uDE0B\uD861\uDF13\uD861\uDEE6\uD862\uDD33\uD847\uDE89\uD855\uDDB9\uD862\uDEC6\uD84F\uDC9B\uD862\uDF0C\uD855\uDDDB"],["90a1","\uD843\uDD31\uD862\uDEE1\uD862\uDFEB\uD862\uDEE2\uD862\uDEE5\uD862\uDFEC\uD863\uDC39\uD862\uDFFF\uD849\uDE7A\uD861\uDED8\uD844\uDE7C\uD84F\uDE2E\uD85B\uDED5\uD862\uDEE0\uD85B\uDCB8\uD840\uDE74\uD859\uDC10\uD864\uDCAF\uD864\uDCE5\uD852\uDED1\uD846\uDD15\uD84C\uDF0A\uD852\uDEE9\uD864\uDDD5\uD864\uDDEB\uD84C\uDCB7\uD84C\uDCBC\uD855\uDC6C\uD865\uDC33\uD865\uDC1D\uD85E\uDD7A\uD85C\uDD75\uD841\uDE30\uD850\uDD5C"],["9140","\uD855\uDF06\uD85B\uDD27\uD845\uDED3\uD852\uDE29\uD866\uDC57\uD866\uDD05\uD855\uDF25\uD864\uDCB1\uD866\uDFD5\uD866\uDF05\uD861\uDE00\uD85A\uDDA8\uD84C\uDC7D\uD867\uDD3E\uD846\uDC63\uD850\uDE4B\uD867\uDE68\uD867\uDFB7\uD868\uDD92\uD868\uDDAB\uD868\uDCE1\uD868\uDD23\uD868\uDDDF\uD868\uDD34"],["91a1","\uD848\uDD5B\uD868\uDD93\uD868\uDE20\uD846\uDD3B\uD868\uDE33\uD868\uDCB9\uD868\uDEB4\uD850\uDF64\uD863\uDC2B\uD85B\uDDA2\uD864\uDC8B\uD852\uDD75\uD852\uDDBB\uD852\uDDF8\uD850\uDF48\uD852\uDE51\uD862\uDFDA\uD846\uDCFA\uD862\uDD7E\uD863\uDE36\uD862\uDE44\uD862\uDD6C\uD851\uDCB9\uD851\uDC73\uD850\uDFF8\uD845\uDFEF\uD846\uDCBE\uD84D\uDD99\uD846\uDC85\uD855\uDC2F\uD845\uDFF8\uD845\uDEFB\uD846\uDC39\uD845\uDF74\uD846\uDCD1\uD857\uDF4B\uD845\uDEC0\uD852\uDE25\uD844\uDFFE\uD844\uDEA8"],["9240","\uD844\uDFC6\uD845\uDCB6\uD84D\uDEA6\uD852\uDD94\uD85C\uDD65\uD84F\uDE31\uD855\uDD5C\uD84F\uDEFB\uD85C\uDC52\uD84D\uDEEE\uD866\uDD9D\uD85B\uDF26\uD846\uDD22\uD84D\uDF3F\uD850\uDCE1\uD850\uDC8B\uD850\uDD0F\uD85B\uDC21\uD859\uDEB1\uD843\uDFDF\uD842\uDFA8\uD843\uDE0D\uD862\uDF13\uD851\uDC36\uD841\uDC65\uD840\uDF7F\uD855\uDE51\uD840\uDDAB\uD840\uDFCB\uD840\uDF0A\uD841\uDC14\uD840\uDEC0\uD863\uDEB3\uD840\uDE75\uD840\uDE0C"],["92a1","\uD852\uDE0E\uD84F\uDE8A\uD84D\uDD95\uD84F\uDE39\uD84F\uDEBF\uD846\uDC84\uD84F\uDE89\uD841\uDDE0\uD841\uDCA3\uD841\uDC92\uD841\uDC91\uD862\uDE9C\uD841\uDF0E\uD842\uDC73\uD850\uDF8C\uD843\uDC20\uD852\uDDAC\uD844\uDCE4\uD843\uDE1D\uD852\uDEBC\uD850\uDC8D\uD850\uDCC9\uD840\uDF45\uD842\uDFC6\uD862\uDE46\uD845\uDEFA\uD845\uDF6F\uD845\uDF10\uD856\uDD46\uD846\uDDF3\uD846\uDC61\uD850\uDE95\uD857\uDE83"],["9340","\uD862\uDFD7\uD841\uDC13\uD844\uDF03\uD862\uDDFB\uD846\uDD96\uD846\uDD7C\uD84E\uDEEE\uD846\uDD03\uD846\uDD04\uD846\uDCA0\uD845\uDEFE\uD862\uDE47\uD847\uDDBA\uD84D\uDC72\uD862\uDDA8\uD846\uDD27\uD845\uDFAB\uD845\uDF3B\uD85D\uDDFD\uD84A\uDC60\uD849\uDE2B\uD849\uDDAF\uD849\uDDBE\uD864\uDC88\uD85B\uDF73\uD840\uDC3E\uD840\uDC46\uD849\uDE1B\uD84B\uDC9B\uD84B\uDD07\uD851\uDED4\uD864\uDD4D"],["93a1","\uD851\uDE65\uD84A\uDF6A\uD84A\uDF22\uD84D\uDC50\uD866\uDCEA\uD84B\uDE78\uD869\uDC5B\uD852\uDDE3\uD84B\uDD67\uD84B\uDCA1\uD84C\uDC8E\uD84C\uDEAD\uD852\uDD89\uD84C\uDEAB\uD84C\uDEE0\uD846\uDCD9\uD865\uDC3F\uD84C\uDE89\uD84C\uDDB3\uD855\uDD84\uD862\uDF22\uD855\uDD8F\uD845\uDEFC\uD855\uDD5B\uD855\uDC25\uD84C\uDD03\uD846\uDC2A\uD84C\uDE34\uD84C\uDE0F\uD84C\uDD82\uD850\uDEC9\uD85B\uDD24\uD85E\uDC70\uD847\uDDEB\uD84C\uDED2\uD84C\uDEE1\uD856\uDC72\uD84E\uDC3A\uD84D\uDFBC\uD84D\uDFA2\uD84C\uDFFE\uD851\uDE2A\uD84D\uDFD5\uD851\uDC87\uD846\uDD12\uD84F\uDFC0\uD84F\uDC9A\uD862\uDFEA\uD862\uDECB"],["9440","\uD860\uDC1E\uD862\uDDDC\uD852\uDDEC\uD84F\uDF7F\uD850\uDC3C\uD850\uDF1A\uD850\uDE76\uD851\uDF8F\uD851\uDF25\uD852\uDEA4\uD841\uDDEB\uD84F\uDEF8\uD84D\uDE5F\uD852\uDE4A\uD852\uDD17\uD857\uDFE1\uD852\uDEDF\uD863\uDC23\uD84F\uDF35\uD85B\uDDEA\uD853\uDCD9\uD853\uDD06\uD869\uDDC6\uD862\uDECC\uD852\uDDAB\uD852\uDD8E"],["94a1","\uD852\uDE4E\uD852\uDDC5\uD852\uDCF3\uD862\uDEE3\uD846\uDC64\uD854\uDE21\uD854\uDDE7\uD84C\uDE32\uD851\uDE97\uD84D\uDF81\uD852\uDCF0\uD852\uDEBA\uD852\uDEC7\uD852\uDE96\uD858\uDDAE\uD855\uDD81\uD85D\uDF41\uD855\uDEE3\uD84F\uDEFA\uD845\uDEE6\uD843\uDD4C\uD852\uDD8C\uD840\uDE99\uD84F\uDDBA\uD845\uDF6E\uD840\uDDD4\uD843\uDC0D\uD849\uDEF5\uD856\uDEAF\uD856\uDE9C\uD840\uDE5B\uD856\uDFC6\uD856\uDFB3\uD857\uDEBC\uD857\uDEA6\uD852\uDDF9\uD845\uDFB0\uD858\uDE61"],["9540","\uD858\uDD5C\uD85E\uDF48\uD857\uDE82\uD85A\uDF75\uD842\uDD16\uD840\uDC4E\uD84D\uDDCF\uD859\uDC12\uD858\uDFF8\uD852\uDD62\uD842\uDC2C\uD856\uDEE9\uD857\uDD43\uD857\uDE0E\uD84D\uDC3F\uD852\uDDF7\uD859\uDDAD\uD859\uDDA0\uD85C\uDD27\uD85B\uDCD1\uD859\uDFB4\uD85A\uDE42\uD85A\uDE51\uD85B\uDDA7\uD85C\uDE1B\uD846\uDC40\uD846\uDCA1\uD846\uDCD8\uD87E\uDDBC\uD84F\uDD8F\uD85D\uDC22"],["95a1","\uD855\uDE83\uD85D\uDF85\uD85D\uDF84\uD862\uDFF5\uD862\uDFD9\uD862\uDF9C\uD862\uDDF9\uD865\uDC48\uD850\uDE84\uD846\uDC45\uD85F\uDDDC\uD853\uDC09\uD848\uDF21\uD845\uDFDA\uD852\uDD2F\uD862\uDE4B\uD862\uDEFC\uD863\uDC1D\uD863\uDC3B\uD863\uDD34\uD852\uDCFF\uD852\uDE42\uD850\uDFEA\uD84C\uDE25\uD863\uDEE7\uD863\uDE66\uD863\uDE65\uD852\uDDED\uD852\uDE78\uD84F\uDFEE\uD864\uDCB0"],["9640","\uD864\uDC93\uD855\uDFDF\uD862\uDD89\uD863\uDC26\uD862\uDF2F\uD858\uDFBE\uD850\uDE1B\uD843\uDF26\uD862\uDFC5\uD852\uDEB2\uD865\uDCDA\uD865\uDDD7\uD862\uDF50\uD852\uDE67\uD862\uDF64\uD862\uDE45\uD85E\uDF06\uD862\uDF65\uD856\uDCC8\uD866\uDCF1\uD866\uDD48\uD844\uDF02\uD852\uDDB8"],["96a1","\uD845\uDCE8\uD849\uDF1F\uD84F\uDDB8\uD849\uDF81\uD84A\uDD6B\uD867\uDE2D\uD868\uDDF5\uD868\uDCFE\uD850\uDD04\uD868\uDDB4\uD868\uDCED\uD868\uDCF3\uD866\uDD2F\uD85B\uDE12\uD85B\uDFDF\uD85A\uDF82\uD85B\uDDA4\uD85B\uDE84\uD85B\uDDF0\uD85B\uDE00\uD84D\uDFD7\uD858\uDC64\uD84D\uDD9C\uD84D\uDE40\uD852\uDDDE\uD840\uDEBF\uD855\uDD5D\uD845\uDF57\uD84C\uDDC9\uD852\uDD41\uD850\uDDB5\uD850\uDDAC\uD85B\uDC40\uD853\uDF97\uD845\uDFB5\uD862\uDE49"],["9740","\uD851\uDC88\uD862\uDDFC\uD846\uDCD6\uD843\uDF1D\uD85B\uDCC0\uD845\uDC13\uD850\uDEFA\uD84B\uDC26\uD850\uDFC1\uD84F\uDDB7\uD859\uDF41\uD858\uDD5B\uD858\uDCA4\uD852\uDDB9\uD852\uDD8B\uD862\uDDFA\uD862\uDF63\uD846\uDC9F\uD852\uDEB3\uD852\uDE3E\uD852\uDE94\uD845\uDFD9\uD852\uDE66\uD840\uDFA7\uD845\uDC24\uD852\uDDE5\uD852\uDD16\uD852\uDD76\uD841\uDCFE\uD862\uDECE\uD862\uDE16\uD862\uDFE7\uD855\uDDD5\uD862\uDE82"],["97a1","\uD852\uDD43\uD843\uDCFF\uD841\uDE1A\uD842\uDFEB\uD843\uDCB8\uD845\uDFFA\uD845\uDEC2\uD852\uDE50\uD846\uDC52\uD862\uDEC0\uD852\uDDAD\uD846\uDCBF\uD846\uDC83\uD85D\uDC84\uD84F\uDD5B\uD862\uDE81\uD846\uDC62\uD842\uDEB4\uD844\uDF9C\uD860\uDE18\uD864\uDCE4\uD85F\uDE4F\uD84F\uDFED\uD84F\uDE2D\uD840\uDFF5\uD863\uDC1C\uD85A\uDFC0\uD845\uDC52\uD850\uDF62\uD852\uDE71\uD84B\uDFE3\uD844\uDEB0\uD848\uDFBD\uD844\uDF98\uD84D\uDCE5\uD85E\uDFF4\uD84D\uDEDF\uD862\uDE83\uD84D\uDFD6\uD84C\uDFFA\uD853\uDC9F\uD84D\uDEAD\uD85B\uDCB7"],["9840","\uD85B\uDD26\uD85B\uDD51\uD85B\uDC82\uD85B\uDFDE\uD85C\uDD09\uD845\uDF3A\uD85B\uDC80\uD85C\uDC53\uD845\uDFDB\uD845\uDFB3\uD846\uDD05\uD850\uDDFC\uD845\uDF3C\uD850\uDEA5\uD850\uDE93\uD84F\uDEF9\uD85D\uDF36\uD851\uDC5B\uD850\uDECA\uD850\uDE59\uD862\uDDE1\uD85B\uDD28\uD851\uDCCE\uD85F\uDE4D\uD850\uDFBD\uD850\uDE56\uD844\uDF04\uD850\uDFE9\uD87E\uDC25\uD852\uDE4F\uD852\uDE5D\uD845\uDFDF"],["98a1","\uD84E\uDEFA\uD84C\uDF00\uD840\uDE14\uD842\uDCD5\uD841\uDE19\uD847\uDF9E\uD868\uDEB6\uD864\uDD5B\uD862\uDE59\uD865\uDC20\uD85E\uDEF4\uD855\uDEF6\uD85E\uDF18\uD852\uDCF2\uD853\uDF5C\uD855\uDD35"],["9940","\uD843\uDCCF"],["99a1","\uD85E\uDD67"],["9a40","\uD846\uDFC2"],["9aa1","\uD840\uDC94\uD840\uDEB7\uD840\uDFA0\uD841\uDCD7\uD841\uDDD5\uD841\uDE15\uD841\uDE76\uD845\uDEBA\uD842\uDEC2\uD842\uDECD\uD842\uDFBF\uD87E\uDC3B\uD842\uDFCB\uD842\uDFFB\uD843\uDC3B\uD843\uDC53\uD843\uDC65\uD843\uDC7C\uD843\uDC8D\uD843\uDCB5\uD843\uDCDD\uD843\uDCED\uD843\uDD6F\uD843\uDDB2\uD843\uDDC8\uD843\uDE04\uD843\uDE0E\uD843\uDED7\uD843\uDF90\uD843\uDF2D\uD843\uDE73\uD843\uDFBC\uD844\uDC5C\uD844\uDC4F\uD844\uDC76\uD844\uDC7B\uD844\uDC88\uD844\uDC96\uD844\uDCBF\uD844\uDCD3\uD844\uDD2F\uD844\uDD3B\uD844\uDEE3\uD844\uDF75\uD844\uDF36\uD845\uDD77\uD845\uDE19\uD845\uDFC3\uD845\uDFC7\uD846\uDC2D\uD846\uDD6A"],["9b40","\uD846\uDE2D\uD846\uDE45\uD847\uDC2A\uD847\uDC70\uD847\uDCAC\uD847\uDEC8\uD847\uDED5\uD847\uDF15\uD848\uDC45\uD848\uDE7C\uD848\uDFD7\uD848\uDFFA\uD849\uDF2A\uD84A\uDC71\uD84A\uDD4F\uD84A\uDD67\uD84A\uDD93\uD84A\uDED5\uD84A\uDEE8\uD84A\uDF0E\uD84A\uDF3F\uD84B\uDC4C"],["9b62","\uD84B\uDC88\uD84B\uDCB7\uD856\uDFE8\uD84B\uDD08\uD84B\uDD12\uD84B\uDDB7\uD84B\uDD95\uD84B\uDE42\uD84B\uDF74\uD84B\uDFCC\uD84C\uDC33\uD84C\uDC66\uD84C\uDF1F\uD84C\uDFDE\uD85E\uDE79\uD84D\uDD67\uD84D\uDDF3\uD852\uDDBA\uD84D\uDE1A\uD84D\uDF16\uD840\uDF46"],["9ba1","\uD84E\uDEA7\uD85D\uDE57\uD857\uDFE2\uD84F\uDE11\uD84F\uDEB9\uD85D\uDDFE\uD848\uDC9A\uD850\uDD19\uD862\uDE9A\uD850\uDEEE\uD850\uDF0D\uD850\uDC3B\uD850\uDF34\uD850\uDF96\uD852\uDE45\uD841\uDDCA\uD841\uDE11\uD847\uDEA8\uD84F\uDCFF\uD851\uDC04\uD851\uDCD6\uD851\uDE74\uD851\uDF2F\uD861\uDDE8\uD866\uDDC9\uD848\uDDC3\uD862\uDF4E\uD852\uDC12\uD852\uDCFB\uD852\uDE15\uD852\uDEC0\uD843\uDC78\uD853\uDEA5\uD853\uDF86\uD841\uDF79\uD854\uDC2C\uD854\uDE99\uD855\uDC19\uD84F\uDF4A\uD852\uDEA7\uD855\uDC46\uD855\uDC6E\uD85A\uDF52\uD855\uDD3F\uD85D\uDE32\uD855\uDD5E\uD855\uDD62\uD855\uDD66\uD855\uDFC7\uD852\uDD3F\uD856\uDC5D\uD84C\uDFCC\uD856\uDD03\uD862\uDD48\uD856\uDEAE\uD856\uDF89\uD857\uDC06\uD847\uDD90\uD858\uDD02\uD85F\uDC12\uD858\uDDB2\uD853\uDF9A\uD859\uDC02\uD859\uDC4A"],["9c40","\uD85A\uDFF7\uD859\uDC84\uD846\uDD1C\uD852\uDDF6\uD859\uDC88\uD84F\uDFEF\uD859\uDD12\uD859\uDDBF\uD859\uDEB5\uD849\uDF1B\uD855\uDFE1\uD87E\uDCCD\uD851\uDD21\uD859\uDEFC\uD852\uDD34\uD85B\uDCBD\uD859\uDF99\uD85A\uDC6E\uD859\uDC11\uD85A\uDC5E\uD85A\uDCC7\uD864\uDCC0\uD842\uDE11\uD85A\uDD26\uD85A\uDD39\uD85A\uDDFA\uD85A\uDE2D\uD859\uDC69\uD840\uDC21\uD85A\uDE34\uD85A\uDF5B\uD84D\uDD19\uD85A\uDF9D\uD85B\uDCA4\uD85B\uDDAE"],["9ca1","\uD849\uDD8D\uD85C\uDC4B\uD85C\uDDCD\uD85C\uDE80\uD85C\uDE85\uD848\uDD7A\uD85C\uDE8B\uD85C\uDEE6\uD852\uDDD0\uD85D\uDC50\uD843\uDEF8\uD84A\uDD26\uD861\uDC73\uD845\uDFB1\uD852\uDE2A\uD846\uDC20\uD867\uDCAD\uD866\uDCA4\uD85D\uDFCC\uD85E\uDC58\uD845\uDE0A\uD84D\uDF2F\uD860\uDCE8\uD844\uDFC5\uD85E\uDDDD\uD864\uDDA8\uD85C\uDCAF\uD862\uDDAB\uD85E\uDDFD\uD85E\uDE0A\uD85E\uDF0B\uD85F\uDD66\uD850\uDD7A\uD860\uDC09\uD868\uDEDF\uD860\uDF18\uD85B\uDE07\uD860\uDD6F\uD860\uDC23\uD85A\uDDB5\uD844\uDFED\uD84C\uDE2F\uD860\uDC48\uD863\uDC30\uD860\uDC83\uD862\uDD49\uD852\uDD88\uD852\uDEA5\uD84F\uDF81\uD860\uDC90\uD860\uDCF4\uD860\uDD2E\uD847\uDFA1\uD860\uDD4F"],["9d40","\uD860\uDD89\uD860\uDDAF\uD860\uDE1A\uD860\uDF06\uD860\uDF2F\uD860\uDF8A\uD861\uDC68\uD861\uDEAA\uD862\uDD56\uD862\uDDB8\uD862\uDDE7\uD862\uDDE8\uD862\uDF46\uD862\uDFD4\uD863\uDC09\uD863\uDFC5\uD864\uDCEC\uD864\uDD10\uD864\uDD3C\uD864\uDD5E\uD852\uDECA\uD865\uDCE7\uD865\uDDE9\uD865\uDDB0\uD865\uDDB8\uD865\uDF32\uD866\uDCD1\uD866\uDD49\uD866\uDD6A\uD866\uDDC3\uD866\uDE28\uD866\uDF0E\uD867\uDD5A\uD867\uDD9B\uD867\uDEF8\uD867\uDF23\uD868\uDE93\uD868\uDEFF\uD869\uDDCB\uD843\uDC9C"],["9da1","\uD849\uDCB0\uD852\uDE93\uD862\uDF2C\uD85E\uDC9D\uD845\uDFF5\uD860\uDC24\uD862\uDF6C\uD862\uDF99\uD85E\uDE3E\uD859\uDEAF\uD85D\uDE55\uD84F\uDCB7\uD855\uDE35\uD856\uDD56\uD857\uDE81\uD858\uDE58\uD843\uDE6D\uD84F\uDE88\uD853\uDC9E\uD845\uDFF6\uD846\uDC7B\uD857\uDC4A\uD854\uDF11\uD867\uDD98\uD857\uDED8\uD84F\uDD40\uD843\uDFEA\uD843\uDD49\uD84D\uDEBA\uD843\uDE9D\uD860\uDEE2\uD843\uDC41\uD843\uDC96\uD854\uDD48\uD843\uDE76\uD84B\uDC62"],["9e40","\uD843\uDEA2\uD844\uDC75\uD84A\uDF43\uD84B\uDEB3\uD843\uDDA7\uD85A\uDC8A\uD844\uDCC1\uD851\uDF06\uD85A\uDC93\uD849\uDEF4\uD85F\uDD2F\uD850\uDDA3\uD85F\uDD73\uD85B\uDED0\uD85C\uDEB6\uD844\uDDD9\uD84F\uDCFC\uD869\uDEA9\uD843\uDEAC\uD843\uDEF9\uD847\uDCA2\uD853\uDFC2\uD85F\uDFF9\uD843\uDFEB"],["9ea1","\uD84B\uDDA0\uD851\uDFE0\uD867\uDD7C\uD843\uDFEC\uD843\uDE0A\uD85D\uDDA3\uD843\uDFED"],["9ead","\uD858\uDC48\uD844\uDD87\uD851\uDE18\uD852\uDF6E\uD856\uDE95\uD842\uDD79"],["9ec5","\uD849\uDC65\uD867\uDEAC\uD84F\uDCFE\uD867\uDF30\uD853\uDFA9\uD865\uDD9E\uD867\uDFDE\uD84F\uDDB6\uD85C\uDEB2\uD859\uDFB3\uD84D\uDF20\uD84F\uDEF7\uD84F\uDE2C\uD841\uDC8E\uD843\uDEB6\uD85F\uDF2E\uD869\uDC34\uD84C\uDCDA\uD850\uDFF2"],["9ef5","\uD844\uDEA9\uD852\uDD63\uD867\uDE06\uD85C\uDCAE"],["9f40","\uD845\uDF6C\uD865\uDCD0\uD858\uDF35\uD85C\uDD64\uD843\uDD28\uD85B\uDD22\uD852\uDEE2\uD843\uDD71"],["9f4f","\uD847\uDF0F\uD847\uDDD1\uD852\uDD3E"],["9fa1","\uD845\uDF6D"],["9fae",""],["9fb2","\uD863\uDE97\uD85B\uDD23\uD840\uDFFC\uD857\uDC21\uD84F\uDCFD"],["9fc1","\uD852\uDD19\uD843\uDCD4"],["9fc9","\uD840\uDDF2"],["9fdb",""],["9fe7",""],["9feb","\uD869\uDE4A"],["9ff0","\uD860\uDF7D\uD852\uDE77"],["a040","\uD862\uDE5A\uD868\uDEB2\uD87E\uDC40\uD852\uDEBB"],["a055","\uD846\uDC3B\uD85B\uDE05"],["a058","\uD849\uDD1B"],["a05b",""],["a063","\uD858\uDD59"],["a073","\uD84C\uDFF5"],["a0a1","\uD862\uDFC2\uD863\uDE39"],["a0a6","\uD847\uDD46\uD843\uDF3B"],["a0ae",""],["a0b0","\uD857\uDF1A\uD85D\uDC86\uD859\uDFCC\uD85B\uDED1"],["a0d4","\uD850\uDC11"],["a0e2","\uD862\uDF2D\uD84F\uDCC7\uD857\uDED7\uD85D\uDE56\uD855\uDD31\uD846\uDD44\uD844\uDEFE\uD866\uDD03\uD85B\uDDDC\uD85C\uDCAD\uD858\uDDAD\uD862\uDE0F\uD84D\uDE77\uD840\uDCEE\uD85A\uDC46\uD853\uDF0E\uD858\uDF4C\uD858\uDE6B"],["a3c0","",31,""],["c6a1","",9,"",9,"",9,"\xa8",23],["c740","",58,""],["c7a1","",81,"",5,"",4],["c840","",26,"",25,"\uD840\uDCCC\uD840\uDC8A"],["c8a1","\uD85D\uDE07"],["c8cd",""],["c8f5","\xf8"],["f9fe",""],["fa40","\uD841\uDD47\uD841\uDDDF\uD84F\uDFC5\uD852\uDD42\uD862\uDDE4\uD846\uDDDB\uD84F\uDCC8\uD852\uDD33\uD862\uDDAA\uD840\uDEA0\uD85A\uDFB3\uD844\uDF05\uD849\uDCED\uD85B\uDD29\uD85E\uDE84\uD84D\uDE00\uD852\uDEB1\uD849\uDD13\uD840\uDF7E\uD840\uDF80\uD840\uDF47\uD841\uDC1F\uD852\uDDA4\uD841\uDC87\uD84C\uDFB4\uD842\uDFFF\uD848\uDCFC\uD840\uDEE5\uD849\uDD30\uD841\uDD8E\uD84C\uDE33\uD846\uDD83\uD841\uDDB3\uD84F\uDC99"],["faa1","\uD852\uDEA6\uD84D\uDF2D\uD85A\uDF13\uD862\uDEDE\uD84F\uDF80\uD842\uDD54\uD84F\uDFEC\uD842\uDFE2\uD845\uDF26\uD845\uDEE8\uD861\uDEAB\uD845\uDD96\uD845\uDE13\uD862\uDE9B\uD855\uDF72\uD842\uDF8F\uD84F\uDFEB\uD84B\uDDA3\uD843\uDC77\uD85A\uDF53\uD843\uDD74\uD845\uDF0D\uD843\uDEDD\uD843\uDD4D"],["fb40","\uD862\uDDBC\uD849\uDE98\uD846\uDCD7\uD850\uDC3A\uD851\uDC35\uD844\uDCB4\uD84C\uDE8A\uD862\uDF66\uD844\uDE4F\uD850\uDDA5\uD85B\uDC7E\uD845\uDC16\uD845\uDC54\uD850\uDF63\uD852\uDFF5\uD844\uDE3C\uD868\uDD50\uD850\uDE78"],["fba1","\uD845\uDE3E\uD845\uDE92\uD843\uDD4E\uD85B\uDC81\uD85B\uDD2A\uD845\uDFDC\uD845\uDFFB\uD845\uDFB2\uD85B\uDDA6\uD846\uDC28\uD845\uDED5\uD85B\uDE45\uD852\uDDA9\uD85B\uDFA1\uD849\uDD54\uD846\uDD11\uD845\uDEB8\uD85E\uDE0E\uD840\uDE04\uD846\uDE34\uD856\uDDCC\uD841\uDDA5\uD846\uDF44\uD847\uDCA5\uD85A\uDF28\uD847\uDDF9\uD847\uDE37\uD847\uDEA4\uD852\uDD01\uD848\uDC49\uD848\uDD73\uD851\uDCBC\uD843\uDCD3\uD845\uDF71\uD861\uDC82"],["fc40","\uD840\uDDC1\uD87E\uDC94\uD844\uDF3A\uD85A\uDC88\uD848\uDFD0\uD849\uDC71\uD85B\uDE6E\uD862\uDE36\uD854\uDE50\uD847\uDF6A\uD85C\uDCF8\uD849\uDE68\uD840\uDE9E\uD862\uDE29\uD846\uDC77\uD849\uDFB4\uD852\uDD82\uD852\uDD8F\uD85E\uDE53\uD87E\uDCA6\uD85B\uDED2\uD841\uDE56\uD84F\uDFB7"],["fca1","\uD84A\uDC5F\uD862\uDF9D\uD866\uDD5D\uD84A\uDD80\uD84A\uDCC1\uD840\uDD18\uD845\uDF70\uD84B\uDE0D\uD852\uDDDF\uD844\uDF8E\uD845\uDFFC\uD84B\uDE36\uD850\uDC8C\uD855\uDF1D\uD852\uDE28\uD852\uDE23\uD84C\uDC7E\uD852\uDD40\uD846\uDC29\uD84D\uDC00\uD84C\uDDF7\uD84C\uDDF8\uD84C\uDDA4\uD84C\uDDA5\uD843\uDE75\uD854\uDDE6\uD847\uDE3D\uD84C\uDE31\uD861\uDDF4\uD84C\uDDC8\uD854\uDF13\uD84A\uDCF7\uD850\uDF9C\uD852\uDE21\uD84D\uDFC2\uD850\uDDCD\uD864\uDCED\uD84C\uDFE6\uD85B\uDDA0"],["fd40","\uD84D\uDC6F\uD862\uDEDF\uD84D\uDDCD\uD84D\uDE3C\uD862\uDE4A\uD840\uDFC9\uD84D\uDE59\uD848\uDD2A\uD84D\uDF03\uD864\uDD9C\uD842\uDD23\uD849\uDFCD\uD84E\uDEDB\uD840\uDFB5\uD846\uDD58\uD84E\uDF5A\uD84F\uDEFC\uD849\uDC8B\uD852\uDCF1\uD85A\uDF51\uD84F\uDDBC\uD84F\uDDBD\uD850\uDDA4\uD852\uDD0C\uD852\uDD00"],["fda1","\uD84F\uDCC9\uD843\uDD32\uD84C\uDDF9\uD849\uDC91\uD85B\uDD25\uD85B\uDDA1\uD85B\uDDEB\uD852\uDD7F\uD850\uDC85\uD85B\uDE72\uD85B\uDF74\uD862\uDF21\uD84F\uDE2F\uD84F\uDF82\uD84C\uDC4B\uD84F\uDE30\uD845\uDC97\uD850\uDC3D\uD864\uDD70\uD850\uDD44\uD850\uDC91\uD850\uDD55\uD850\uDC39\uD84F\uDFF0\uD84F\uDFB4\uD850\uDD3F\uD850\uDD56\uD850\uDD57\uD850\uDD40\uD858\uDDDD\uD850\uDE77\uD850\uDF65\uD850\uDEC1\uD851\uDC5A\uD852\uDE27\uD852\uDE22\uD862\uDFE8"],["fe40","\uD855\uDE05\uD852\uDD74\uD84C\uDC44\uD852\uDC23\uD862\uDC2B\uD862\uDC04\uD843\uDC3A\uD85A\uDE2E\uD850\uDDE2\uD845\uDEE7\uD852\uDE24\uD852\uDDB7\uD852\uDD8D\uD852\uDDFB\uD852\uDE26\uD841\uDDC3\uD84A\uDCAD\uD863\uDEB2\uD852\uDE8C"],["fea1","\uD850\uDD5F\uD852\uDE79\uD862\uDF8F\uD863\uDC03\uD846\uDC9E\uD846\uDD88\uD863\uDED9\uD846\uDE4B\uD863\uDEAC\uD853\uDF82\uD853\uDD13\uD858\uDFF5\uD85A\uDD11\uD85A\uDD0E\uD85B\uDF9F\uD854\uDC9D\uD854\uDD7D\uD847\uDE1C\uD854\uDE20\uD84C\uDEAC\uD862\uDD64\uD862\uDD68\uD845\uDEC1\uD844\uDF76\uD852\uDE12\uD855\uDDE0\uD85D\uDE0C\uD862\uDF2B\uD858\uDC83\uD849\uDE1C\uD856\uDC57\uD85E\uDF39\uD85C\uDD26\uD864\uDD0D"]]')},80093:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127,""],["8140","",5,"",9,"",6,""],["8180","",6,"",4,"",4,"",5,""],["8240","",4,"",8,"",4,"",11],["8280","",10,"",4,"",7,"",5,"",8,"",20,"",4,"",6,""],["8340","",17,"",5,"",10,"",4,"",9,""],["8380","",5,"",13,"",28,"",4,"",4,"",5],["8440","",5,"",5,""],["8480","",9,"",4,"",6,"",6,"",9,"",5,"",10,"",7,""],["8540","",9,""],["8580","",4,"",6,"",4,"",4,"",7,""],["8640","",4,"",5,"",4,"",5,""],["8680","",4,"",4,"",5,"",6,"",8,"",4,"",4,"",4,""],["8740","",7,"",11,"",4,"",4],["8780","",7,"",6,"",14,"",10,"",6,"",12,"",8,"",5,"",6],["8840","",9,"",4,"",4,""],["8880","",4,"",6,"",8,"",6,"",7,"",4,"",4,"",7],["8940","",5,"",6,"",4,"",5,"",4,"",16,""],["8980","",4,"",4,"",7,"",17,"",10,"",13,"",5,"",7,"",4,""],["8a40","",4,"",12,""],["8a80","",5,"",6,"",4,"",11,"",6,"",4,"",4,"",9,"",5],["8b40","",8,"",17,"",6,"",13,""],["8b80","",4,"",4,"",5,"",4,"",4,"",22,"",11,"",25,"",7,"",6],["8c40","",7,""],["8c80","",8,"",4,"",6,"",6,"",6,"",4,"",4,"",4],["8d40","",5,"",5,"",5,"",6,"",9,"",4],["8d80","",5,"",4,"",4,"",4,"",7,"",7,"",10,"",10,"",12,"",21,""],["8e40","",21,"",12,"",6,"",12,""],["8e80","",4,"",7,"",4,"",4,"",5,"",6,"",4,"",14,"",4,"",4,"",6],["8f40","",5,"",11,"",8,""],["8f80","",6,"",14,"",5,"",5,"",4,""],["9040","",4,"",4,"",6,""],["9080","",7,"",4,"",4,"",4,"",4,"",18,"",6],["9140","",6,"",6,"",18,"",4,""],["9180","",6,"",8,"",9,"",5,"",4,"",4,"",16,"",13,"",8,"",5,"",4,""],["9240","",6,"",5,""],["9280","",5,"",7,"",6,""],["9340","",6,"",4,"",4,"",5,""],["9380","",5,"",4,"",6,"",4,"",7,"",9,"",6,"",8,"",4,"",6,""],["9440","",24,"",7,"",7,"",4,"",8],["9480","",4,"",4,"",14,"",7,"",7,""],["9540","",4,"",4,"",6,""],["9580","",4,"",4,"",8,"",4,"",4,"",25,"",7,"",5,""],["9640","",5,"",4,""],["9680","",7,"",9,"",7,"",4,"",6,"",6,"",5],["9740","",7,"",8,"",7,"",9,""],["9780","",6,"",5,"",4,"",9,"",4,"",11,"",7,"",16,""],["9840","",4,"",5,"",9,""],["9880","",7,"",5,"",11,"",9,"",9,"",11,"",5,"",5,"",6,"",4,"",7,"",6,""],["9940","",4,"",10,"",6,"",8,"",4,"",7,"",5],["9980","",114,"",6],["9a40","",11,"",7,"",13,""],["9a80","",4,"",7,"",7,"",6,"",4,"",4,"",7,"",6,"",4,"",4,""],["9b40","",4,""],["9b80","",5,"",4,"",4,"",5,""],["9c40","",7,""],["9c80","",7,"",7,"",10,"",14,"",4,"",6,"",5],["9d40","",7,"",4,"",9,"",6,""],["9d80","",9,"",5,"",6,"",12,"",4,"",10,"",5,"",5,"",6,"",10,""],["9e40","",7,"",32,"",7,"",6,"",6],["9e80","",9,"",17,"",13,"",11,"",12,"",12,""],["9f40","",6,"",10,"",4,"",10,"",7,""],["9f80","",13,"",12,"",4,"",4,"",5,"",4,"",4,"",6,"",5,"",8,"",9,"",4],["a040","",9,"",5,"",9,"",11,"",19],["a080","",9,"",6,"",4,"",11,"",11,"",6,""],["a1a1","\xb7\xa8",7,"\xb1\xd7\xf7\xb0\xa4\xa7"],["a2a1","",9],["a2b1","",19,"",19,"",9],["a2e5","",9],["a2f1","",11],["a3a1","",88,""],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a6e0",""],["a6ee",""],["a6f4",""],["a7a1","",5,"",25],["a7d1","",5,"",25],["a840","",35,"",6],["a880","",7,""],["a8a1","\xe1\xe0\xe9\xe8\xed\xec\xf3\xf2\xfa\xf9\xfc\xea"],["a8bd",""],["a8c0",""],["a8c5","",36],["a940","",8,""],["a959",""],["a95c",""],["a960","",9,"",8],["a980","",4,""],["a996",""],["a9a4","",75],["aa40","",5,"",5,"",8],["aa80","",7,"",10,""],["ab40","",11,"",4,"",5,"",4],["ab80","",6,"",4],["ac40","",10,"",8,"",5,"",4,"",11],["ac80","",6,"",12,"",4,""],["ad40","",10,"",7,"",15,"",12],["ad80","",9,"",8,"",6,""],["ae40","",6,"",7,"",4,""],["ae80","",7,"",6,"",4,""],["af40","",4,""],["af80",""],["b040","",6,"",5,"",4,"",6,"",7,""],["b080","",7,"",8,"",9,""],["b140","",4,"",7,"",10,""],["b180","",4,"",7,"",7,""],["b240","",11,"",5,"",11,"",4],["b280","",12,"",8,"",4,""],["b340","",5,""],["b380","",11,"",7,"",6,""],["b440","",7,"",9],["b480","",4,"",5,"",6,""],["b540","",5,"",9,"",4,"",14,"",4,"",8,""],["b580","",6,"",4,""],["b640","",6,"",11,"",10,"",4,"",5,""],["b680","",6,"",4,""],["b740","",14,"",5,"",9,"",4,"",16],["b780","",6,""],["b840","",4,"",10,"",10,"",9,"",5,""],["b880","",4,""],["b940","",5,"",10,"",6,""],["b980","",7,""],["ba40","",4,"",4,"",7,"",5,""],["ba80","",4,"",5,"",12,"",5,""],["bb40","",9,"",36,"",5,"",9],["bb80","",6,"",4,""],["bc40","",6,"",6,"",5,"",7,"",13,"",5],["bc80","",14,"",6,""],["bd40","",54,"",7],["bd80","",32,""],["be40","",12,"",6,"",42],["be80","",32,""],["bf40","",62],["bf80","",4,"",4,"",21,""],["c040","",35,"",23,""],["c080","",6,"",9,""],["c140","",4,"",7,"",4,"",4,"",6,""],["c180","",4,"",4,"",5,""],["c240","",6,"",5,""],["c280","",13,"",5,"",11,""],["c340","",5,"",4,"",6,""],["c380","",12,"",4,""],["c440","",5,"",4,"",4,"",5,"",4,""],["c480","",7,"",5,"",6,""],["c540","",14,"",4,"",5,"",4,"",5,""],["c580","",7,"",7,""],["c640",""],["c680","",4,"",9,""],["c740","",4,"",4,"",6,"",6,"",6,""],["c780",""],["c840","",4,"",5,"",5,"",7,"",5,"",7,""],["c880","",6,"",4,"",4,""],["c940","",4,"",7,"",12,""],["c980","",4,"",4,"",10,""],["ca40","",8,"",8,"",9,"",4,"",10],["ca80","",4,"",8,""],["cb40","",6,"",10,"",6,"",5,"",6,"",6,"",4,""],["cb80","",5,"",6,"",14,""],["cc40","",4,"",10,"",15,"",13,""],["cc80","",11,"",4,"",7,""],["cd40","",6,"",6,"",4,"",5,"",4,"",4,""],["cd80",""],["ce40","",6,"",5,"",7,""],["ce80","",4,"",6,"",4,""],["cf40","",4,"",4,"",6,"",9],["cf80","",5,"",7,"",4,""],["d040","",13,"",5,"",5,"",5,"",6,""],["d080","",4,"",4,"",5,""],["d140","",4,"",4,"",6,"",5],["d180","",4,"",4,"",4,""],["d240","",8,"",24,"",5,"",19,""],["d280","",26,""],["d340","",30,"",6],["d380","",4,"",5,"",21,""],["d440","",31,"",8,"",21],["d480","",25,"",6,""],["d540","",7,"",7,"",46],["d580","",32,""],["d640","",34,"",27],["d680","",30,""],["d740","",31,"",4,"",25],["d780","",24,""],["d840","",8,"",7,"",5,"",6,"",6,"",6,""],["d880","",6,"",20,""],["d940","",62],["d980","",32,""],["da40","",14,"",8,"",4,"",9,""],["da80","",12,""],["db40","",6,"",7,"",4,""],["db80","",4,"",5,"",11,""],["dc40","",4,"",6,"",6,"",11,"",6,"",7],["dc80","",10,"",21,""],["dd40","",62],["dd80","",32,""],["de40","",32,""],["de80","",4,""],["df40","",5,"",4,"",4,"",5,"",4,"",6,""],["df80","",4,""],["e040","",19,""],["e080","",10,"",6,"",8,""],["e140","",4,"",6,"",5,"",5,""],["e180","",10,"",9,"",8,""],["e240","",62],["e280","",32,"",5,""],["e340","",45,"",16],["e380","",7,"",24,""],["e440","",5,"",24,"",31],["e480","",32,""],["e540","",51,"",10],["e580","",31,""],["e640","",34,"",27],["e680","",29,""],["e740","",7,"",54],["e780","",32,"",6,"",4,""],["e840","",14,"",43,""],["e880","",20,""],["e940","",7,"",42],["e980","",32,""],["ea40","",27,"",6,""],["ea80","",4,"",12,""],["eb40","",9,"",7,"",9,"",6,""],["eb80","",4,""],["ec40","",8,"",4,"",18,"",7],["ec80","",4,"",7,"",4,"",4,""],["ed40","",6,"",46],["ed80","",4,"",23,""],["ee40","",62],["ee80","",32,"",4,"",6,""],["ef40","",5,"",37,"",4],["ef80","",30,"",4,"",8,""],["f040","",4,"",28,"",26],["f080","",9,"",12,"",4,"",6,""],["f140","",10,"",47],["f180","",32,""],["f240","",62],["f280","",32,""],["f340","",17,"",6,"",4,""],["f380","",8,"",6,""],["f440","",5,"",10,"",10,"",7,"",5],["f480","",32,""],["f540","",62],["f580","",32,""],["f640","",62],["f680","",32,"",5,"",5,"",4,"",7,""],["f740","",62],["f780","",4,"",4,""],["f840","",62],["f880","",32],["f940","",62],["f980","",32],["fa40","",62],["fa80","",32],["fb40","",27,"",9,""],["fb80","",5,"",8,"",5,""],["fc40","",8,"",4,"",8,"",6],["fc80","",4,"",5,"",8,""],["fd40","",4,"",4,"",10,"",38],["fd80","",5,"",11,"",4,""],["fe40",""]]')},23102:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["8141","",4,"",6,""],["8161","",9,"",5,""],["8181","",18,"",4,"",6,"",5,"",6,"",7,"",7,"",4,"",4,""],["8241","",7,"",5],["8261","",6,"",5,""],["8281","",7,"",7,"",4,"",10,"",5,"",17,"",7,"",6,"",7,"",18],["8341","",5,"",5,"",7],["8361","",18,""],["8381","",4,"",6,"",5,"",5,"",46,"",6,"",5,"",8],["8441","",5,"",8],["8461","",18],["8481","",7,"",6,"",5,"",10,"",5,"",18,"",5,"",6,"",5,"",26,""],["8541","",5,"",4,"",6,"",4],["8561","",5,"",5,"",6,""],["8581","",6,"",6,"",9,"",26,"",29,"",6,"",5,""],["8641","",6,"",5,""],["8661","",6,"",10],["8681","",22,"",4,"",6,"",5,"",6,"",22,"",4,""],["8741","",9,"",15],["8761","",18,""],["8781","",5,"",7,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",4],["8841","",4,"",5,"",6,"",4],["8861","",4,""],["8881","",15,"",4,"",6,"",5,"",54,""],["8941","",6,"",5,""],["8961","",10,"",5,""],["8981","",21,"",18,"",18,"",6,"",6,"",7,"",15],["8a41","",10,"",6,""],["8a61","",4,"",18,""],["8a81","",4,"",19,"",5,"",7,"",5,"",6,"",5,"",4,"",5,"",26,""],["8b41","",5,"",4,"",6,""],["8b61","",6,"",8],["8b81","",52,"",4,"",6,"",5,"",18,"",18],["8c41","",15,"",4],["8c61","",6,"",5,"",6,"",5],["8c81","",12,"",26,"",50,"",5,"",16],["8d41","",16,"",8],["8d61","",17,""],["8d81","",4,"",33,"",6,"",7,"",6,"",9,"",6,"",5,"",6,""],["8e41","",6,"",5,"",8],["8e61","",4,"",19],["8e81","",13,"",6,"",4,"",6,"",5,"",6,"",5,"",11,"",7,"",6,"",5,"",7],["8f41","",7,"",17],["8f61","",7,"",6,"",4],["8f81","",5,"",7,"",5,"",6,"",5,"",18,"",6,"",26,"",6,"",5],["9041","",6,"",5,""],["9061","",5,"",15],["9081","",12,"",6,"",5,"",4,"",6,"",4,"",5,"",11,"",33,""],["9141","",6,"",5],["9161","",9,"",5],["9181","",20,"",4,"",5,"",14,"",33,"",7,"",5,"",6],["9241","",7,"",4,""],["9261","",7,"",7,"",4],["9281","",21,"",18,"",6,"",7,"",6,"",35,""],["9341","",4,""],["9361","",6,"",8],["9381","",37,"",4,"",4,"",6,"",5,"",7,"",22,""],["9441","",5,"",5,"",8],["9461","",5,"",6,"",12],["9481","",5,"",6,"",6,"",9,"",22,"",4,"",6,"",10,"",6,"",24],["9541","",11,"",5,""],["9561","",6,"",5,""],["9581","",6,"",35,"",4,"",4,"",4,"",6,"",5,"",13,"",14],["9641","",23,""],["9661","",6,"",5,"",8],["9681","",10,"",5,"",13,"",33,"",6,"",44],["9741","",16,"",8],["9761","",17,"",7],["9781","",11,"",5,"",6,"",89,""],["9841","",16,"",5,""],["9861","",6,"",15],["9881","",21,"",6,"",5,"",4,"",6,"",5,"",6,"",5,"",6,"",5,""],["9941","",6,"",5,""],["9961","",6,"",5,""],["9981","",8,"",5,"",4,"",11,"",5,"",6,"",6,"",6,"",7,"",6,"",5,""],["9a41","",16],["9a61","",6,"",6,""],["9a81","",4,"",6,"",5,"",5,"",6,"",5,"",5,"",33,"",5,"",6,""],["9b41","",6,"",8],["9b61","",17,"",7],["9b81","",25,"",4,"",5,"",50,"",22,""],["9c41","",4,"",5,"",5],["9c61","",8,"",6,"",9],["9c81","",8,"",6,"",6,"",9,"",26,"",6,"",5,"",18,"",6,"",12],["9d41","",13,"",8],["9d61","",25],["9d81","",8,"",5,"",9,"",6,"",10,"",6,"",5,"",6,"",5,""],["9e41","",7,"",9,""],["9e61","",4,"",6,""],["9e81","",6,"",6,"",6,"",5,"",10,"",5,"",6,"",5,"",6,""],["9f41","",5,"",4,"",5,""],["9f61","",6,"",5,""],["9f81","",4,"",5,"",6,"",5,"",6,"",4,"",6,"",7,"",4,"",4,""],["a041","",5,"",6,""],["a061","",5,"",13],["a081","",4,"",4,"",4,"",6,"",5,"",6,"",5,"",26,"",4,"",5,"",7,""],["a141","",18,""],["a161","",6,"",5,""],["a181","",14,"",5,"",4,"\xb7\xa8\xad",9,"\xb1\xd7\xf7\xb0\xa7"],["a241","",5,"",18],["a261","",6,"",18],["a281","",7,"",6,"",7,"\xb4\xb8\xa1\xbf\xa4\xb6\xae"],["a341","",6,"",10,""],["a361","",6,"",16],["a381","",16,"",4,"",58,"",32,""],["a441","",5,""],["a461","",5,"",12],["a481","",28,"",93],["a541","",4,"",6,"",5,""],["a561","",17,"",5,""],["a581","",16,"",14,"",9],["a5b0","",9],["a5c1","",16,"",6],["a5e1","",16,"",6],["a641","",19,""],["a661","",5,"",5,"",6],["a681","",6,"",18,"",7],["a741","",4,"",6,"",7],["a761","",22,""],["a781","",6,"",5,"",7,"",9,"",9,"",4,"",5,"",4,""],["a841","",10,"",14],["a861","",18,"",6],["a881","",19,"",11,"\xc6\xd0\xaa"],["a8a6",""],["a8a8","\xd8\xba\xde"],["a8b1","",27,"",25,"",14,"\xbd\xbc\xbe"],["a941","",14,"",10],["a961","",18],["a981","",14,"",6,"\xe6\xf0\xf8\xdf\xfe",27,"",25,"",14,"\xb9\xb2\xb3"],["aa41","",6,"",4,""],["aa61","",4,"",5,"",6,""],["aa81","",29,"",82],["ab41","",6,"",5,""],["ab61","",6,"",5,"",5],["ab81","",8,"",6,"",12,"",85],["ac41","",5,"",6,""],["ac61","",11,"",4],["ac81","",28,"",5,"",25],["acd1","",5,"",25],["ad41","",6,"",5,"",7],["ad61","",6,"",10,""],["ad81","",5,"",18,""],["ae41","",5,"",16],["ae61","",5,"",6,"",4],["ae81","",6,"",5,""],["af41","",19],["af61","",13,"",5,""],["af81","",5,"",6,"",5,""],["b041","",5,"",5,"",12],["b061","",5,"",19],["b081","",13,"",6,"",5,"",7,"",4,""],["b141","",6,"",5,""],["b161","",6,"",5,"",11],["b181","",14,"",6,""],["b241","",6,"",5,""],["b261","",18,"",5,""],["b281","",5,"",18,"",6,""],["b341","",19,""],["b361","",5,"",5,"",5],["b381","",5,"",5,"",19,"",4,""],["b441","",5,"",6,"",5],["b461","",6,"",10,""],["b481","",6,"",18,"",4,"",4,""],["b541","",14,"",5],["b561","",5,"",5,"",4],["b581","",6,"",5,"",11,""],["b641","",7,"",17],["b661","",15,""],["b681","",5,"",6,"",5,""],["b741","",13,"",6,""],["b761","",20,""],["b781","",6,"",14,""],["b841","",7,"",17],["b861","",8,"",13],["b881","",5,"",24,"",4,""],["b941","",6,"",5,""],["b961","",14,"",6,""],["b981","",22,"",4,"",4,""],["ba41","",5,"",6,""],["ba61","",5,"",4,"",5],["ba81","",6,"",9,""],["bb41","",4,"",5,"",4,""],["bb61","",6,"",5,""],["bb81","",31,""],["bc41","",17,""],["bc61","",5,"",6,""],["bc81","",4,"",6,"",5,"",5,"",4,""],["bd41","",7,"",7,""],["bd61","",5,"",13],["bd81","",5,"",25,""],["be41","",7,"",14],["be61","",7,"",7,""],["be81","",4,"",4,"",5,"",8,"",6,""],["bf41","",10,"",14],["bf61","",18,""],["bf81","",5,"",7,"",6,"",5,""],["c041","",5,"",6,"",5],["c061","",25],["c081","",6,"",5,"",7,""],["c141","",5,"",6,""],["c161","",19,""],["c181","",31,""],["c241","",4,"",5,""],["c261","",4,"",5,"",6,""],["c281","",5,"",7,"",9,""],["c341","",4],["c361","",4,"",5,"",11],["c381","",5,"",7,"",5,""],["c441","",7,"",7,""],["c461","",5,"",4],["c481","",5,"",11,""],["c541","",6,"",5,""],["c561","",6,"",5,"",4],["c581","",6,"",5,""],["c641","",6,"",5],["c6a1",""],["c7a1",""],["c8a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1","",5,"",4,""],["d2a1","",4,"",5,"",10,"",7,"",5,""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f5a1",""],["f6a1",""],["f7a1",""],["f8a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fda1",""]]')},39565:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["a140","\xb7"],["a1a1","\xa7\xaf\xd7\xf7\xb1",4,""],["a240","\xb0",7,""],["a2a1","",9,"",9,"",8,"",25,"",21],["a340","",16,"",6,"",16,"",6,"",10],["a3a1","",25,""],["a3e1",""],["a440",""],["a4a1",""],["a540",""],["a5a1",""],["a640",""],["a6a1",""],["a740",""],["a7a1",""],["a840",""],["a8a1",""],["a940",""],["a9a1",""],["aa40",""],["aaa1",""],["ab40",""],["aba1",""],["ac40",""],["aca1",""],["ad40",""],["ada1",""],["ae40",""],["aea1",""],["af40",""],["afa1",""],["b040",""],["b0a1",""],["b140",""],["b1a1",""],["b240",""],["b2a1",""],["b340",""],["b3a1",""],["b440",""],["b4a1",""],["b540",""],["b5a1",""],["b640",""],["b6a1",""],["b740",""],["b7a1",""],["b840",""],["b8a1",""],["b940",""],["b9a1",""],["ba40",""],["baa1",""],["bb40",""],["bba1",""],["bc40",""],["bca1",""],["bd40",""],["bda1",""],["be40",""],["bea1",""],["bf40",""],["bfa1",""],["c040",""],["c0a1",""],["c140",""],["c1a1",""],["c240",""],["c2a1",""],["c340",""],["c3a1",""],["c440",""],["c4a1",""],["c540",""],["c5a1",""],["c640",""],["c940",""],["c9a1",""],["ca40",""],["caa1",""],["cb40",""],["cba1",""],["cc40",""],["cca1",""],["cd40",""],["cda1",""],["ce40",""],["cea1",""],["cf40",""],["cfa1",""],["d040",""],["d0a1",""],["d140",""],["d1a1",""],["d240",""],["d2a1",""],["d340",""],["d3a1",""],["d440",""],["d4a1",""],["d540",""],["d5a1",""],["d640",""],["d6a1",""],["d740",""],["d7a1",""],["d840",""],["d8a1",""],["d940",""],["d9a1",""],["da40",""],["daa1",""],["db40",""],["dba1",""],["dc40",""],["dca1",""],["dd40",""],["dda1",""],["de40",""],["dea1",""],["df40",""],["dfa1",""],["e040",""],["e0a1",""],["e140",""],["e1a1",""],["e240",""],["e2a1",""],["e340",""],["e3a1",""],["e440",""],["e4a1",""],["e540",""],["e5a1",""],["e640",""],["e6a1",""],["e740",""],["e7a1",""],["e840",""],["e8a1",""],["e940",""],["e9a1",""],["ea40",""],["eaa1",""],["eb40",""],["eba1",""],["ec40",""],["eca1",""],["ed40",""],["eda1",""],["ee40",""],["eea1",""],["ef40",""],["efa1",""],["f040",""],["f0a1",""],["f140",""],["f1a1",""],["f240",""],["f2a1",""],["f340",""],["f3a1",""],["f440",""],["f4a1",""],["f540",""],["f5a1",""],["f640",""],["f6a1",""],["f740",""],["f7a1",""],["f840",""],["f8a1",""],["f940",""],["f9a1",""]]')},8873:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",127],["8ea1","",62],["a1a1","\xb4\xa8",9,"\xb1\xd7\xf7\xb0\xa7"],["a2a1",""],["a2ba",""],["a2ca",""],["a2dc",""],["a2f2","\xb6"],["a2fe",""],["a3b0","",9],["a3c1","",25],["a3e1","",25],["a4a1","",82],["a5a1","",85],["a6a1","",16,"",6],["a6c1","",16,"",6],["a7a1","",5,"",25],["a7d1","",5,"",25],["a8a1",""],["ada1","",19,"",9],["adc0",""],["addf","",4,""],["b0a1",""],["b1a1",""],["b2a1",""],["b3a1",""],["b4a1",""],["b5a1",""],["b6a1",""],["b7a1",""],["b8a1",""],["b9a1",""],["baa1",""],["bba1",""],["bca1",""],["bda1",""],["bea1",""],["bfa1",""],["c0a1",""],["c1a1",""],["c2a1",""],["c3a1",""],["c4a1",""],["c5a1",""],["c6a1",""],["c7a1",""],["c8a1",""],["c9a1",""],["caa1",""],["cba1",""],["cca1",""],["cda1",""],["cea1",""],["cfa1",""],["d0a1",""],["d1a1",""],["d2a1",""],["d3a1",""],["d4a1",""],["d5a1",""],["d6a1",""],["d7a1",""],["d8a1",""],["d9a1",""],["daa1",""],["dba1",""],["dca1",""],["dda1",""],["dea1",""],["dfa1",""],["e0a1",""],["e1a1",""],["e2a1",""],["e3a1",""],["e4a1",""],["e5a1",""],["e6a1",""],["e7a1",""],["e8a1",""],["e9a1",""],["eaa1",""],["eba1",""],["eca1",""],["eda1",""],["eea1",""],["efa1",""],["f0a1",""],["f1a1",""],["f2a1",""],["f3a1",""],["f4a1",""],["f9a1",""],["faa1",""],["fba1",""],["fca1",""],["fcf1","",9,""],["8fa2af","\xb8\xaf"],["8fa2c2","\xa1\xa6\xbf"],["8fa2eb","\xba\xaa\xa9\xae\xa4"],["8fa6e1",""],["8fa6e7",""],["8fa6e9",""],["8fa6ec",""],["8fa6f1",""],["8fa7c2","",10,""],["8fa7f2","",10,""],["8fa9a1","\xc6"],["8fa9a4",""],["8fa9a6",""],["8fa9a8",""],["8fa9ab","\xd8"],["8fa9af","\xde"],["8fa9c1","\xe6\xf0\xf8\xdf\xfe"],["8faaa1","\xc1\xc0\xc4\xc2\xc5\xc3\xc7\xc9\xc8\xcb\xca"],["8faaba","\xcd\xcc\xcf\xce\xd1\xd3\xd2\xd6\xd4\xd5\xda\xd9\xdc\xdb\xdd"],["8faba1","\xe1\xe0\xe4\xe2\xe5\xe3\xe7\xe9\xe8\xeb\xea"],["8fabbd","\xed\xec\xef\xee"],["8fabc5","\xf1\xf3\xf2\xf6\xf4\xf5\xfa\xf9\xfc\xfb\xfd\xff"],["8fb0a1",""],["8fb1a1",""],["8fb2a1","",4,""],["8fb3a1",""],["8fb4a1",""],["8fb5a1",""],["8fb6a1","",5,"",4,""],["8fb7a1","",4,""],["8fb8a1",""],["8fb9a1",""],["8fbaa1","",4,""],["8fbba1",""],["8fbca1","",4,""],["8fbda1","",4,""],["8fbea1","",4,""],["8fbfa1",""],["8fc0a1",""],["8fc1a1",""],["8fc2a1",""],["8fc3a1","",4,""],["8fc4a1",""],["8fc5a1",""],["8fc6a1",""],["8fc7a1",""],["8fc8a1",""],["8fc9a1","",4,"",4,""],["8fcaa1",""],["8fcba1",""],["8fcca1","",9,""],["8fcda1","",5,""],["8fcea1","",6,""],["8fcfa1",""],["8fd0a1",""],["8fd1a1",""],["8fd2a1","",5],["8fd3a1",""],["8fd4a1","",4,""],["8fd5a1",""],["8fd6a1",""],["8fd7a1",""],["8fd8a1",""],["8fd9a1","",4,"",6,""],["8fdaa1","",4,""],["8fdba1","",6,""],["8fdca1","",4,""],["8fdda1","",4,""],["8fdea1","",4,""],["8fdfa1",""],["8fe0a1",""],["8fe1a1","",4,""],["8fe2a1",""],["8fe3a1","",5,"",4,""],["8fe4a1","",4,""],["8fe5a1","",4,""],["8fe6a1",""],["8fe7a1",""],["8fe8a1","",4,""],["8fe9a1","",4],["8feaa1","",4,""],["8feba1","",4,""],["8feca1",""],["8feda1","",4,"",4,""]]')},65554:e=>{"use strict";e.exports=JSON.parse('{"uChars":[128,165,169,178,184,216,226,235,238,244,248,251,253,258,276,284,300,325,329,334,364,463,465,467,469,471,473,475,477,506,594,610,712,716,730,930,938,962,970,1026,1104,1106,8209,8215,8218,8222,8231,8241,8244,8246,8252,8365,8452,8454,8458,8471,8482,8556,8570,8596,8602,8713,8720,8722,8726,8731,8737,8740,8742,8748,8751,8760,8766,8777,8781,8787,8802,8808,8816,8854,8858,8870,8896,8979,9322,9372,9548,9588,9616,9622,9634,9652,9662,9672,9676,9680,9702,9735,9738,9793,9795,11906,11909,11913,11917,11928,11944,11947,11951,11956,11960,11964,11979,12284,12292,12312,12319,12330,12351,12436,12447,12535,12543,12586,12842,12850,12964,13200,13215,13218,13253,13263,13267,13270,13384,13428,13727,13839,13851,14617,14703,14801,14816,14964,15183,15471,15585,16471,16736,17208,17325,17330,17374,17623,17997,18018,18212,18218,18301,18318,18760,18811,18814,18820,18823,18844,18848,18872,19576,19620,19738,19887,40870,59244,59336,59367,59413,59417,59423,59431,59437,59443,59452,59460,59478,59493,63789,63866,63894,63976,63986,64016,64018,64021,64025,64034,64037,64042,65074,65093,65107,65112,65127,65132,65375,65510,65536],"gbChars":[0,36,38,45,50,81,89,95,96,100,103,104,105,109,126,133,148,172,175,179,208,306,307,308,309,310,311,312,313,341,428,443,544,545,558,741,742,749,750,805,819,820,7922,7924,7925,7927,7934,7943,7944,7945,7950,8062,8148,8149,8152,8164,8174,8236,8240,8262,8264,8374,8380,8381,8384,8388,8390,8392,8393,8394,8396,8401,8406,8416,8419,8424,8437,8439,8445,8482,8485,8496,8521,8603,8936,8946,9046,9050,9063,9066,9076,9092,9100,9108,9111,9113,9131,9162,9164,9218,9219,11329,11331,11334,11336,11346,11361,11363,11366,11370,11372,11375,11389,11682,11686,11687,11692,11694,11714,11716,11723,11725,11730,11736,11982,11989,12102,12336,12348,12350,12384,12393,12395,12397,12510,12553,12851,12962,12973,13738,13823,13919,13933,14080,14298,14585,14698,15583,15847,16318,16434,16438,16481,16729,17102,17122,17315,17320,17402,17418,17859,17909,17911,17915,17916,17936,17939,17961,18664,18703,18814,18962,19043,33469,33470,33471,33484,33485,33490,33497,33501,33505,33513,33520,33536,33550,37845,37921,37948,38029,38038,38064,38065,38066,38069,38075,38076,38078,39108,39109,39113,39114,39115,39116,39265,39394,189000]}')},9453:e=>{"use strict";e.exports=JSON.parse('[["a140","",62],["a180","",32],["a240","",62],["a280","",32],["a2ab","",5],["a2e3",""],["a2ef",""],["a2fd",""],["a340","",62],["a380","",31,""],["a440","",62],["a480","",32],["a4f4","",10],["a540","",62],["a580","",32],["a5f7","",7],["a640","",62],["a680","",32],["a6b9","",7],["a6d9","",6],["a6ec",""],["a6f3",""],["a6f6","",8],["a740","",62],["a780","",32],["a7c2","",14],["a7f2","",12],["a896","",10],["a8bc",""],["a8bf",""],["a8c1",""],["a8ea","",20],["a958",""],["a95b",""],["a95d",""],["a989","",11],["a997","",12],["a9f0","",14],["aaa1","",93],["aba1","",93],["aca1","",93],["ada1","",93],["aea1","",93],["afa1","",93],["d7fa","",4],["f8a1","",93],["f9a1","",93],["faa1","",93],["fba1","",93],["fca1","",93],["fda1","",93],["fe50",""],["fe80","",6,"",93],["8135f437",""]]')},84786:e=>{"use strict";e.exports=JSON.parse('[["0","\\u0000",128],["a1","",62],["8140","\xb4\xa8",9,"\xb1\xd7"],["8180","\xf7\xb0\xa7"],["81b8",""],["81c8",""],["81da",""],["81f0","\xb6"],["81fc",""],["824f","",9],["8260","",25],["8281","",25],["829f","",82],["8340","",62],["8380","",22],["839f","",16,"",6],["83bf","",16,"",6],["8440","",5,"",25],["8470","",5,"",7],["8480","",17],["849f",""],["8740","",19,"",9],["875f",""],["877e",""],["8780","",4,""],["889f",""],["8940",""],["8980",""],["8a40",""],["8a80",""],["8b40",""],["8b80",""],["8c40",""],["8c80",""],["8d40",""],["8d80",""],["8e40",""],["8e80",""],["8f40",""],["8f80",""],["9040",""],["9080",""],["9140",""],["9180",""],["9240",""],["9280",""],["9340",""],["9380",""],["9440",""],["9480",""],["9540",""],["9580",""],["9640",""],["9680",""],["9740",""],["9780",""],["9840",""],["989f",""],["9940",""],["9980",""],["9a40",""],["9a80",""],["9b40",""],["9b80",""],["9c40",""],["9c80",""],["9d40",""],["9d80",""],["9e40",""],["9e80",""],["9f40",""],["9f80",""],["e040",""],["e080",""],["e140",""],["e180",""],["e240",""],["e280",""],["e340",""],["e380",""],["e440",""],["e480",""],["e540",""],["e580",""],["e640",""],["e680",""],["e740",""],["e780",""],["e840",""],["e880",""],["e940",""],["e980",""],["ea40",""],["ea80",""],["ed40",""],["ed80",""],["ee40",""],["ee80",""],["eeef","",9,""],["f040","",62],["f080","",124],["f140","",62],["f180","",124],["f240","",62],["f280","",124],["f340","",62],["f380","",124],["f440","",62],["f480","",124],["f540","",62],["f580","",124],["f640","",62],["f680","",124],["f740","",62],["f780","",124],["f840","",62],["f880","",124],["f940",""],["fa40","",9,"",9,""],["fa80",""],["fb40",""],["fb80",""],["fc40",""]]')}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[789],()=>r(30802));module.exports=n})();