"use strict";exports.id=816,exports.ids=[816],exports.modules={82816:(a,b,c)=>{let d,e;c.r(b),c.d(b,{apps:()=>R,default:()=>S,openApp:()=>O});var f=c(1708),g=c(4573),h=c(76760),i=c(73136),j=c(57975),k=c(31421),l=c(51455),m=c(48161),n=c(73024);function o(){return void 0===e&&(e=(()=>{try{return n.statSync("/run/.containerenv"),!0}catch{return!1}})()||(void 0===d&&(d=function(){try{return n.statSync("/.dockerenv"),!0}catch{return!1}}()||function(){try{return n.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}()),d)),e}let p=()=>{if("linux"!==f.platform)return!1;if(m.release().toLowerCase().includes("microsoft"))return!o();try{return!!n.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")&&!o()}catch{return!1}},q=f.env.__IS_WSL_TEST__?p:p(),r=(()=>{let a,b="/mnt/";return async function(){if(a)return a;let c="/etc/wsl.conf",d=!1;try{await l.access(c,l.constants.F_OK),d=!0}catch{}if(!d)return b;let e=await l.readFile(c,{encoding:"utf8"}),f=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(e);return f?a=(a=f.groups.mountPoint.trim()).endsWith("/")?a:`${a}/`:b}})(),s=async()=>{let a=await r();return`${a}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`},t=async()=>q?s():`${f.env.SYSTEMROOT||f.env.windir||String.raw`C:\Windows`}\\System32\\WindowsPowerShell\\v1.0\\powershell.exe`;function u(a,b,c){let d=c=>Object.defineProperty(a,b,{value:c,enumerable:!0,writable:!0});return Object.defineProperty(a,b,{configurable:!0,enumerable:!0,get(){let a=c();return d(a),a},set(a){d(a)}}),a}let v=(0,j.promisify)(k.execFile);async function w(){if("darwin"!==f.platform)throw Error("macOS only");let{stdout:a}=await v("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]),b=/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(a);return b?.groups.id??"com.apple.Safari"}let x=(0,j.promisify)(k.execFile);async function y(a,{humanReadableOutput:b=!0,signal:c}={}){if("darwin"!==f.platform)throw Error("macOS only");let d={};c&&(d.signal=c);let{stdout:e}=await x("osascript",["-e",a,b?[]:["-ss"]],d);return e.trim()}async function z(a){return y(`tell application "Finder" to set app_path to application file id "${a}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)}let A=(0,j.promisify)(k.execFile),B={AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:"Edge",id:"com.microsoft.edge.old"},MSEdgeDHTML:{name:"Edge",id:"com.microsoft.edge"},MSEdgeHTM:{name:"Edge",id:"com.microsoft.edge"},"IE.HTTP":{name:"Internet Explorer",id:"com.microsoft.ie"},FirefoxURL:{name:"Firefox",id:"org.mozilla.firefox"},ChromeHTML:{name:"Chrome",id:"com.google.chrome"},BraveHTML:{name:"Brave",id:"com.brave.Browser"},BraveBHTML:{name:"Brave Beta",id:"com.brave.Browser.beta"},BraveSSHTM:{name:"Brave Nightly",id:"com.brave.Browser.nightly"}};class C extends Error{}async function D(a=A){let{stdout:b}=await a("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]),c=/ProgId\s*REG_SZ\s*(?<id>\S+)/.exec(b);if(!c)throw new C(`Cannot find Windows browser in stdout: ${JSON.stringify(b)}`);let{id:d}=c.groups,e=B[d];if(!e)throw new C(`Unknown browser ID: ${d}`);return e}let E=(0,j.promisify)(k.execFile);async function F(){if("darwin"===f.platform){let a=await w();return{name:await z(a),id:a}}if("linux"===f.platform){let{stdout:a}=await E("xdg-mime",["query","default","x-scheme-handler/http"]),b=a.trim();return{name:b.replace(/.desktop$/,"").replace("-"," ").toLowerCase().replaceAll(/(?:^|\s|-)\S/g,a=>a.toUpperCase()),id:b}}if("win32"===f.platform)return D();throw Error("Only macOS, Linux, and Windows are supported")}let G=(0,j.promisify)(k.execFile),H=h.dirname((0,i.fileURLToPath)("file:///Users/tbwa/scout-v7/node_modules/@azure/identity/node_modules/open/index.js")),I=h.join(H,"xdg-open"),{platform:J,arch:K}=f;async function L(){let a=await t(),b=String.raw`(Get-ItemProperty -Path "HKCU:\Software\Microsoft\Windows\Shell\Associations\UrlAssociations\http\UserChoice").ProgId`,c=g.Buffer.from(b,"utf16le").toString("base64"),{stdout:d}=await G(a,["-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand",c],{encoding:"utf8"}),e=d.trim(),f={ChromeHTML:"com.google.chrome",BraveHTML:"com.brave.Browser",MSEdgeHTM:"com.microsoft.edge",FirefoxURL:"org.mozilla.firefox"};return f[e]?{id:f[e]}:{}}let M=async(a,b)=>{let c;for(let d of a)try{return await b(d)}catch(a){c=a}throw c},N=async a=>{let b;if(Array.isArray((a={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...a}).app))return M(a.app,b=>N({...a,app:b}));let{name:c,arguments:d=[]}=a.app??{};if(d=[...d],Array.isArray(c))return M(c,b=>N({...a,app:{name:b,arguments:d}}));if("browser"===c||"browserPrivate"===c){let b={"com.google.chrome":"chrome","google-chrome.desktop":"chrome","com.brave.Browser":"brave","org.mozilla.firefox":"firefox","firefox.desktop":"firefox","com.microsoft.msedge":"edge","com.microsoft.edge":"edge","com.microsoft.edgemac":"edge","microsoft-edge.desktop":"edge"},e=q?await L():await F();if(e.id in b){let f=b[e.id];return"browserPrivate"===c&&d.push({chrome:"--incognito",brave:"--incognito",firefox:"--private-window",edge:"--inPrivate"}[f]),N({...a,app:{name:R[f],arguments:d}})}throw Error(`${e.name} is not supported as a default browser`)}let e=[],h={};if("darwin"===J)b="open",a.wait&&e.push("--wait-apps"),a.background&&e.push("--background"),a.newInstance&&e.push("--new"),c&&e.push("-a",c);else if("win32"!==J&&(!q||o()||c)){if(c)b=c;else{let a=!1;try{await l.access(I,l.constants.X_OK),a=!0}catch{}b=f.versions.electron??("android"===J||!H||"/"===H||!a)?"xdg-open":I}d.length>0&&e.push(...d),a.wait||(h.stdio="ignore",h.detached=!0)}else{b=await t(),e.push("-NoProfile","-NonInteractive","-ExecutionPolicy","Bypass","-EncodedCommand"),q||(h.windowsVerbatimArguments=!0);let f=["Start"];a.wait&&f.push("-Wait"),c?(f.push(`"\`"${c}\`""`),a.target&&d.push(a.target)):a.target&&f.push(`"${a.target}"`),d.length>0&&f.push("-ArgumentList",(d=d.map(a=>`"\`"${a}\`""`)).join(",")),a.target=g.Buffer.from(f.join(" "),"utf16le").toString("base64")}"darwin"===J&&d.length>0&&e.push("--args",...d),a.target&&e.push(a.target);let i=k.spawn(b,e,h);return a.wait?new Promise((b,c)=>{i.once("error",c),i.once("close",d=>{if(!a.allowNonzeroExitCode&&d>0)return void c(Error(`Exited with code ${d}`));b(i)})}):(i.unref(),i)},O=(a,b)=>{if("string"!=typeof a&&!Array.isArray(a))throw TypeError("Expected a valid `name`");let{arguments:c=[]}=b??{};if(null!=c&&!Array.isArray(c))throw TypeError("Expected `appArguments` as Array type");return N({...b,app:{name:a,arguments:c}})};function P(a){if("string"==typeof a||Array.isArray(a))return a;let{[K]:b}=a;if(!b)throw Error(`${K} is not supported`);return b}function Q({[J]:a},{wsl:b}){if(b&&q)return P(b);if(!a)throw Error(`${J} is not supported`);return P(a)}let R={};u(R,"chrome",()=>Q({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}})),u(R,"brave",()=>Q({darwin:"brave browser",win32:"brave",linux:["brave-browser","brave"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/BraveSoftware/Brave-Browser/Application/brave.exe",x64:["/mnt/c/Program Files/BraveSoftware/Brave-Browser/Application/brave.exe","/mnt/c/Program Files (x86)/BraveSoftware/Brave-Browser/Application/brave.exe"]}})),u(R,"firefox",()=>Q({darwin:"firefox",win32:String.raw`C:\Program Files\Mozilla Firefox\firefox.exe`,linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"})),u(R,"edge",()=>Q({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"})),u(R,"browser",()=>"browser"),u(R,"browserPrivate",()=>"browserPrivate");let S=(a,b)=>{if("string"!=typeof a)throw TypeError("Expected a `target`");return N({...b,target:a})}}};